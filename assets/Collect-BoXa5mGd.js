import{_ as K,r as k,K as H,q as O,c as v,w as t,a as c,u as R,o as r,b as l,d as e,y,A as W,H as z,I as D,z as u,f as _,B as G,e as b,L as w,D as J,C as Q}from"./index-Br3m33hw.js";import{M as X}from"./Input-C320-QDO.js";import{a as Y}from"./sound-BznpVhuQ.js";const Z={class:"action-bar"},ee={key:0},se=["onClick"],te={style:{color:"#6b7280"}},le={style:{display:"flex","flex-direction":"row",gap:"10px"}},oe={style:{"font-weight":"520"}},ae={style:{"padding-top":"3%"}},ne={style:{display:"flex","flex-direction":"row",gap:"10px",cursor:"pointer"}},ie={style:{color:"#71717a"}},ce={class:"audio-samples"},re={class:"samples-content"},de={class:"samples-index"},pe={class:"sample-btn"},ue=["src"],_e=["src"],me=["onClick"],fe=["onClick"],ve={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},ye={class:"btns"},ge={__name:"Collect",setup(he){const T=k("#f5f5f5"),x=R(),N=n=>{x.push({path:"/detail",query:{id:n}})};function $(n){I.value=n}const C=k([{voiceId:1,voiceImage:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",voiceName:"曲志明",voiceDescription:"例面求上。果圆相称斗织是。开电年。同利算术极七等被来。问广十世。",voiceCreationTime:new Date(2025,1,9,19,11),voiceIsCollected:!0,voiceSamples:[{sampleId:83,sampleIsPlaying:!1,sampleTitle:"拨伟大快但是脊梁",sampleText:"consectetur",sampleUrl:Y}]}]),I=k(""),B=k("搜索声音..."),S=H(()=>C.value.filter(n=>n.voiceName.includes(I.value))),U=n=>new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(new Date(n)),g=O({}),P=(n,s)=>{const m=C.value.find(o=>o.voiceId===n);if(!m)return;const d=m.voiceSamples[s],f=`${n}-${s}`;if(g[f]){const o=g[f];d.sampleIsPlaying?o.pause():(Object.values(g).forEach(p=>p.pause()),o.play())}else{const o=new Audio(d.sampleUrl);g[f]=o,o.addEventListener("ended",()=>{d.sampleIsPlaying=!1}),o.play()}d.sampleIsPlaying=!d.sampleIsPlaying,m.voiceSamples.forEach((o,p)=>{p!==s&&(o.sampleIsPlaying=!1)})},V=n=>{x.push({path:"/explanation",query:{id:n}})};return(n,s)=>{const m=c("el-header"),d=c("el-empty"),f=c("el-image"),o=c("el-col"),p=c("el-icon"),E=c("el-tag"),j=c("el-card"),q=c("el-popover"),M=c("el-row"),L=c("el-main"),A=c("el-container");return r(),v(A,{class:"sound-manager"},{default:t(()=>[l(m,{class:"display"},{default:t(()=>[s[0]||(s[0]=e("h1",{class:"title"},"我的收藏",-1)),e("div",Z,[l(X,{message:I.value,placeholder:B.value,color:T.value,class:"search-input","onUpdate:message":$},null,8,["message","placeholder","color"])])]),_:1}),l(L,null,{default:t(()=>[C.value.length===0?(r(),y("div",ee,[l(d,{description:"暂无数据"})])):W("",!0),(r(!0),y(z,null,D(S.value,a=>(r(),v(M,{key:a.voiceId,class:"voice-item"},{default:t(()=>[l(o,{span:2},{default:t(()=>[l(f,{style:{width:"70px",height:"70px","border-radius":"10px"},src:a.voiceImage,fit:"cover"},null,8,["src"])]),_:2},1024),l(o,{span:7},{default:t(()=>[e("div",{class:"voice-name",onClick:i=>N(a.voiceId)},u(a.voiceName),9,se),e("div",te,u(a.voiceDescription),1)]),_:2},1024),l(o,{span:4},{default:t(()=>[s[1]||(s[1]=e("div",{class:"item"},"创建时间",-1)),e("div",le,[l(p,{size:"20",style:{color:"#6b7280"}},{default:t(()=>[l(_(G))]),_:1}),e("span",oe,u(U(a.voiceCreationTime)),1)])]),_:2},1024),l(o,{span:3},{default:t(()=>[s[3]||(s[3]=e("div",{class:"item"},"状态",-1)),e("div",ae,[l(E,{type:"success",round:"",effect:"dark",style:{width:"50px","font-weight":"1000"}},{default:t(()=>s[2]||(s[2]=[b("成功")])),_:1})])]),_:1}),l(o,{span:4},{default:t(()=>[s[7]||(s[7]=e("div",{class:"item"},"音频示例",-1)),e("div",null,[l(q,{placement:"bottom",width:400,trigger:"click"},{reference:t(()=>[e("div",ne,[s[4]||(s[4]=e("div",{class:"logo"},null,-1)),e("span",ie,u(a.voiceSamples.length)+" 音频示例",1)])]),default:t(()=>[e("div",ce,[s[6]||(s[6]=e("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(r(!0),y(z,null,D(a.voiceSamples,(i,h)=>(r(),v(j,{key:h,class:"samples-item",shadow:"never"},{default:t(()=>[e("div",re,[e("div",null,[e("span",de,u(h+1),1),e("span",null,u(i.sampleTitle),1)]),e("div",pe,[e("audio",null,[e("source",{src:i.sampleUrl,type:"audio/mp4"},null,8,ue),e("source",{src:i.sampleUrl,type:"audio/x-m4a"},null,8,_e),s[5]||(s[5]=b(" 浏览器不支持音频播放 "))]),i.sampleIsPlaying?(r(),y("div",{key:1,class:"on",onClick:F=>{P(a.voiceId,h),i.sampleIsPlaying=!1}},null,8,fe)):(r(),y("div",{key:0,class:"close",onClick:F=>{P(a.voiceId,h),i.sampleIsPlaying=!0}},null,8,me))])]),e("div",ve,u(i.sampleText),1)]),_:2},1024))),128))])]),_:2},1024)])]),_:2},1024),l(o,{span:4},{default:t(()=>[e("div",ye,[l(_(w),{size:"large",color:"black",onClick:i=>V(a.voiceId)},{default:t(()=>s[8]||(s[8]=[b("使用声音")])),_:2},1032,["onClick"]),a.voiceIsCollected?(r(),v(_(w),{key:0,size:"large",class:"btn",onClick:i=>a.voiceIsCollected=!a.voiceIsCollected},{default:t(()=>[l(p,{size:"25",color:"black"},{default:t(()=>[l(_(J))]),_:1})]),_:2},1032,["onClick"])):(r(),v(_(w),{key:1,size:"large",class:"btn",onClick:i=>a.voiceIsCollected=!a.voiceIsCollected},{default:t(()=>[l(p,{size:"25",color:"black"},{default:t(()=>[l(_(Q))]),_:1})]),_:2},1032,["onClick"]))])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})}}},be=K(ge,[["__scopeId","data-v-182c7993"]]);export{be as default};
