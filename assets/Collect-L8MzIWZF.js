import{_ as H,r as C,J,q as O,c as g,w as s,a as d,u as R,o as c,b as l,e,y,A as W,G as $,H as j,z as p,g as _,B as I,f as x,K as w,D as Q,C as X}from"./index-BGxOWS0o.js";import{M as Y}from"./Input-D5X6TgO5.js";import{a as P}from"./sound-BznpVhuQ.js";const Z={class:"action-bar"},ee={key:0},te=["onClick"],se={style:{color:"#6b7280"}},le={style:{display:"flex","flex-direction":"row",gap:"10px"}},ae={style:{"font-weight":"520"}},oe={style:{"padding-top":"3%"}},ne={style:{display:"flex","flex-direction":"row",gap:"10px",cursor:"pointer"}},ie={style:{color:"#71717a"}},de={class:"audio-samples"},ce={class:"samples-content"},re={class:"samples-index"},ue={class:"sample-btn"},pe=["src"],_e=["src"],fe=["onClick"],me=["onClick"],ge={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},ye={class:"btns"},he={__name:"Collect",setup(ke){const B=C("#f5f5f5"),z=R(),N=n=>{z.push({path:"/detail",query:{id:n}})};function T(n){b.value=n}const v=C([{id:1,userName:"fc",image:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",name:"55",description:"1212",creationTime:new Date(2025,1,9,19,11),status:"成功",audioUrl:"/samples/sample1.mp3",peopleCount:11e4,shareCount:11,likeCount:20,collectCount:10,language:"ch",tag:"aaaaaaaaa",isLiked:!1,isUnliked:!1,isCollected:!1,sample:[{id:1,isPlaying:!1,title:"Default Sample",text:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",url:P},{id:2,isPlaying:!1,title:"方可让父母",text:"对侧人防热非人发热功耗一节课iklo",url:P}]},{id:2,userName:"fcds",image:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",name:"55",description:"1212",creationTime:new Date(2025,1,9,19,10),status:"成功",audioUrl:"/samples/sample1.mp3",peopleCount:15,shareCount:11,likeCount:20,collectCount:10,language:"en",tag:"1",isLiked:!1,isUnliked:!1,isCollected:!1,sample:[{id:1,isPlaying:!1,title:"Default Sample",text:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",url:P}]}]),b=C(""),U=C("搜索声音..."),V=J(()=>v.value.filter(n=>n.name.includes(b.value))),q=n=>new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(n),h=O({}),D=(n,t)=>{const f=v.value.find(a=>a.id===n);if(!f)return;const r=f.sample[t],m=`${n}-${t}`;if(h[m]){const a=h[m];r.isPlaying?a.pause():(Object.values(h).forEach(u=>u.pause()),a.play())}else{const a=new Audio(r.url);h[m]=a,a.addEventListener("ended",()=>{r.isPlaying=!1}),a.play()}r.isPlaying=!r.isPlaying,f.sample.forEach((a,u)=>{u!==t&&(a.isPlaying=!1)})},E=n=>{z.push({path:"/explanation",query:{id:n}})};return(n,t)=>{const f=d("el-header"),r=d("el-empty"),m=d("el-image"),a=d("el-col"),u=d("el-icon"),L=d("el-tag"),M=d("el-card"),S=d("el-popover"),A=d("el-row"),F=d("el-main"),K=d("el-container");return c(),g(K,{class:"sound-manager"},{default:s(()=>[l(f,{class:"display"},{default:s(()=>[t[0]||(t[0]=e("h1",{class:"title"},"我的收藏",-1)),e("div",Z,[l(Y,{message:b.value,placeholder:U.value,color:B.value,class:"search-input","onUpdate:message":T},null,8,["message","placeholder","color"])])]),_:1}),l(F,null,{default:s(()=>[v.value.length===0?(c(),y("div",ee,[l(r,{description:"暂无数据"})])):W("",!0),(c(!0),y($,null,j(V.value,o=>(c(),g(A,{key:o.id,class:"voice-item"},{default:s(()=>[l(a,{span:2},{default:s(()=>[l(m,{style:{width:"70px",height:"70px","border-radius":"10px"},src:o.image,fit:"cover"},null,8,["src"])]),_:2},1024),l(a,{span:7},{default:s(()=>[e("div",{class:"voice-name",onClick:i=>N(o.id)},p(o.name),9,te),e("div",se,p(o.description),1)]),_:2},1024),l(a,{span:4},{default:s(()=>[t[1]||(t[1]=e("div",{class:"item"},"创建时间",-1)),e("div",le,[l(u,{size:"20",style:{color:"#6b7280"}},{default:s(()=>[l(_(I))]),_:1}),e("span",ae,p(q(o.creationTime)),1)])]),_:2},1024),l(a,{span:3},{default:s(()=>[t[3]||(t[3]=e("div",{class:"item"},"状态",-1)),e("div",oe,[l(L,{type:"success",round:"",effect:"dark",style:{width:"50px","font-weight":"1000"}},{default:s(()=>t[2]||(t[2]=[x("成功")])),_:1})])]),_:1}),l(a,{span:4},{default:s(()=>[t[7]||(t[7]=e("div",{class:"item"},"音频示例",-1)),e("div",null,[l(S,{placement:"bottom",width:400,trigger:"click"},{reference:s(()=>[e("div",ne,[t[4]||(t[4]=e("div",{class:"logo"},null,-1)),e("span",ie,p(o.sample.length)+" 音频示例",1)])]),default:s(()=>[e("div",de,[t[6]||(t[6]=e("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(c(!0),y($,null,j(o.sample,(i,k)=>(c(),g(M,{key:k,class:"samples-item",shadow:"never"},{default:s(()=>[e("div",ce,[e("div",null,[e("span",re,p(k+1),1),e("span",null,p(i.title),1)]),e("div",ue,[e("audio",null,[e("source",{src:i.url,type:"audio/mp4"},null,8,pe),e("source",{src:i.url,type:"audio/x-m4a"},null,8,_e),t[5]||(t[5]=x(" 浏览器不支持音频播放 "))]),i.isPlaying?(c(),y("div",{key:1,class:"on",onClick:G=>{D(o.id,k),i.isPlaying=!1}},null,8,me)):(c(),y("div",{key:0,class:"close",onClick:G=>{D(o.id,k),i.isPlaying=!0}},null,8,fe))])]),e("div",ge,p(i.text),1)]),_:2},1024))),128))])]),_:2},1024)])]),_:2},1024),l(a,{span:4},{default:s(()=>[e("div",ye,[l(_(w),{size:"large",color:"black",onClick:i=>E(o.id)},{default:s(()=>t[8]||(t[8]=[x("使用声音")])),_:2},1032,["onClick"]),o.isCollected?(c(),g(_(w),{key:0,size:"large",class:"btn",onClick:i=>o.isCollected=!o.isCollected},{default:s(()=>[l(u,{size:"25",color:"black"},{default:s(()=>[l(_(Q))]),_:1})]),_:2},1032,["onClick"])):(c(),g(_(w),{key:1,size:"large",class:"btn",onClick:i=>o.isCollected=!o.isCollected},{default:s(()=>[l(u,{size:"25",color:"black"},{default:s(()=>[l(_(X))]),_:1})]),_:2},1032,["onClick"]))])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})}}},xe=H(he,[["__scopeId","data-v-ede1fc16"]]);export{xe as default};
