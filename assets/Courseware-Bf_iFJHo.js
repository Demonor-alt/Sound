import{_ as $e,r as n,d as Pe,X as Be,B as Q,C as r,f as l,e as t,a as s,b as c,g as _,h as o,Y as W,n as X,c as w,Z as Ee,N as x,E as H,K as De,L as Re,u as Oe,o as u,$ as je,D as p,F as qe,G as Ae,H as Ge,a0 as Ke,U as Y,O as Qe,a1 as We,a2 as Xe,a3 as He,a4 as Z,Q as J,a5 as Ye}from"./index-DL-B5ZUT.js";import{M as Ze,S as Je}from"./SelectChange-CuzbQ-JN.js";import{C as el,M as ll}from"./MySoundItem-C0WI_MkC.js";import{M as ee}from"./Input-BVcrRba8.js";import{e as tl}from"./mybank-BsAtLUtH.js";import{t as sl,f as le,M as te}from"./Select-Dx9g2GMA.js";import{d as ol,t as se,a as oe,b as ae}from"./actions-B3XHJWDw.js";import"./sound-BznpVhuQ.js";import"./collect-DcsPS0Aq.js";import"./request-kL41KtYK.js";import"./token-C2L8YMiJ.js";const ie="/Sound/assets/video-BuGOWj3X.mp4",al={class:"row"},il={class:"col1"},nl={class:"upload-section"},dl={class:"warning"},ul={key:1,class:"select-output-section"},vl={class:"select-voice-name"},rl={class:"select-voice-detail"},cl={class:"display-detail"},pl={class:"display-detail"},ml={class:"tag1"},fl={key:0,class:"tag2",style:{"margin-left":"5px"}},_l={class:"select-btns"},gl={class:"btns-plus"},yl={class:"button"},hl={class:"number"},bl={class:"button"},kl={class:"button"},wl={class:"number"},xl={style:{display:"flex","flex-direction":"row",gap:"10px"}},Vl={class:"my-header"},Cl=["id"],zl={class:"action-sum"},Fl={style:{width:"155px"}},Ul={class:"action-bar"},Il={class:"content"},Sl={style:{display:"flex","justify-content":"center"}},Nl={style:{"max-height":"53vh","overflow-y":"auto"}},Ll={style:{"max-height":"53vh","overflow-y":"auto"}},Tl={style:{"max-height":"53vh","overflow-y":"auto"}},Ml={class:"advanced-settings"},$l={class:"content-wrapper"},Pl={class:"mode"},Bl={class:"detail"},El={class:"demo-progress"},Dl={class:"detail"},Rl={class:"demo-progress"},Ol={class:"build"},jl={class:"col2"},ql={key:0},Al={class:"audio-item"},Gl=["src"],Kl=["src"],Ql={key:2},Wl={__name:"Courseware",setup(Xl){const M=Oe(),V=n(""),$=Pe(),P=$.query?$.query.id:void 0,B=n(),ne=(a,e)=>{B.value=a.data.uploadPPTUrl},de=n();Be(()=>M.currentRoute.value.fullPath,(a,e)=>{const k=a.match(/\?id=(\d+)/);k?V.value=k[1]:V.value="",y.value=!1,E(V)});const E=async a=>{let e=await tl(a);d.value=e.data};Q(async()=>{P&&E(P)});const ue=()=>{M.push("/createbank")},D=n("first"),y=n(!1),R=n("#ffffff"),ve=n([{value:"1",label:"推荐"},{value:"2",label:"最新"}]),re=n([{value:"1",label:"所有"},{value:"ch",label:"汉语"},{value:"en",label:"English"}]),O=n();Q(async()=>{let a=await ol();O.value=a.data});const C=n(""),z=n("1"),F=n(""),U=n(""),g=n(""),I=n("courseware"),ce=()=>{C.value="",z.value="1",F.value="",g.value=""},j=n("搜索声音..."),pe=a=>{C.value=a},me=a=>{z.value=a},fe=a=>{U.value=a,console.log(U.value)};function q(a){g.value=a}const b=n(!1),d=n(),A=n([{vedioId:1,vedioURL:ie}]),G=n({vedioId:1,vedioURL:ie}),h=n(!1),S=n(!1),_e=()=>{h.value=!h.value},ge=a=>{a.style.height="auto";const e=getComputedStyle(a).height;a.style.height="0",setTimeout(()=>{a.style.height=e},10)},ye=a=>{a.style.height="auto"},he=a=>{a.style.height=getComputedStyle(a).height},be=a=>{setTimeout(()=>{a.style.height="0"},10)},m=n(1),ke=()=>{m.value=Number((m.value+.1).toFixed(1))},we=()=>{m.value=Number((m.value-.1).toFixed(1))},f=n(1),xe=()=>{f.value=Number((f.value+.1).toFixed(1))},Ve=()=>{f.value=Number((f.value-.1).toFixed(1))},N=n(!1),Ce=()=>{N.value=!0,d.value.voiceId,B.value,S.value,m.value,f.value};return(a,e)=>{const k=c("el-upload"),v=c("el-icon"),ze=c("el-image"),L=c("el-col"),Fe=c("el-row"),Ue=c("el-popover"),T=c("el-tab-pane"),Ie=c("el-tabs"),Se=c("el-switch"),K=c("el-slider"),Ne=c("el-divider"),Le=c("el-empty");return u(),r("div",al,[l("div",il,[e[35]||(e[35]=l("h1",null,"课件转视频",-1)),l("div",nl,[t(k,{ref_key:"upload",ref:de,"auto-upload":!0,action:"/api/common/ppt",name:"file","on-success":ne,limit:1},{trigger:s(()=>[t(o(x),{color:"black",size:"large",type:"primary"},{default:s(()=>e[17]||(e[17]=[_("选择课件")])),_:1})]),_:1},512)]),l("div",dl,[t(v,{size:"12"},{default:s(()=>[t(o(je))]),_:1}),e[18]||(e[18]=_(" 视频质量取决于模型，为获得最佳效果，请使用高质量模型，严禁合成政治、色情、赌博、毒品等违法违规内容。 "))]),l("div",{class:"voice-selection"},[e[20]||(e[20]=l("div",{class:"text"},"语音声音",-1)),l("div",{style:{display:"flex","flex-direction":"row",gap:"10px"}},[e[19]||(e[19]=_("没有模型? ")),l("div",{class:"voice-selection-btn",onClick:ue},"一分钟创建")])]),d.value?(u(),r("div",ul,[t(Fe,{class:"select-voice-item"},{default:s(()=>[t(L,{span:4},{default:s(()=>[t(ze,{style:{width:"80px",height:"80px","border-radius":"15px"},src:d.value.voiceImage,fit:"cover"},null,8,["src"])]),_:1}),t(L,{span:17},{default:s(()=>[l("div",vl,p(d.value.voiceName),1),l("div",rl,[l("span",cl,p(d.value.userName),1),e[22]||(e[22]=l("div",{class:"mydot"},null,-1)),t(v,{size:"20",style:{color:"#6b7280"}},{default:s(()=>[t(o(qe))]),_:1}),l("span",pl,p(o(sl)(d.value.voiceCreationTime)),1),e[23]||(e[23]=l("div",{class:"mydot"},null,-1)),l("div",ml,p(d.value.voiceLanguage),1),d.value.voiceTag!==""?(u(),r("div",fl,p(d.value.voiceTag),1)):H("",!0)]),l("div",_l,[l("div",gl,[l("div",yl,[d.value.voiceIsLiked===1?(u(),r("div",{key:0,class:"likefill",onClick:e[1]||(e[1]=i=>o(se)(d.value))})):(u(),r("div",{key:1,class:"like",onClick:e[2]||(e[2]=i=>o(se)(d.value))})),l("div",hl,p(o(le)(d.value.voiceLikeCount)),1)]),l("div",bl,[d.value.voiceIsLiked===2?(u(),r("div",{key:0,class:"unlikefill",onClick:e[3]||(e[3]=i=>o(oe)(d.value))})):(u(),r("div",{key:1,class:"unlike",onClick:e[4]||(e[4]=i=>o(oe)(d.value))}))]),l("div",kl,[d.value.voiceIsCollected?(u(),w(v,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[6]||(e[6]=i=>o(ae)(d.value))},{default:s(()=>[t(o(Ge))]),_:1})):(u(),w(v,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[5]||(e[5]=i=>o(ae)(d.value))},{default:s(()=>[t(o(Ae))]),_:1})),l("div",wl,p(o(le)(d.value.voiceCollectCount)),1)])])])]),_:1}),t(L,{span:3},{default:s(()=>[l("div",xl,[t(v,{size:"28",style:{cursor:"pointer"},onClick:e[7]||(e[7]=i=>{y.value=!0})},{default:s(()=>[t(o(Ke))]),_:1}),t(v,{size:"28",style:{cursor:"pointer"},onClick:e[8]||(e[8]=i=>d.value="")},{default:s(()=>[t(o(Y))]),_:1})])]),_:1})]),_:1})])):(u(),r("div",{key:0,class:"output-section",onClick:e[0]||(e[0]=i=>y.value=!0)},e[21]||(e[21]=[l("div",{class:"add"},null,-1),l("div",{style:{"font-weight":"600"}},"选择语音声音",-1)]))),t(o(W),{modelValue:y.value,"onUpdate:modelValue":e[12]||(e[12]=i=>y.value=i),"show-close":!1},{header:s(({close:i,titleId:Te,titleClass:Me})=>[l("div",Vl,[l("div",{style:{"font-weight":"600"},id:Te,class:X(Me)},"选择语音",10,Cl),t(v,{style:{cursor:"pointer"},onClick:i},{default:s(()=>[t(o(Y))]),_:2},1032,["onClick"])])]),default:s(()=>[t(Ie,{modelValue:D.value,"onUpdate:modelValue":e[11]||(e[11]=i=>D.value=i),class:"demo-tabs",onTabClick:ce},{default:s(()=>[t(T,{label:"探索",name:"first"},{default:s(()=>[l("div",zl,[l("div",Fl,[t(ee,{message:g.value,placeholder:j.value,"onUpdate:message":q,size:"medium",background:"#FFF"},null,8,["message","placeholder"])]),l("div",Ul,[e[27]||(e[27]=l("span",{class:"header-tip"},"排序",-1)),t(te,{options:ve.value,"input-width":"155px",color:R.value,size:"medium",background:"#FFF","onUpdate:value":pe},null,8,["options","color"]),e[28]||(e[28]=l("span",{class:"header-tip"},"语言",-1)),t(te,{options:re.value,"input-width":"155px",color:R.value,size:"medium",background:"#FFF","onUpdate:value":me},null,8,["options","color"]),t(Ue,{placement:"bottom",width:250,visible:b.value},{reference:s(()=>[t(o(x),{size:"large",class:"btn",onClick:e[9]||(e[9]=i=>b.value=!b.value)},{default:s(()=>[t(v,{size:"20",color:"black"},{default:s(()=>[t(o(Qe))]),_:1})]),_:1})]),default:s(()=>[l("div",Il,[e[25]||(e[25]=l("div",{class:"content-header"},[l("span",{style:{"font-size":"large","font-weight":"600",color:"black"}},"筛选")],-1)),e[26]||(e[26]=l("div",null,"标签",-1)),t(Ze,{options:O.value,"input-width":"200px","onUpdate:value":fe},null,8,["options"]),l("div",Sl,[t(o(x),{color:"black",style:{width:"95%"},onClick:e[10]||(e[10]=i=>{b.value=!1,F.value=U.value})},{default:s(()=>e[24]||(e[24]=[_("应用")])),_:1})])])]),_:1},8,["visible"])])]),l("div",Nl,[t(Je,{path:I.value,nameValue:g.value,sortValue:C.value,languageValue:z.value,tagValue:F.value},null,8,["path","nameValue","sortValue","languageValue","tagValue"])])]),_:1}),t(T,{label:"收藏",name:"second"},{default:s(()=>[l("div",Ll,[t(el,{path:I.value},null,8,["path"])])]),_:1}),t(T,{label:"我的语音",name:"third"},{default:s(()=>[t(ee,{message:g.value,placeholder:j.value,class:"action-bar","onUpdate:message":q,size:"medium",background:"#FFF",style:{width:"20%"}},null,8,["message","placeholder"]),l("div",Tl,[t(ll,{nameValue:g.value,path:I.value},null,8,["nameValue","path"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),l("div",Ml,[l("div",{class:X(["toggle-button",{active:h.value}]),onClick:_e},[e[29]||(e[29]=l("span",{style:{"font-size":"large"}},"高级设置",-1)),h.value?(u(),w(v,{key:1},{default:s(()=>[t(o(Xe))]),_:1})):(u(),w(v,{key:0},{default:s(()=>[t(o(We))]),_:1}))],2),t(Ee,{name:"expand",onEnter:ge,onAfterEnter:ye,onBeforeLeave:he,onLeave:be},{default:s(()=>[He(l("div",$l,[l("div",Pl,[e[30]||(e[30]=l("div",{class:"detail"},[_(" 高品质模式 "),l("span",{style:{"font-size":"small"}},"生成更高品质的音频，但会增加延迟")],-1)),t(Se,{modelValue:S.value,"onUpdate:modelValue":e[13]||(e[13]=i=>S.value=i),class:"ml-2",style:{"--el-switch-on-color":"black","--el-switch-off-color":"#e4e7ed"}},null,8,["modelValue"])]),l("div",null,[l("div",Bl,[_(" 语速("+p(m.value.toFixed(1))+"x) ",1),e[31]||(e[31]=l("span",{style:{"font-size":"small"}},"基于参考音频的语速进行调整",-1))]),l("div",El,[t(v,{size:"20",onClick:we},{default:s(()=>[t(o(Z))]),_:1}),t(K,{modelValue:m.value,"onUpdate:modelValue":e[14]||(e[14]=i=>m.value=i),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),t(v,{size:"20",onClick:ke},{default:s(()=>[t(o(J))]),_:1})])]),l("div",null,[l("div",Dl,[_(" 音量("+p(f.value.toFixed(1))+") ",1),e[32]||(e[32]=l("span",{style:{"font-size":"small"}},"基于参考音频的音量进行调整",-1))]),l("div",Rl,[t(v,{size:"20",onClick:Ve},{default:s(()=>[t(o(Z))]),_:1}),t(K,{modelValue:f.value,"onUpdate:modelValue":e[15]||(e[15]=i=>f.value=i),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),t(v,{size:"20",onClick:xe},{default:s(()=>[t(o(J))]),_:1})])])],512),[[Ye,h.value]])]),_:1})]),l("div",Ol,[t(o(x),{color:"black",onClick:Ce},{default:s(()=>e[33]||(e[33]=[_("创建")])),_:1})]),t(o(W),{modelValue:N.value,"onUpdate:modelValue":e[16]||(e[16]=i=>N.value=i),"show-close":!1,width:"25%",title:"正在创建视频","align-center":""},{default:s(()=>e[34]||(e[34]=[l("div",{style:{margin:"20px"}},[l("div",{class:"loading-dots"},[l("span",{class:"dot dot1"}),l("span",{class:"dot dot2"}),l("span",{class:"dot dot3"})]),l("div",{style:{display:"flex","justify-content":"center",margin:"10px"}},"正在分析课件")],-1)])),_:1},8,["modelValue"])]),t(Ne,{direction:"vertical",style:{height:"auto"}}),l("div",jl,[G.value?(u(),r("div",ql,[e[36]||(e[36]=l("h3",null,"生成的视频",-1)),l("div",Al,[l("video",{src:G.value.vedioURL,controls:"",width:"100%",height:"250",style:{"border-radius":"10px",border:"1px solid #ddd"}},null,8,Gl)])])):H("",!0),e[37]||(e[37]=l("h3",null,"最新活动",-1)),A.value?(u(!0),r(De,{key:1},Re(A.value,i=>(u(),r("div",{key:i.vedioId,class:"audio-item"},[l("video",{src:i.vedioURL,controls:"",width:"100%",height:"250",style:{"border-radius":"10px",border:"1px solid #ddd"}},null,8,Kl)]))),128)):(u(),r("div",Ql,[t(Le,{description:"暂无数据"})]))])])}}},nt=$e(Wl,[["__scopeId","data-v-1f8fb893"]]);export{nt as default};
