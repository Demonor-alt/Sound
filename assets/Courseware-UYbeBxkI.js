import{_ as Be,r as n,x as De,Y as Ee,A as P,B as v,d as t,b as l,w as s,a as c,e as _,f as a,Z as H,n as X,c as x,$ as Re,N as V,D as Y,K as Oe,L as qe,u as je,o as u,a0 as Ae,C as p,F as Qe,G as Ge,H as Ke,a1 as We,V as Z,O as He,a2 as Xe,a3 as Ye,a4 as Ze,a5 as J,Q as ee,a6 as Je}from"./index-ASDG4jNC.js";import{d as et,t as te,b as le,c as se,M as tt,S as lt}from"./SelectChange-DaY0GNa4.js";import{C as st,M as ot}from"./MySoundItem-BmKC4vo2.js";import{M as oe}from"./Input-DndHeetU.js";import{e as at}from"./mybank-BUvVdnEH.js";import{t as it,f as ae}from"./display-CBjJZ8vl.js";import{M as ie}from"./Select-Cz5-04Ib.js";import{i as de}from"./request-CVh1Dyvc.js";import"./sound-BznpVhuQ.js";import"./collect-BxOjnXMV.js";import"./token-Hg0t3lnf.js";const ne="/Sound/assets/video-BuGOWj3X.mp4",nt=()=>de.get("/ppt/query"),dt=B=>de.post("/ppt",B),ut={class:"row"},rt={class:"col1"},vt={class:"upload-section"},ct={class:"warning"},pt={key:1,class:"select-output-section"},mt={class:"select-voice-name"},ft={class:"select-voice-detail"},_t={class:"display-detail"},gt={class:"display-detail"},yt={class:"tag1"},ht={key:0,class:"tag2",style:{"margin-left":"5px"}},bt={class:"select-btns"},kt={class:"btns-plus"},wt={class:"button"},xt={class:"number"},Vt={class:"button"},Ct={class:"button"},zt={class:"number"},Ft={style:{display:"flex","flex-direction":"row",gap:"10px"}},St={class:"my-header"},It=["id"],Ut={class:"action-sum"},Nt={style:{width:"155px"}},Tt={class:"action-bar"},Lt={class:"content"},Mt={style:{display:"flex","justify-content":"center"}},$t={style:{"max-height":"53vh","overflow-y":"auto"}},Pt={style:{"max-height":"53vh","overflow-y":"auto"}},Bt={style:{"max-height":"53vh","overflow-y":"auto"}},Dt={class:"advanced-settings"},Et={class:"content-wrapper"},Rt={class:"mode"},Ot={class:"detail"},qt={class:"demo-progress"},jt={class:"detail"},At={class:"demo-progress"},Qt={class:"build"},Gt={class:"col2"},Kt={key:0},Wt={class:"audio-item"},Ht=["src"],Xt=["src"],Yt={key:2},Zt={__name:"Courseware",setup(B){const D=je(),C=n(""),E=De(),R=E.query?E.query.id:void 0,O=n(),ue=(o,e)=>{O.value=o.data.uploadPPTUrl},re=n();Ee(()=>D.currentRoute.value.fullPath,(o,e)=>{const w=o.match(/\?id=(\d+)/);w?C.value=w[1]:C.value="",y.value=!1,q(C)});const q=async o=>{let e=await at(o);d.value=e.data};P(async()=>{R&&q(R)});const ve=()=>{D.push("/createbank")},j=n("first"),y=n(!1),A=n("#ffffff"),ce=n([{value:"1",label:"推荐"},{value:"2",label:"最新"}]),pe=n([{value:"1",label:"所有"},{value:"ch",label:"汉语"},{value:"en",label:"English"}]),Q=n();P(async()=>{let o=await et();Q.value=o.data});const z=n(""),F=n("1"),S=n(""),I=n(""),g=n(""),U=n("courseware"),me=()=>{z.value="",F.value="1",S.value="",g.value=""},G=n("搜索声音..."),fe=o=>{z.value=o},_e=o=>{F.value=o},ge=o=>{I.value=o,console.log(I.value)};function K(o){g.value=o}const b=n(!1),d=n(),N=n([{vedioId:1,vedioURL:ne}]),T=n({vedioId:1,vedioURL:ne}),h=n(!1),L=n(!1),ye=()=>{h.value=!h.value},he=o=>{o.style.height="auto";const e=getComputedStyle(o).height;o.style.height="0",setTimeout(()=>{o.style.height=e},10)},be=o=>{o.style.height="auto"},ke=o=>{o.style.height=getComputedStyle(o).height},we=o=>{setTimeout(()=>{o.style.height="0"},10)},m=n(1),xe=()=>{m.value=Number((m.value+.1).toFixed(1))},Ve=()=>{m.value=Number((m.value-.1).toFixed(1))},f=n(1),Ce=()=>{f.value=Number((f.value+.1).toFixed(1))},ze=()=>{f.value=Number((f.value-.1).toFixed(1))},k=n(!1),Fe=()=>{k.value=!0;const o={voiceId:d.value.voiceId,uploadPPTUrl:O.value,vedioMode:L.value,vedioSpeed:m.value,vedioVolume:f.value};setTimeout(async()=>{let e=await dt(o);T.value=e.data,k.value=!1},2e3)};return P(async()=>{let o=await nt();N.value=o.data}),(o,e)=>{const w=c("el-upload"),r=c("el-icon"),Se=c("el-image"),M=c("el-col"),Ie=c("el-row"),Ue=c("el-popover"),$=c("el-tab-pane"),Ne=c("el-tabs"),Te=c("el-switch"),W=c("el-slider"),Le=c("el-divider"),Me=c("el-empty");return u(),v("div",ut,[t("div",rt,[e[35]||(e[35]=t("h1",null,"课件转视频",-1)),t("div",vt,[l(w,{ref_key:"upload",ref:re,"auto-upload":!0,action:"/api/common/ppt",name:"file","on-success":ue,limit:1},{trigger:s(()=>[l(a(V),{color:"black",size:"large",type:"primary"},{default:s(()=>e[17]||(e[17]=[_("选择课件")])),_:1})]),_:1},512)]),t("div",ct,[l(r,{size:"12"},{default:s(()=>[l(a(Ae))]),_:1}),e[18]||(e[18]=_(" 视频质量取决于模型，为获得最佳效果，请使用高质量模型，严禁合成政治、色情、赌博、毒品等违法违规内容。 "))]),t("div",{class:"voice-selection"},[e[20]||(e[20]=t("div",{class:"text"},"语音声音",-1)),t("div",{style:{display:"flex","flex-direction":"row",gap:"10px"}},[e[19]||(e[19]=_("没有模型? ")),t("div",{class:"voice-selection-btn",onClick:ve},"一分钟创建")])]),d.value?(u(),v("div",pt,[l(Ie,{class:"select-voice-item"},{default:s(()=>[l(M,{span:4},{default:s(()=>[l(Se,{style:{width:"80px",height:"80px","border-radius":"15px"},src:d.value.voiceImage,fit:"cover"},null,8,["src"])]),_:1}),l(M,{span:17},{default:s(()=>[t("div",mt,p(d.value.voiceName),1),t("div",ft,[t("span",_t,p(d.value.userName),1),e[22]||(e[22]=t("div",{class:"mydot"},null,-1)),l(r,{size:"20",style:{color:"#6b7280"}},{default:s(()=>[l(a(Qe))]),_:1}),t("span",gt,p(a(it)(d.value.voiceCreationTime)),1),e[23]||(e[23]=t("div",{class:"mydot"},null,-1)),t("div",yt,p(d.value.voiceLanguage),1),d.value.voiceTag!==""?(u(),v("div",ht,p(d.value.voiceTag),1)):Y("",!0)]),t("div",bt,[t("div",kt,[t("div",wt,[d.value.voiceIsLiked===1?(u(),v("div",{key:0,class:"likefill",onClick:e[1]||(e[1]=i=>a(te)(d.value))})):(u(),v("div",{key:1,class:"like",onClick:e[2]||(e[2]=i=>a(te)(d.value))})),t("div",xt,p(a(ae)(d.value.voiceLikeCount)),1)]),t("div",Vt,[d.value.voiceIsLiked===2?(u(),v("div",{key:0,class:"unlikefill",onClick:e[3]||(e[3]=i=>a(le)(d.value))})):(u(),v("div",{key:1,class:"unlike",onClick:e[4]||(e[4]=i=>a(le)(d.value))}))]),t("div",Ct,[d.value.voiceIsCollected?(u(),x(r,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[6]||(e[6]=i=>a(se)(d.value))},{default:s(()=>[l(a(Ke))]),_:1})):(u(),x(r,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[5]||(e[5]=i=>a(se)(d.value))},{default:s(()=>[l(a(Ge))]),_:1})),t("div",zt,p(a(ae)(d.value.voiceCollectCount)),1)])])])]),_:1}),l(M,{span:3},{default:s(()=>[t("div",Ft,[l(r,{size:"28",style:{cursor:"pointer"},onClick:e[7]||(e[7]=i=>{y.value=!0})},{default:s(()=>[l(a(We))]),_:1}),l(r,{size:"28",style:{cursor:"pointer"},onClick:e[8]||(e[8]=i=>d.value="")},{default:s(()=>[l(a(Z))]),_:1})])]),_:1})]),_:1})])):(u(),v("div",{key:0,class:"output-section",onClick:e[0]||(e[0]=i=>y.value=!0)},e[21]||(e[21]=[t("div",{class:"add"},null,-1),t("div",{style:{"font-weight":"600"}},"选择语音声音",-1)]))),l(a(H),{modelValue:y.value,"onUpdate:modelValue":e[12]||(e[12]=i=>y.value=i),"show-close":!1},{header:s(({close:i,titleId:$e,titleClass:Pe})=>[t("div",St,[t("div",{style:{"font-weight":"600"},id:$e,class:X(Pe)},"选择语音",10,It),l(r,{style:{cursor:"pointer"},onClick:i},{default:s(()=>[l(a(Z))]),_:2},1032,["onClick"])])]),default:s(()=>[l(Ne,{modelValue:j.value,"onUpdate:modelValue":e[11]||(e[11]=i=>j.value=i),class:"demo-tabs",onTabClick:me},{default:s(()=>[l($,{label:"探索",name:"first"},{default:s(()=>[t("div",Ut,[t("div",Nt,[l(oe,{message:g.value,placeholder:G.value,"onUpdate:message":K,size:"medium",background:"#FFF"},null,8,["message","placeholder"])]),t("div",Tt,[e[27]||(e[27]=t("span",{class:"header-tip"},"排序",-1)),l(ie,{options:ce.value,"input-width":"155px",color:A.value,size:"medium",background:"#FFF","onUpdate:value":fe},null,8,["options","color"]),e[28]||(e[28]=t("span",{class:"header-tip"},"语言",-1)),l(ie,{options:pe.value,"input-width":"155px",color:A.value,size:"medium",background:"#FFF","onUpdate:value":_e},null,8,["options","color"]),l(Ue,{placement:"bottom",width:250,visible:b.value},{reference:s(()=>[l(a(V),{size:"large",class:"btn",onClick:e[9]||(e[9]=i=>b.value=!b.value)},{default:s(()=>[l(r,{size:"20",color:"black"},{default:s(()=>[l(a(He))]),_:1})]),_:1})]),default:s(()=>[t("div",Lt,[e[25]||(e[25]=t("div",{class:"content-header"},[t("span",{style:{"font-size":"large","font-weight":"600",color:"black"}},"筛选")],-1)),e[26]||(e[26]=t("div",null,"标签",-1)),l(tt,{options:Q.value,"input-width":"200px","onUpdate:value":ge},null,8,["options"]),t("div",Mt,[l(a(V),{color:"black",style:{width:"95%"},onClick:e[10]||(e[10]=i=>{b.value=!1,S.value=I.value})},{default:s(()=>e[24]||(e[24]=[_("应用")])),_:1})])])]),_:1},8,["visible"])])]),t("div",$t,[l(lt,{path:U.value,nameValue:g.value,sortValue:z.value,languageValue:F.value,tagValue:S.value},null,8,["path","nameValue","sortValue","languageValue","tagValue"])])]),_:1}),l($,{label:"收藏",name:"second"},{default:s(()=>[t("div",Pt,[l(st,{path:U.value},null,8,["path"])])]),_:1}),l($,{label:"我的语音",name:"third"},{default:s(()=>[l(oe,{message:g.value,placeholder:G.value,class:"action-bar","onUpdate:message":K,size:"medium",background:"#FFF",style:{width:"20%"}},null,8,["message","placeholder"]),t("div",Bt,[l(ot,{nameValue:g.value,path:U.value},null,8,["nameValue","path"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),t("div",Dt,[t("div",{class:X(["toggle-button",{active:h.value}]),onClick:ye},[e[29]||(e[29]=t("span",{style:{"font-size":"large"}},"高级设置",-1)),h.value?(u(),x(r,{key:1},{default:s(()=>[l(a(Ye))]),_:1})):(u(),x(r,{key:0},{default:s(()=>[l(a(Xe))]),_:1}))],2),l(Re,{name:"expand",onEnter:he,onAfterEnter:be,onBeforeLeave:ke,onLeave:we},{default:s(()=>[Ze(t("div",Et,[t("div",Rt,[e[30]||(e[30]=t("div",{class:"detail"},[_(" 高品质模式 "),t("span",{style:{"font-size":"small"}},"生成更高品质的音频，但会增加延迟")],-1)),l(Te,{modelValue:L.value,"onUpdate:modelValue":e[13]||(e[13]=i=>L.value=i),class:"ml-2",style:{"--el-switch-on-color":"black","--el-switch-off-color":"#e4e7ed"}},null,8,["modelValue"])]),t("div",null,[t("div",Ot,[_(" 语速("+p(m.value.toFixed(1))+"x) ",1),e[31]||(e[31]=t("span",{style:{"font-size":"small"}},"基于参考音频的语速进行调整",-1))]),t("div",qt,[l(r,{size:"20",onClick:Ve},{default:s(()=>[l(a(J))]),_:1}),l(W,{modelValue:m.value,"onUpdate:modelValue":e[14]||(e[14]=i=>m.value=i),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),l(r,{size:"20",onClick:xe},{default:s(()=>[l(a(ee))]),_:1})])]),t("div",null,[t("div",jt,[_(" 音量("+p(f.value.toFixed(1))+") ",1),e[32]||(e[32]=t("span",{style:{"font-size":"small"}},"基于参考音频的音量进行调整",-1))]),t("div",At,[l(r,{size:"20",onClick:ze},{default:s(()=>[l(a(J))]),_:1}),l(W,{modelValue:f.value,"onUpdate:modelValue":e[15]||(e[15]=i=>f.value=i),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),l(r,{size:"20",onClick:Ce},{default:s(()=>[l(a(ee))]),_:1})])])],512),[[Je,h.value]])]),_:1})]),t("div",Qt,[l(a(V),{color:"black",onClick:Fe},{default:s(()=>e[33]||(e[33]=[_("创建")])),_:1})]),l(a(H),{modelValue:k.value,"onUpdate:modelValue":e[16]||(e[16]=i=>k.value=i),"show-close":!1,width:"25%",title:"正在创建视频","align-center":""},{default:s(()=>e[34]||(e[34]=[t("div",{style:{margin:"20px"}},[t("div",{class:"loading-dots"},[t("span",{class:"dot dot1"}),t("span",{class:"dot dot2"}),t("span",{class:"dot dot3"})]),t("div",{style:{display:"flex","justify-content":"center",margin:"10px"}},"正在分析课件")],-1)])),_:1},8,["modelValue"])]),l(Le,{direction:"vertical",style:{height:"auto"}}),t("div",Gt,[T.value?(u(),v("div",Kt,[e[36]||(e[36]=t("h3",null,"生成的视频",-1)),t("div",Wt,[t("video",{src:T.value.vedioURL,controls:"",width:"100%",height:"250",style:{"border-radius":"10px",border:"1px solid #ddd"}},null,8,Ht)])])):Y("",!0),e[37]||(e[37]=t("h3",null,"最新活动",-1)),N.value?(u(!0),v(Oe,{key:1},qe(N.value,i=>(u(),v("div",{key:i.vedioId,class:"audio-item"},[t("video",{src:i.vedioURL,controls:"",width:"100%",height:"250",style:{"border-radius":"10px",border:"1px solid #ddd"}},null,8,Xt)]))),128)):(u(),v("div",Yt,[l(Me,{description:"暂无数据"})]))])])}}},rl=Be(Zt,[["__scopeId","data-v-2229b94f"]]);export{rl as default};
