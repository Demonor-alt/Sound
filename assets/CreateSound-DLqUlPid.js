import{_ as W,r as i,a as p,q as u,o as l,e as t,y as I,b as o,F as H,E as ee,c as j,w as n,x as V,f as v,g as T,z as ze,O as $e,P as Me,Q as Pe,R as Ie,S as ue,T as te,H as se,d as Re,I as Z,U as Be,u as Le,L as de,V as ce,W as Ee,X as Ne}from"./index-Be6A6laZ.js";import{t as Ae}from"./time-tY07ncrd.js";import{M as F}from"./Input-UNWe_Csj.js";const je={key:0},Ge={style:{"font-size":"18px","font-weight":"800","padding-bottom":"10px"}},Oe={class:"tag"},qe={style:{display:"flex","flex-direction":"row",gap:"10px"}},Fe={style:{"font-weight":"520",color:"#71717a"}},He={__name:"Recent",setup(S){const r=i([{id:1,image:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",name:"55",description:"1212",creationTime:new Date(2025,1,9,19,11),status:"成功",audioUrl:"/samples/sample1.mp3"},{id:2,image:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",name:"55",description:"1212",creationTime:new Date(2025,1,9,19,11),status:"成功",audioUrl:"/samples/sample1.mp3"}]);return(f,g)=>{const C=p("el-empty"),k=p("el-image"),h=p("el-col"),U=p("el-tag"),_=p("el-icon"),R=p("el-row");return l(),u(H,null,[g[0]||(g[0]=t("h2",null,"最近活动",-1)),r.value.length===0?(l(),u("div",je,[o(C,{description:"暂无数据"})])):I("",!0),(l(!0),u(H,null,ee(r.value,z=>(l(),j(R,{key:z.id,class:"voice-item"},{default:n(()=>[o(h,{span:5,style:{display:"flex","align-items":"center","justify-content":"center"}},{default:n(()=>[o(k,{style:{width:"75px",height:"75px","border-radius":"10px"},src:z.image,fit:"cover"},null,8,["src"])]),_:2},1024),o(h,{span:19},{default:n(()=>[t("div",Ge,V(z.name),1),t("div",Oe,[o(U,{type:"success",round:"",effect:"dark",style:{width:"50px","font-weight":"1000"}},{default:n(()=>[v(V(z.status),1)]),_:2},1024),t("div",qe,[o(_,{size:"20",style:{color:"#6b7280"}},{default:n(()=>[o(T(ze))]),_:1}),t("span",Fe,V(T(Ae)(z.creationTime)),1)])])]),_:2},1024)]),_:2},1024))),128))],64)}}},We=W(He,[["__scopeId","data-v-a71cd4ca"]]),Ye="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1739777896067'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='20116'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M899.117%20526.883a30.04%2030.04%200%200%201-3.976%205.365%2029.922%2029.922%200%200%201-1.548%201.58l-0.2%200.186a30.087%2030.087%200%200%201-5.472%204.057L165.858%20955.094c-0.047%200.027-0.1%200.046-0.143%200.073q-1.155%200.659-2.37%201.214c-0.145%200.066-0.289%200.132-0.434%200.2q-1.084%200.476-2.212%200.864c-0.238%200.083-0.475%200.165-0.713%200.241-0.645%200.205-1.3%200.386-1.963%200.548-0.348%200.085-0.7%200.168-1.044%200.24-0.56%200.116-1.126%200.213-1.7%200.3q-1.416%200.21-2.833%200.283h-0.016a29.977%2029.977%200%200%201-4.5-0.107c-0.243-0.024-0.483-0.057-0.723-0.086a30.513%2030.513%200%200%201-2.109-0.331%2031.377%2031.377%200%200%201-1.021-0.222c-0.6-0.139-1.191-0.293-1.78-0.469-0.331-0.1-0.658-0.2-0.984-0.315q-0.921-0.309-1.82-0.676c-0.241-0.1-0.479-0.2-0.716-0.307q-1.047-0.461-2.055-1c-0.108-0.058-0.215-0.118-0.322-0.177a29.753%2029.753%200%200%201-8.652-7.174l-0.071-0.089a29.873%2029.873%200%200%201-1.59-2.124c-0.3-0.439-0.589-0.885-0.866-1.34-0.108-0.179-0.233-0.341-0.338-0.524a29.859%2029.859%200%200%201-4-16V95.886a30%2030%200%200%201%2044.981-26.984l722.265%20417a30%2030%200%200%201%2010.988%2040.981zM180.89%20877.13l632.327-365.2L180.89%20146.856V877.13z'%20fill='%23333333'%20p-id='20117'%3e%3c/path%3e%3c/svg%3e",Ke="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1739697337704'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='6776'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M384%20256a42.666667%2042.666667%200%200%201%2042.666667%2042.666667v426.666666a42.666667%2042.666667%200%201%201-85.333334%200V298.666667a42.666667%2042.666667%200%200%201%2042.666667-42.666667z%20m256%200a42.666667%2042.666667%200%200%201%2042.666667%2042.666667v426.666666a42.666667%2042.666667%200%201%201-85.333334%200V298.666667a42.666667%2042.666667%200%200%201%2042.666667-42.666667z'%20fill='%2309090b'%20p-id='6777'%3e%3c/path%3e%3c/svg%3e",Qe="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1739777782533'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='11950'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M128%20420.576v200.864h149.12l175.456%20140.064V284.288l-169.792%20136.288H128z%20m132.256-64l204.288-163.968a32%2032%200%200%201%2052.032%2024.96v610.432a32%2032%200%200%201-51.968%2024.992l-209.92-167.552H96a32%2032%200%200%201-32-32v-264.864a32%2032%200%200%201%2032-32h164.256zM752%20458.656L870.4%20300.8a32%2032%200%201%201%2051.2%2038.4L792%20512l129.6%20172.8a32%2032%200%200%201-51.2%2038.4l-118.4-157.856-118.4%20157.856a32%2032%200%200%201-51.2-38.4l129.6-172.8-129.6-172.8a32%2032%200%200%201%2051.2-38.4l118.4%20157.856z'%20fill='%23000000'%20p-id='11951'%3e%3c/path%3e%3c/svg%3e",Xe="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%201.1//EN'%20'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd'%3e%3csvg%20t='1739777823986'%20class='icon'%20viewBox='0%200%201024%201024'%20version='1.1'%20xmlns='http://www.w3.org/2000/svg'%20p-id='17437'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='200'%20height='200'%3e%3cpath%20d='M534.848%20884.352c-10.624%200-16.224-1.248-22.848-2.176a155.584%20155.584%200%200%201-32.224-8.096%20125.856%20125.856%200%200%201-13.856-6.08%2073.088%2073.088%200%200%201-12.512-7.84l-175.776-136.32H192.128C138.304%20723.84%2096%20682.24%2096%20627.648v-214.976c0-54.592%2042.304-96.224%2096.128-96.224h81.184l175.04-149.888c2.336-2.048%204.832-3.904%207.456-5.632%2028.48-18.688%2078.048-39.52%20111.232-20.288%2031.328%2016.864%2040.96%2063.04%2040.96%20100.032v543.136c0%2035.136-7.808%2074.464-36.448%2091.776-10.56%207.36-26.048%208.768-36.704%208.768z%20m-16.96-71.296c2.272%200%206.88%200%209.184-2.24%209.184-4.544%207.776-17.952%207.776-27.008V240.64c0-9.056%200-25.792-9.216-30.336-6.912-4.512-22.976%207.68-29.888%2012.224l-195.52%20167.456H192.16c-13.76%200-22.976%209.056-22.976%2022.656v214.976c0%2013.568%209.184%2022.624%2022.976%2022.624h110.4l195.52%20151.616c4.608%202.272%2015.232%2011.2%2019.84%2011.2zM680.608%20384.256a32%2032%200%200%201%2045.6-44.896c45.568%2046.272%2068.608%20103.616%2068.608%20170.24%200%2067.136-23.456%20122.816-69.984%20164.8a32%2032%200%201%201-42.88-47.552c32.736-29.504%2048.864-67.808%2048.864-117.248%200-49.984-16.544-91.168-50.24-125.344z%20m101.568-86.816a32%2032%200%201%201%2046.4-44.064c68.48%2072.096%20103.04%20159.264%20103.04%20259.84%200%20100.928-34.784%20186.176-103.84%20253.888a32%2032%200%201%201-44.8-45.696c56.576-55.488%2084.64-124.224%2084.64-208.16%200-84.256-28.288-155.648-85.44-215.808z'%20fill='%23000000'%20p-id='17438'%3e%3c/path%3e%3c/svg%3e",Je=["src"],Ze={class:"audio_right"},et={class:"gap"},tt={class:"audio_time"},st={class:"volume"},ot={class:"volume_progress"},lt={__name:"AudioPlayer",props:{audioUrl:String,isPauseTtsAudio:Boolean},setup(S){const r=S,f=i(!0),g=i("0:00"),C=i("0:00"),k=i(0),h=i(80),U=i(!1),_=i(null),R=i(0);$e(()=>r.isPauseTtsAudio,(a,d)=>{a&&z()});function z(){_.value.pause(),f.value=!0}Me(()=>{Y()});function Y(){var a=_.value;a.loop=!1,a.src=r.audioUrl,a.addEventListener("ended",function(){f.value=!0,R.value=0},!1),a!=null&&(a.oncanplay=function(){k.value=a.duration,C.value=O(a.duration)},a.volume=.8,_.value.play(),f.value=!1)}function O(a){const d=Math.floor(a/60),E=Math.floor(a%60),$=String(d).padStart(2,"0"),K=String(E).padStart(2,"0");return`${$}:${K}`}function q(){_.value.paused?(_.value.play(),f.value=!1):(_.value.pause(),f.value=!0)}function b(a){var d=a.target.currentTime/a.target.duration;_.value.play&&(R.value=d*100,g.value=O(_.value.currentTime))}const A=a=>{if(console.log(a),!a)return;let d=k.value*(a/100);_.value.currentTime=d},B=a=>{_.value.volume=a/100};return(a,d)=>{const E=p("el-slider");return l(),u("div",null,[t("audio",{onTimeupdate:b,controls:"",ref_key:"audioRef",ref:_,style:{display:"none"}},[t("source",{src:S.audioUrl,type:"audio/mpeg"},null,8,Je),d[4]||(d[4]=v(" 您的浏览器不支持音频播放 "))],544),t("div",Ze,[t("div",et,[f.value?I("",!0):(l(),u("img",{key:0,onClick:q,class:"audio_icon",src:Ye,alt:"播放"})),f.value?(l(),u("img",{key:1,onClick:q,class:"audio_icon",src:Ke,alt:"暂停"})):I("",!0),t("div",tt,[t("span",null,V(g.value),1),d[5]||(d[5]=v("  /  ")),t("span",null,V(C.value),1)]),o(E,{class:"slider_box",modelValue:R.value,"onUpdate:modelValue":d[0]||(d[0]=$=>R.value=$),"show-tooltip":!1,onInput:A},null,8,["modelValue"]),t("div",st,[Pe(t("div",ot,[o(E,{"show-tooltip":"false",vertical:"",height:"100px",class:"volume_bar",modelValue:h.value,"onUpdate:modelValue":d[1]||(d[1]=$=>h.value=$),onChange:B},null,8,["modelValue"])],512),[[Ie,U.value]]),h.value<=0?(l(),u("img",{key:0,class:"volume_icon",onClick:d[2]||(d[2]=ue($=>U.value=!U.value,["stop"])),src:Qe,alt:""})):I("",!0),h.value>0?(l(),u("img",{key:1,class:"volume_icon",onClick:d[3]||(d[3]=ue($=>U.value=!U.value,["stop"])),src:Xe,alt:""})):I("",!0)])])])])}}},at=W(lt,[["__scopeId","data-v-de25752a"]]),nt={class:"steps"},re={__name:"Step",props:{currentStep:Number},setup(S){const r=S;return(f,g)=>{const C=p("el-divider");return l(),u("div",nt,[t("div",{class:te(["step",{active:r.currentStep===1}])},"1",2),g[0]||(g[0]=t("div",{class:"detail"},[t("div",{class:"title"},"步骤1"),v(" 声音详情 ")],-1)),o(C,{class:"thick-divider"}),t("div",{class:te(["step",{active:r.currentStep===2}])},"2",2),g[1]||(g[1]=t("div",{class:"detail"},[t("div",{class:"title"},"步骤2"),v(" 示例音频 ")],-1))])}}},it={class:"info-container"},ut={key:0,class:"info-item"},dt={__name:"Store",setup(S){const r=i(["山区的瀑布，在长期的水流冲击下，下方形成深潭，潭水清澈且富含氧气，为多种鱼类和水生植物创造了适宜的生存环境，体现了自然现象产生的独特生态价值。","草原上的季节性河流，在枯水期形成的浅滩和湿地，吸引了大量候鸟在此停歇觅食，成为候鸟迁徙途中的重要补给站，表明自然的季节性变化能带来生态上的便利。","高山上的积雪，在春季融化后形成溪流，为山下的农田和森林提供了灌溉水源，滋养了众多生物，这显示出自然的冰雪循环对生态系统的重要滋养作用。","热带雨林中的暴雨，频繁的降水使土壤表面形成许多小水坑，这些水坑成为蛙类和小型水生生物的繁殖场所，说明自然降水能创造特定的生态繁衍环境。","北方冬季的大雪，积雪覆盖大地，为土壤起到保温作用，同时雪水融化后为春季植物生长提供水分，体现了自然降雪对生态的多重益处。","潮汐的涨落，在海岸边形成了潮间带，这里富含各种贝类和藻类，为许多涉禽提供了丰富的食物来源，表明自然的潮汐现象能构建独特的生态食物链。","石灰岩地区的溶洞，洞内独特的环境为蝙蝠提供了栖息和繁殖的场所，同时溶洞内的地下河也孕育了特殊的水生生物，说明自然的岩溶地貌能形成特殊的生态系统。","山顶的强风，使得树木生长形态扭曲，但这种独特的树形为一些鸟类提供了更好的筑巢支撑点，显示出自然环境对生态的意外塑造。","河流的改道，遗弃的旧河道形成了牛轭湖，牛轭湖为各种水生动植物提供了相对独立的生态空间，丰富了区域的生态多样性。","戈壁滩上的砾石，经过长时间的风化，表面形成一层黑色的“沙漠漆”，这种特殊的物质能吸收热量，为一些沙漠植物种子的萌发提供适宜温度，说明自然风化产物对生态有积极意义。","春季的沙尘暴，沙尘携带的矿物质在飘落后成为海洋浮游生物的重要养分，促进了海洋生态系统的初级生产力，体现了看似有害的自然现象背后的生态益处。","针叶林地区的落叶，在地面堆积腐烂后形成酸性土壤，这种土壤适合蓝莓等喜酸植物的生长，表明自然的落叶分解能营造特定的植物生长环境。","盐湖在干旱季节水分蒸发，盐分结晶析出，形成独特的盐滩景观，盐滩周边的特殊环境为耐盐植物和卤虫等生物提供了生存家园，说明自然的干湿变化能创造特殊生态。","山地的云雾，常常笼罩在山腰，为一些喜阴植物提供了湿润且凉爽的环境，使这些植物能在特定海拔区域良好生长，显示出自然云雾对生态的调节作用。","热带草原的野火，虽然烧毁部分草木，但也清除了地面的枯枝落叶，促进了新草的生长，同时吸引了食草动物前来觅食，带动了整个生态系统的活力，表明自然野火对生态有积极推动。","河流入海口的泥沙淤积，形成了广阔的河口三角洲，三角洲土地肥沃，为众多候鸟和鱼类提供了丰富的食物和栖息地，说明自然的泥沙堆积能创造重要的生态区域。","冻原地区的永冻层，在夏季部分融化，形成许多小的湿地和浅湖，为北极地区的鸟类和水禽提供了繁殖和觅食的场所，体现了自然冻土融化对生态的积极影响。"]);function f(k,h){return k=Math.ceil(k),h=Math.floor(h),Math.floor(Math.random()*(h-k+1))+k}const g=f(0,16),C=se(()=>r.value[g]||"");return(k,h)=>(l(),u("div",it,[C.value?(l(),u("div",ut,V(C.value),1)):I("",!0)]))}},ct=W(dt,[["__scopeId","data-v-4ec65fdf"]]),rt=Re("step",()=>{const S=i(1);function r(){S.value=2}function f(){S.value=1}return{step:S,incrementStep:r,reduceStep:f}}),pt={class:"form-section"},vt={class:"radio"},mt={key:0,style:{"font-size":"small",color:"#6b748b"}},ft={key:1,style:{"font-size":"small",color:"#6b748b"}},_t={class:"form-section"},gt={class:"avatar"},ht={class:"upload-box"},wt=["src"],yt={class:"form-section"},kt={class:"form-section"},bt={class:"form-section"},xt={class:"audio-player"},St={class:"audio-upload"},Ct={class:"audio-upload"},Tt={class:"size"},Vt=["onClick"],Dt=["onClick"],Ut={class:"time-picker"},zt={class:"loadHeader"},$t={key:0,class:"icon"},Mt={key:1,class:"icon"},Pt={key:2,class:"icon"},It={class:"audio-container"},Rt={class:"card-header"},Bt={style:{"font-weight":"600"}},Lt={class:"myinput"},Et={class:"add-button-container"},Nt={__name:"CreateSound",setup(S){const r=Z([]),f=i(1),g=i("输入音频样本标题"),C=i("输入音频样本文本"),k=i("textarea"),h=i("3"),U=()=>{r.push({id:f.value++,title:"",text:"",audioUrl:""})},_=s=>{console.log("生成样本:",r[s])},R=Le(),z=()=>{R.push("/mybank"),X.reduceStep()},Y=s=>{const e=r[s];e.audio&&(e.audio.pause(),e.audio.currentTime=0),r.splice(s,1)};function O(s,e){r[s].title=e}function q(s,e){r[s].text=e}const b=i([]),A=i(!1),B=i(null),a=i([]),d=i(),E=i(),$=async()=>{d.value=new Date;try{const s=await navigator.mediaDevices.getUserMedia({audio:!0});B.value=new MediaRecorder(s),a.value=[],B.value.ondataavailable=e=>{e.data.size>0&&a.value.push(e.data)},B.value.start(),A.value=!0,B.value.onstop=()=>{const e=new Blob(a.value,{type:"audio/mp3"});e.value=e,A.value=!1,s.getTracks().forEach(m=>m.stop()),pe(e)}}catch(s){console.error("获取音频流失败：",s)}};function K(s,e){const m=new Date(s),D=new Date(e),y=Math.abs(D.getTime()-m.getTime());return Math.floor(y/1e3)}const pe=s=>{E.value=new Date;const e={name:`record-${b.value.length+1}.mp3`,url:URL.createObjectURL(s),blob:s,duration:`${K(d.value,E.value)}s`};b.value.unshift(e)},ve=()=>{B.value&&(B.value.stop(),A.value=!1)},me=s=>`${(s/1024).toFixed(2)} KB`,fe=s=>isNaN(s)||s===1/0?"未知":`${Math.floor(s)}s`,_e=s=>{const e=URL.createObjectURL(s),m=new Audio(URL.createObjectURL(s));return m.addEventListener("loadedmetadata",()=>{const D=m.duration,y=fe(D),G={name:s.name,size:me(s.size),duration:y,isPlaying:!1,url:e};b.value.push(G)}),!1},w=Z({}),oe=s=>{const e=b.value[s];w[s]||(w[s]=new Audio(e.url));const m=w[s];e.isPlaying?m.pause():(Object.entries(w).forEach(([D,y])=>{D!=s&&!y.paused&&(y.pause(),b.value[D].isPlaying=!1)}),m.play()),e.isPlaying=!e.isPlaying,m.addEventListener("ended",()=>{e.isPlaying=!1})},le=s=>{w[s]&&(w[s].pause(),w[s].src="",delete w[s]),b.value.splice(s,1)},ge=(s,e)=>{const m=e.value.findIndex(D=>D.name===s.name);m!==-1&&le(m)},Q=i(!1),ae=i("first"),M=se(()=>{let s=0;for(const e of b.value){const m=parseInt(e.duration.slice(0,-1),10);s+=m}return s}),he=se(()=>({10:{style:{color:"#9ca3b3",fontSize:"17px"},label:"最小"},30:{style:{color:"#9ca3b3",fontSize:"17px"},label:"推荐"},90:{style:{color:"#9ca3b3",fontSize:"17px"},label:"最大"}})),we=i("填写声音名称"),ye=i("输入标签");function ke(s){x.value.name=s}function be(s){x.value.tag=s}const X=rt(),{step:J}=Be(X),xe=()=>{b.value=[],Object.keys(w).forEach(s=>{w[s].pause(),w[s].src=""}),Object.keys(w).forEach(s=>{delete w[s]}),X.incrementStep()},x=Z({type:"public",cover:null,coverPreview:null,name:"",description:"",tags:"",quickTag:!1}),Se=s=>{x.value.image=s.data};return(s,e)=>{const m=p("el-radio-button"),D=p("el-radio-group"),y=p("el-icon"),G=p("el-upload"),Ce=p("el-input"),ne=p("el-tab-pane"),N=p("el-col"),ie=p("el-row"),Te=p("el-tabs"),Ve=p("el-slider"),De=p("el-button"),Ue=p("el-divider");return l(),j(ie,null,{default:n(()=>[T(J)===1?(l(),j(N,{key:0,span:12},{default:n(()=>[e[21]||(e[21]=t("h2",null,"训练新声音",-1)),o(re,{currentStep:T(J)},null,8,["currentStep"]),t("div",null,[e[19]||(e[19]=t("h3",null,"声音详情",-1)),t("div",null,[t("div",pt,[e[6]||(e[6]=v(" 类型 ")),t("div",vt,[o(D,{modelValue:x.type,"onUpdate:modelValue":e[0]||(e[0]=c=>x.type=c),size:"large","text-color":"black",fill:"#fafafa"},{default:n(()=>[o(m,{label:"公开",value:"public"}),o(m,{label:"私有",value:"private"})]),_:1},8,["modelValue"])]),x.type==="public"?(l(),u("div",mt," 此语音模型将在发现页面中可见，每个人都可以看到。 ")):(l(),u("div",ft,"此语音模型仅对创建者可见，不能共享且不会出现在发现页面。"))]),t("div",_t,[e[8]||(e[8]=v(" 封面图 (可选) ")),t("div",gt,[t("div",ht,[o(G,{class:"avatar-uploader","auto-upload":!0,"show-file-list":!1,action:"/api/upload",name:"file","on-success":Se},{default:n(()=>[x.cover?(l(),u("img",{key:0,src:x.cover,class:"avatar"},null,8,wt)):(l(),j(y,{key:1,class:"avatar-uploader-icon"},{default:n(()=>[o(T(de))]),_:1}))]),_:1})]),e[7]||(e[7]=t("h4",null,"声音封面图片 (文件最大不超过 2MB)",-1))])]),t("div",yt,[e[9]||(e[9]=v(" 名称 ")),o(F,{message:x.name,placeholder:we.value,class:"search-input","onUpdate:message":ke},null,8,["message","placeholder"])]),t("div",kt,[e[10]||(e[10]=v(" 描述 (可选) ")),t("div",{class:te(["input",{focused:Q.value}])},[o(Ce,{modelValue:x.description,"onUpdate:modelValue":e[1]||(e[1]=c=>x.description=c),rows:3,type:"textarea",placeholder:"填写音频描述",onFocus:e[2]||(e[2]=c=>Q.value=!0),onBlur:e[3]||(e[3]=c=>Q.value=!1)},null,8,["modelValue"])],2)]),t("div",bt,[e[11]||(e[11]=v(" 标签 ")),o(F,{message:x.tags,placeholder:ye.value,class:"search-input","onUpdate:message":be},null,8,["message","placeholder"])])]),e[20]||(e[20]=t("h3",null,"输入音频",-1)),o(Te,{modelValue:ae.value,"onUpdate:modelValue":e[4]||(e[4]=c=>ae.value=c),class:"demo-tabs"},{default:n(()=>[o(ne,{label:"录制音频",name:"first"},{default:n(()=>[t("div",xt,[A.value?(l(),u("div",{key:1,onClick:ve,class:"record"},e[13]||(e[13]=[t("div",{class:"noRecord"},null,-1),v(" 停止录制 ")]))):(l(),u("div",{key:0,onClick:$,class:"record"},e[12]||(e[12]=[t("div",{class:"inRecord"},null,-1),v(" 点击开始录制 ")]))),e[14]||(e[14]=t("div",{style:{"font-size":"small",color:"#6b7280"}},"*您可以使用自己的文本或下面的建议文本录制您的声音。",-1)),o(ct)])]),_:1}),o(ne,{label:"上传音频",name:"second"},{default:n(()=>[t("div",St,[o(G,{class:"upload-component",accept:"audio/*","before-upload":_e,"file-list":b.value,"on-remove":ge,limit:1},{default:n(()=>e[15]||(e[15]=[t("div",{class:"upload-button"},[t("div",{class:"insert"}),t("h5",null,"添加或删除您的音频文件")],-1)])),_:1},8,["file-list"])])]),_:1}),t("div",Ct,[(l(!0),u(H,null,ee(b.value,(c,P)=>(l(),j(ie,{key:P,class:"files"},{default:n(()=>[o(N,{span:2,class:"logo"}),o(N,{span:13,class:"file"},{default:n(()=>[v(V(c.name)+" ",1),t("div",Tt,V(c.size),1)]),_:2},1024),o(N,{span:4},{default:n(()=>[v(V(c.duration),1)]),_:2},1024),o(N,{span:4,class:"btns"},{default:n(()=>[c.isPlaying?(l(),u("div",{key:1,class:"on",onClick:L=>oe(P)},null,8,Dt)):(l(),u("div",{key:0,class:"close",onClick:L=>oe(P)},null,8,Vt)),o(y,{onClick:L=>le(P),class:"delete-btn",size:"25"},{default:n(()=>[o(T(ce))]),_:2},1032,["onClick"])]),_:2},1024)]),_:2},1024))),128))])]),_:1},8,["modelValue"]),t("div",Ut,[t("div",zt,[v(" 已上传："+V(M.value)+"s ",1),M.value<=90&&M.value>=10?(l(),u("div",$t,[o(y,{size:"20",color:"#16a149"},{default:n(()=>[o(T(Ee))]),_:1}),e[16]||(e[16]=v(" 不错 "))])):I("",!0),M.value>90||M.value<10&&M.value>0?(l(),u("div",Mt,[o(y,{size:"20",color:"#ef4343"},{default:n(()=>[o(T(Ne))]),_:1}),e[17]||(e[17]=v(" 过长/过短 "))])):I("",!0),M.value===0?(l(),u("div",Pt," 推荐 30 秒左右 ")):I("",!0)]),o(Ve,{modelValue:M.value,"onUpdate:modelValue":e[5]||(e[5]=c=>M.value=c),min:"0",max:"100",step:1,"show-stops":"",marks:he.value,"show-button":!1},null,8,["modelValue","marks"]),e[18]||(e[18]=t("div",{class:"tip"},"*提示：最短10秒，最长90秒，推荐30秒",-1))]),t("button",{class:"next-btn",onClick:xe},"创建")])]),_:1})):(l(),j(N,{key:1,span:12},{default:n(()=>[e[27]||(e[27]=t("h2",null,"训练新声音",-1)),o(re,{currentStep:T(J)},null,8,["currentStep"]),t("div",null,[e[26]||(e[26]=t("h3",null,"音频样本",-1)),t("div",It,[(l(!0),u(H,null,ee(r,(c,P)=>(l(),u("div",{key:c.id,class:"audio-card"},[t("div",null,[t("div",Rt,[t("span",Bt,V(c.title===""?"样本"+c.id:c.title),1),o(y,{size:"20",color:"#606672",onClick:L=>Y(P)},{default:n(()=>[o(T(ce))]),_:2},1032,["onClick"])])]),t("div",Lt,[o(F,{message:c.title,placeholder:g.value,"onUpdate:message":L=>O(P,L)},null,8,["message","placeholder","onUpdate:message"]),o(F,{message:c.text,placeholder:C.value,type:k.value,rows:h.value,"onUpdate:message":L=>q(P,L)},null,8,["message","placeholder","type","rows","onUpdate:message"]),o(De,{color:"#e7e7e8",onClick:L=>_(P),style:{width:"16%","margin-left":"1%"}},{default:n(()=>e[22]||(e[22]=[t("div",{class:"make"},null,-1),v(" 生成样本 ")])),_:2},1032,["onClick"]),o(at,{audioUrl:s.ttsAudioUrl,isPauseTtsAudio:s.isPauseTtsAudio},null,8,["audioUrl","isPauseTtsAudio"])])]))),128)),t("div",Et,[t("button",{onClick:U,class:"add-btn"},[o(y,{size:"20",style:{"padding-right":"5px"}},{default:n(()=>[o(T(de))]),_:1}),e[23]||(e[23]=v()),e[24]||(e[24]=t("span",{style:{"font-size":"large"}},"添加音频示例",-1))])]),t("div",{class:"btnssecond"},[t("button",{class:"next-btn",onClick:z},"保存"),e[25]||(e[25]=t("button",{class:"skip"},"跳过",-1))])])])]),_:1})),o(Ue,{direction:"vertical",style:{height:"auto"}}),o(N,{span:11,class:"reactivity"},{default:n(()=>[o(We)]),_:1})]),_:1})}}},Ot=W(Nt,[["__scopeId","data-v-1ed68f08"]]);export{Ot as default};
