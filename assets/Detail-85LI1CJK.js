import{t as oe,M as se}from"./Select-DYIqyq0u.js";import{M as le}from"./Input-D8NaxrUB.js";import{_ as te,r as m,d as ae,z as ie,A as ne,B as re,C as f,e as l,a as t,b as c,u as de,o as v,f as o,D as d,E as ue,h as p,F as ce,g as r,c as $,G as ve,H as pe,I as me,J as fe,K as ge,L as ye,M as C}from"./index-mfDXIwSj.js";import{a as L}from"./sound-BznpVhuQ.js";import{b as be,a as ke}from"./mybank-BJNfX3CH.js";import{t as P,a as N,b as M}from"./actions-Wgz2O3dh.js";import"./request-tcMp8lIz.js";import"./token-BatlrvXY.js";const _e={class:"common-layout"},Ce={class:"title"},we={class:"voice-detail"},Ie={class:"display-detail"},xe={class:"display-detail"},$e={class:"tag1"},Se={key:0,class:"tag2",style:{"margin-left":"5px"}},Te={class:"btns"},Ve={class:"dialog-footer"},De={class:"button"},Ue={class:"button"},ze={class:"button"},Le={class:"dialog"},Pe={class:"dialog-footer"},Ne={class:"audio-samples"},Me={class:"samples-content"},Ae={class:"samples-index"},Be={class:"sample-btn"},Ee=["onClick"],je=["onClick"],qe={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},he={class:"audio-description"},Oe={class:"description"},Re={class:"two-item"},Fe={class:"one-item"},Ke={class:"one-item"},Ge={class:"two-item"},He={class:"one-item"},Je={class:"one-item"},Qe={__name:"Detail",setup(We){const A=m("#ffffff"),B=m("输入您的评论..."),E=m("textarea"),j=m("3"),q=de(),S=ae(),y=S.query?S.query.id:void 0,h=()=>{q.push({path:"/explanation",query:{id:y}})},w=m(!1),b=m(!1),k=m(!1),x=m({type:"",desctibe:""}),O=m([{value:"1",label:"无法工作"},{value:"2",label:"侵犯版本"},{value:"3",label:"其他"}]),R=i=>{x.value.type=i};function F(i){x.value.desctibe=i}const s=m({voiceId:1,userName:"fc",voiceImage:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",voiceName:"55",voiceDescription:"1212",voiceCreationTime:new Date(2025,1,9,19,11),voiceUseCount:11e4,voiceShareCount:11,voiceLikeCount:20,voiceCollectCount:10,voiceLanguage:"ch",voiceTag:"aaaaaaaaa",voiceIsUsed:!1,voiceIsShared:!1,voiceIsLiked:"1",voiceIsCollected:!1,voiceSamples:[{sampleId:1,sampleIsPlaying:!1,sampleTitle:"Default Sample",sampleText:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",sampleUrl:L},{sampleId:2,sampleIsPlaying:!1,sampleTitle:"可以让父母",sampleText:"对侧人防热非人发热功耗一节课iklo",sampleUrl:L}]}),K=()=>{navigator.clipboard.writeText(y).then(()=>{C({message:"已复制到剪贴板",position:"bottom-right"})}).catch(i=>{C({message:`复制失败: ${i.message}`,position:"bottom-right",type:"error"})})},_=ie({}),T=i=>{const e=s.value.voiceSamples[i],u=`-${i}`;if(_[u]){const n=_[u];e.sampleIsPlaying?n.pause():(V(),n.play())}else{const n=new Audio(e.sampleUrl);_[u]=n,n.addEventListener("ended",()=>{e.sampleIsPlaying=!1}),V(),n.play()}e.sampleIsPlaying=!e.sampleIsPlaying},V=()=>{Object.entries(_).forEach(([i,e])=>{if(!e.paused){e.pause();const[u,n]=i.split("-");s.value.sample[n].isPlaying=!1}})};ne(()=>{Object.values(_).forEach(i=>{i.pause(),i.src=""})}),re(async()=>{let i=await be(y);s.value=i.data[0],console.log(s.value)});const G=()=>{s.voiceIsShared===!1&&(s.voiceIsShared=!0,s.voiceShareCount++);const e=`${window.location.href}?id=${y}`;navigator.clipboard.writeText(e).then(async()=>{C({message:"已复制到剪贴板",position:"bottom-right"});try{let u=await discoverUpdateShareService(y)}catch(u){console.error("分享服务调用失败:",u),C({message:`分享服务调用失败: ${u.message}`,position:"bottom-right",type:"error"})}}).catch(u=>{C({message:`复制失败: ${u.message}`,position:"bottom-right",type:"error"})})},H=async()=>{const i=m({...s.value,voiceType:"0"});await ke(i)};return(i,e)=>{const u=c("el-image"),n=c("el-icon"),g=c("el-button"),D=c("el-dialog"),J=c("el-popover"),Q=c("el-header"),U=c("el-divider"),W=c("el-card"),z=c("el-col"),X=c("el-row"),Y=c("el-main"),Z=c("el-container");return v(),f("div",_e,[l(Z,null,{default:t(()=>[l(Q,{class:"header"},{default:t(()=>[l(u,{class:"image",src:s.value.voiceImage,fit:"cover"},null,8,["src"]),o("div",Ce,d(s.value.voiceName),1),o("div",we,[o("span",Ie,d(s.value.userName),1),e[16]||(e[16]=o("div",{class:"dot"},null,-1)),l(n,{size:"20",style:{color:"#6b7280"}},{default:t(()=>[l(p(ce))]),_:1}),o("span",xe,d(p(oe)(s.value.voiceCreationTime)),1),e[17]||(e[17]=o("div",{class:"dot"},null,-1)),o("div",$e,d(s.value.voiceLanguage),1),s.value.voiceTag!==""?(v(),f("div",Se,d(s.value.voiceTag),1)):ue("",!0)]),o("div",Te,[l(g,{size:"large",color:"black",onClick:e[0]||(e[0]=a=>h(s.value.voiceId))},{default:t(()=>e[18]||(e[18]=[r("使用声音")])),_:1}),l(g,{size:"large",color:"black",onClick:e[1]||(e[1]=a=>b.value=!0)},{default:t(()=>e[19]||(e[19]=[r("克隆模型")])),_:1}),l(D,{modelValue:b.value,"onUpdate:modelValue":e[4]||(e[4]=a=>b.value=a),width:"30%","align-center":"","show-close":!1},{footer:t(()=>[o("span",Ve,[l(g,{color:"#f4f4f5",plain:"",style:{color:"black",border:"#e4e4e7 1px solid"},onClick:e[2]||(e[2]=a=>b.value=!1)},{default:t(()=>e[20]||(e[20]=[r("取消")])),_:1}),l(g,{color:"black",onClick:e[3]||(e[3]=a=>{b.value=!1,H()})},{default:t(()=>e[21]||(e[21]=[r(" 确认 ")])),_:1})])]),default:t(()=>[e[22]||(e[22]=o("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"10px"}},"克隆模型",-1)),e[23]||(e[23]=o("span",null,"确认是否克隆该模型，这将为你创建一个不可变更可见性的私有模型",-1))]),_:1},8,["modelValue"]),o("div",{class:"button"},[o("div",{class:"shared",onClick:G})]),o("div",De,[s.value.voiceIsLiked===1?(v(),f("div",{key:0,class:"likefill",onClick:e[5]||(e[5]=a=>p(P)(s.value))})):(v(),f("div",{key:1,class:"like",onClick:e[6]||(e[6]=a=>p(P)(s.value))}))]),o("div",Ue,[s.value.voiceIsLiked===2?(v(),f("div",{key:0,class:"unlikefill",onClick:e[7]||(e[7]=a=>p(N)(s.value))})):(v(),f("div",{key:1,class:"unlike",onClick:e[8]||(e[8]=a=>p(N)(s.value))}))]),o("div",ze,[s.value.voiceIsCollected?(v(),$(n,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[10]||(e[10]=a=>p(M)(s.value))},{default:t(()=>[l(p(pe))]),_:1})):(v(),$(n,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[9]||(e[9]=a=>p(M)(s.value))},{default:t(()=>[l(p(ve))]),_:1}))]),l(J,{placement:"bottom",width:100,visible:w.value},{reference:t(()=>[o("div",{class:"button",onClick:e[11]||(e[11]=a=>w.value=!w.value)},e[24]||(e[24]=[o("div",{class:"more"},null,-1)]))]),default:t(()=>[o("div",{class:"popper",onClick:K},[l(n,{size:"17",style:{"background-color":"#e0e5eb","border-radius":"6px",padding:"8px"}},{default:t(()=>[l(p(me))]),_:1}),e[25]||(e[25]=r(" 复制模型ID "))]),o("div",{class:"popper",onClick:e[12]||(e[12]=a=>k.value=!0)},[l(n,{size:"17",style:{"background-color":"#e0e5eb","border-radius":"6px",padding:"8px"}},{default:t(()=>[l(p(fe))]),_:1}),e[26]||(e[26]=r(" 举报模型 "))]),l(D,{modelValue:k.value,"onUpdate:modelValue":e[15]||(e[15]=a=>k.value=a),width:"30%","align-center":"","show-close":!1},{footer:t(()=>[o("span",Pe,[l(g,{color:"#f4f4f5",plain:"",style:{color:"black",border:"#e4e4e7 1px solid"},onClick:e[13]||(e[13]=a=>k.value=!1)},{default:t(()=>e[29]||(e[29]=[r("取消")])),_:1}),l(g,{color:"black",onClick:e[14]||(e[14]=a=>{k.value=!1,w.value=!1})},{default:t(()=>e[30]||(e[30]=[r(" 确认 ")])),_:1})])]),default:t(()=>[e[31]||(e[31]=o("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"10px"}},"报告模型",-1)),o("div",Le,[e[27]||(e[27]=r(" 你为什么要举报这个模型? ")),l(se,{options:O.value,"input-width":"432px",color:A.value,"onUpdate:value":R,style:{"margin-bottom":"10px"}},null,8,["options","color"]),e[28]||(e[28]=r(" 评论（至少20个字符） ")),l(le,{message:x.value.desctibe,placeholder:B.value,type:E.value,rows:j.value,"onUpdate:message":F},null,8,["message","placeholder","type","rows"])])]),_:1},8,["modelValue"])]),_:1},8,["visible"])])]),_:1}),l(U),l(Y,null,{default:t(()=>[l(X,{class:"main"},{default:t(()=>[l(z,{span:15},{default:t(()=>[o("div",Ne,[e[32]||(e[32]=o("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(v(!0),f(ge,null,ye(s.value.voiceSamples,(a,I)=>(v(),$(W,{key:I,class:"samples-item",shadow:"never"},{default:t(()=>[o("div",Me,[o("div",null,[o("span",Ae,d(I+1),1),o("span",null,d(a.sampleTitle),1)]),o("div",Be,[a.sampleIsPlaying?(v(),f("div",{key:1,class:"on",onClick:ee=>T(I)},null,8,je)):(v(),f("div",{key:0,class:"close",onClick:ee=>T(I)},null,8,Ee))])]),o("div",qe,d(a.sampleText),1)]),_:2},1024))),128))])]),_:1}),l(z,{span:9},{default:t(()=>[o("div",he,[e[37]||(e[37]=o("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"描述",-1)),o("div",Oe,d(s.value.voiceDescription),1),l(U),o("div",Re,[o("div",Fe,[e[33]||(e[33]=o("span",{class:"item-name"},"总点赞数",-1)),r(" "+d(s.value.voiceLikeCount),1)]),o("div",Ke,[e[34]||(e[34]=o("span",{class:"item-name"},"总标记数",-1)),r(" "+d(s.value.voiceCollectCount),1)])]),o("div",Ge,[o("div",He,[e[35]||(e[35]=o("span",{class:"item-name"},"总分享数",-1)),r(" "+d(s.value.voiceShareCount),1)]),o("div",Je,[e[36]||(e[36]=o("span",{class:"item-name"},"总使用数",-1)),r(" "+d(s.value.voiceUseCount),1)])])])]),_:1})]),_:1})]),_:1})]),_:1})])}}},ao=te(Qe,[["__scopeId","data-v-bc82f41a"]]);export{ao as default};
