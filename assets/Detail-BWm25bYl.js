import{t as se}from"./time-tY07ncrd.js";import{M as le,d as te,a as A,b as ae}from"./discover-8Q_0rted.js";import{M as ie}from"./Input-CKOj4Po6.js";import{_ as ne,r as p,p as de,q as re,x as ce,y as ue,z as m,b as t,w as a,a as u,u as ve,o as v,d as s,A as r,B as pe,f as g,C as me,e as d,c as L,D as fe,F as ge,G as ke,H as ye,I as be,J as Ce,K as _}from"./index-CiQKPSkZ.js";import{a as B}from"./sound-BznpVhuQ.js";import{b as _e,a as Ie}from"./mybank-CrijUi5M.js";import"./request-C29fjzPY.js";import"./token-BCwteI7G.js";const we={class:"common-layout"},xe={class:"title"},Le={class:"voice-detail"},$e={class:"display-detail"},Se={class:"display-detail"},Ue={class:"tag1"},De={key:0,class:"tag2",style:{"margin-left":"5px"}},Te={class:"btns"},Ve={class:"dialog-footer"},ze={class:"button"},Pe={class:"button"},Ne={class:"button"},Ae={class:"dialog"},Be={class:"dialog-footer"},Me={class:"audio-samples"},je={class:"samples-content"},qe={class:"samples-index"},Ee={class:"sample-btn"},Oe=["onClick"],Re=["onClick"],he={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},Fe={class:"audio-description"},Ke={class:"description"},Ge={class:"two-item"},He={class:"one-item"},Je={class:"one-item"},Qe={class:"two-item"},We={class:"one-item"},Xe={class:"one-item"},Ye={__name:"Detail",setup(Ze){const M=p("#ffffff"),j=p("输入您的评论..."),q=p("textarea"),E=p("3"),O=ve(),$=de(),k=$.query?$.query.id:void 0,R=()=>{O.push({path:"/explanation",query:{id:k}})},I=p(!1),y=p(!1),b=p(!1),x=p({type:"",desctibe:""}),h=p([{value:"1",label:"无法工作"},{value:"2",label:"侵犯版本"},{value:"3",label:"其他"}]),F=o=>{x.value.type=o};function K(o){x.value.desctibe=o}const l=p({voiceId:1,userName:"fc",voiceImage:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",voiceName:"55",voiceDescription:"1212",voiceCreationTime:new Date(2025,1,9,19,11),voiceUseCount:11e4,voiceShareCount:11,voiceLikeCount:20,voiceCollectCount:10,voiceLanguage:"ch",voiceTag:"aaaaaaaaa",voiceIsUsed:!1,voiceIsShared:!1,voiceIsLiked:"1",voiceIsCollected:!1,voiceSamples:[{sampleId:1,sampleIsPlaying:!1,sampleTitle:"Default Sample",sampleText:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",sampleUrl:B},{sampleId:2,sampleIsPlaying:!1,sampleTitle:"可以让父母",sampleText:"对侧人防热非人发热功耗一节课iklo",sampleUrl:B}]}),G=()=>{navigator.clipboard.writeText(k).then(()=>{_({message:"已复制到剪贴板",position:"bottom-right"})}).catch(o=>{_({message:`复制失败: ${o.message}`,position:"bottom-right",type:"error"})})},C=re({}),S=o=>{const e=l.value.voiceSamples[o],c=`-${o}`;if(C[c]){const n=C[c];e.sampleIsPlaying?n.pause():(U(),n.play())}else{const n=new Audio(e.sampleUrl);C[c]=n,n.addEventListener("ended",()=>{e.sampleIsPlaying=!1}),U(),n.play()}e.sampleIsPlaying=!e.sampleIsPlaying},U=()=>{Object.entries(C).forEach(([o,e])=>{if(!e.paused){e.pause();const[c,n]=o.split("-");l.value.sample[n].isPlaying=!1}})};ce(()=>{Object.values(C).forEach(o=>{o.pause(),o.src=""})}),ue(async()=>{let o=await _e(k);l.value=o.data});const H=()=>{l.voiceIsShared===!1&&(l.voiceIsShared=!0,l.voiceShareCount++);const e=`${window.location.href}?id=${k}`;navigator.clipboard.writeText(e).then(async()=>{_({message:"已复制到剪贴板",position:"bottom-right"});try{let c=await te(k)}catch(c){console.error("分享服务调用失败:",c),_({message:`分享服务调用失败: ${c.message}`,position:"bottom-right",type:"error"})}}).catch(c=>{_({message:`复制失败: ${c.message}`,position:"bottom-right",type:"error"})})},D=async o=>{o.voiceIsLiked===1?(o.voiceIsLiked=0,o.voiceLikeCount--):(o.voiceIsLiked===2&&(o.voiceIsUnliked=!1),o.voiceIsLiked=1,o.voiceLikeCount++);const e={voiceId:o.voiceId,voiceLikeCount:o.voiceLikeCount};await A(e)},T=async o=>{o.voiceIsLiked===2?(o.voiceIsLiked=0,o.voiceIsUnliked=!1):(o.voiceIsLiked===1&&(o.voiceLikeCount--,o.voiceIsLiked=0),o.voiceIsLiked=2,o.voiceIsUnliked=!0);const e={voiceId:o.voiceId,voiceLikeCount:o.voiceLikeCount};await A(e)},V=async o=>{o.voiceIsCollected=!o.voiceIsCollected,o.voiceIsCollected?o.voiceCollectCount++:o.voiceCollectCount--;const e={voiceId:o.voiceId,voiceCollectCount:o.voiceCollectCount};await ae(e)},J=async()=>{const o=p({...l.value,voiceType:"0"});await Ie(o)};return(o,e)=>{const c=u("el-image"),n=u("el-icon"),f=u("el-button"),z=u("el-dialog"),Q=u("el-popover"),W=u("el-header"),P=u("el-divider"),X=u("el-card"),N=u("el-col"),Y=u("el-row"),Z=u("el-main"),ee=u("el-container");return v(),m("div",we,[t(ee,null,{default:a(()=>[t(W,{class:"header"},{default:a(()=>[t(c,{class:"image",src:l.value.voiceImage,fit:"cover"},null,8,["src"]),s("div",xe,r(l.value.voiceName),1),s("div",Le,[s("span",$e,r(l.value.userName),1),e[16]||(e[16]=s("div",{class:"dot"},null,-1)),t(n,{size:"20",style:{color:"#6b7280"}},{default:a(()=>[t(g(me))]),_:1}),s("span",Se,r(g(se)(l.value.voiceCreationTime)),1),e[17]||(e[17]=s("div",{class:"dot"},null,-1)),s("div",Ue,r(l.value.voiceLanguage),1),l.value.voiceTag!==""?(v(),m("div",De,r(l.value.voiceTag),1)):pe("",!0)]),s("div",Te,[t(f,{size:"large",color:"black",onClick:e[0]||(e[0]=i=>R(l.value.voiceId))},{default:a(()=>e[18]||(e[18]=[d("使用声音")])),_:1}),t(f,{size:"large",color:"black",onClick:e[1]||(e[1]=i=>y.value=!0)},{default:a(()=>e[19]||(e[19]=[d("克隆模型")])),_:1}),t(z,{modelValue:y.value,"onUpdate:modelValue":e[4]||(e[4]=i=>y.value=i),width:"30%","align-center":"","show-close":!1},{footer:a(()=>[s("span",Ve,[t(f,{color:"#f4f4f5",plain:"",style:{color:"black",border:"#e4e4e7 1px solid"},onClick:e[2]||(e[2]=i=>y.value=!1)},{default:a(()=>e[20]||(e[20]=[d("取消")])),_:1}),t(f,{color:"black",onClick:e[3]||(e[3]=i=>{y.value=!1,J()})},{default:a(()=>e[21]||(e[21]=[d(" 确认 ")])),_:1})])]),default:a(()=>[e[22]||(e[22]=s("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"10px"}},"克隆模型",-1)),e[23]||(e[23]=s("span",null,"确认是否克隆该模型，这将为你创建一个不可变更可见性的私有模型",-1))]),_:1},8,["modelValue"]),s("div",{class:"button"},[s("div",{class:"shared",onClick:H})]),s("div",ze,[l.value.voiceIsLiked===1?(v(),m("div",{key:0,class:"likefill",onClick:e[5]||(e[5]=i=>D(l.value))})):(v(),m("div",{key:1,class:"like",onClick:e[6]||(e[6]=i=>D(l.value))}))]),s("div",Pe,[l.value.voiceIsLiked===2?(v(),m("div",{key:0,class:"unlikefill",onClick:e[7]||(e[7]=i=>T(l.value))})):(v(),m("div",{key:1,class:"unlike",onClick:e[8]||(e[8]=i=>T(l.value))}))]),s("div",Ne,[l.value.voiceIsCollected?(v(),L(n,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[10]||(e[10]=i=>V(l.value))},{default:a(()=>[t(g(ge))]),_:1})):(v(),L(n,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[9]||(e[9]=i=>V(l.value))},{default:a(()=>[t(g(fe))]),_:1}))]),t(Q,{placement:"bottom",width:100,visible:I.value},{reference:a(()=>[s("div",{class:"button",onClick:e[11]||(e[11]=i=>I.value=!I.value)},e[24]||(e[24]=[s("div",{class:"more"},null,-1)]))]),default:a(()=>[s("div",{class:"popper",onClick:G},[t(n,{size:"17",style:{"background-color":"#e0e5eb","border-radius":"6px",padding:"8px"}},{default:a(()=>[t(g(ke))]),_:1}),e[25]||(e[25]=d(" 复制模型ID "))]),s("div",{class:"popper",onClick:e[12]||(e[12]=i=>b.value=!0)},[t(n,{size:"17",style:{"background-color":"#e0e5eb","border-radius":"6px",padding:"8px"}},{default:a(()=>[t(g(ye))]),_:1}),e[26]||(e[26]=d(" 举报模型 "))]),t(z,{modelValue:b.value,"onUpdate:modelValue":e[15]||(e[15]=i=>b.value=i),width:"30%","align-center":"","show-close":!1},{footer:a(()=>[s("span",Be,[t(f,{color:"#f4f4f5",plain:"",style:{color:"black",border:"#e4e4e7 1px solid"},onClick:e[13]||(e[13]=i=>b.value=!1)},{default:a(()=>e[29]||(e[29]=[d("取消")])),_:1}),t(f,{color:"black",onClick:e[14]||(e[14]=i=>{b.value=!1,I.value=!1})},{default:a(()=>e[30]||(e[30]=[d(" 确认 ")])),_:1})])]),default:a(()=>[e[31]||(e[31]=s("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"10px"}},"报告模型",-1)),s("div",Ae,[e[27]||(e[27]=d(" 你为什么要举报这个模型? ")),t(le,{options:h.value,"input-width":"432px",color:M.value,"onUpdate:value":F,style:{"margin-bottom":"10px"}},null,8,["options","color"]),e[28]||(e[28]=d(" 评论（至少20个字符） ")),t(ie,{message:x.value.desctibe,placeholder:j.value,type:q.value,rows:E.value,"onUpdate:message":K},null,8,["message","placeholder","type","rows"])])]),_:1},8,["modelValue"])]),_:1},8,["visible"])])]),_:1}),t(P),t(Z,null,{default:a(()=>[t(Y,{class:"main"},{default:a(()=>[t(N,{span:15},{default:a(()=>[s("div",Me,[e[32]||(e[32]=s("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(v(!0),m(be,null,Ce(l.value.voiceSamples,(i,w)=>(v(),L(X,{key:w,class:"samples-item",shadow:"never"},{default:a(()=>[s("div",je,[s("div",null,[s("span",qe,r(w+1),1),s("span",null,r(i.sampleTitle),1)]),s("div",Ee,[i.sampleIsPlaying?(v(),m("div",{key:1,class:"on",onClick:oe=>S(w)},null,8,Re)):(v(),m("div",{key:0,class:"close",onClick:oe=>S(w)},null,8,Oe))])]),s("div",he,r(i.sampleText),1)]),_:2},1024))),128))])]),_:1}),t(N,{span:9},{default:a(()=>[s("div",Fe,[e[37]||(e[37]=s("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"描述",-1)),s("div",Ke,r(l.value.voiceDescription),1),t(P),s("div",Ge,[s("div",He,[e[33]||(e[33]=s("span",{class:"item-name"},"总点赞数",-1)),d(" "+r(l.value.voiceLikeCount),1)]),s("div",Je,[e[34]||(e[34]=s("span",{class:"item-name"},"总标记数",-1)),d(" "+r(l.value.voiceCollectCount),1)])]),s("div",Qe,[s("div",We,[e[35]||(e[35]=s("span",{class:"item-name"},"总分享数",-1)),d(" "+r(l.value.voiceShareCount),1)]),s("div",Xe,[e[36]||(e[36]=s("span",{class:"item-name"},"总使用数",-1)),d(" "+r(l.value.voiceUseCount),1)])])])]),_:1})]),_:1})]),_:1})]),_:1})])}}},ro=ne(Ye,[["__scopeId","data-v-b4f7cb37"]]);export{ro as default};
