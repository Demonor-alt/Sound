import{t as Z}from"./time-tY07ncrd.js";import{_ as ee,r as _,c as j,a as v,w as a,b as p,u as le,o,d as n,e as s,f as m,E as L,g as S,h as se,i as u,j as E,F as V,k as D,t as r,l as te,s as ne,m as ae,n as oe}from"./index-CVFufy5j.js";import{M as T}from"./Select-_2-3JSgf.js";import{M as ie}from"./SelectChange-Dfj0uPKQ.js";const de={class:"action-bar"},ue={class:"content"},re={style:{display:"flex","justify-content":"center"}},ce={key:0},pe=["onClick"],_e={class:"voice-detail"},fe={class:"display-detail"},me={class:"display-detail"},ke={style:{display:"flex","flex-direction":"row",gap:"10px",cursor:"pointer"}},ve={class:"display-detail"},ge={class:"audio-samples"},he={class:"samples-content"},ye={class:"samples-index"},Ce={class:"sample-btn"},be=["onClick"],we=["onClick"],xe={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},Ue={class:"tag1"},$e={key:0,class:"tag2",style:{"margin-left":"5px"}},Le={class:"voice-sample"},Se={class:"sample-btn"},Ve=["onClick"],De=["onClick"],Ne={style:{width:"50%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","font-size":"small"}},Pe={class:"btns"},ze={class:"btns-plus"},je={class:"button"},Ee={class:"number"},Te={class:"button"},Be=["onClick"],Me={class:"number"},qe={class:"button"},Ie=["onClick"],Ae=["onClick"],Fe={class:"number"},Oe={class:"button"},Ke=["onClick"],Re=["onClick"],We={class:"button"},Ge={class:"number"},He={__name:"Discover",setup(Je){const N=le(),B=t=>{N.push({path:"/detail",query:{id:t}})},c=_([{id:1,userName:"fc",image:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",name:"55",description:"1212",creationTime:new Date(2025,1,9,19,11),status:"成功",audioUrl:"/samples/sample1.mp3",peopleCount:11e4,shareCount:11,likeCount:20,collectCount:10,language:"ch",tag:"aaaaaaaaa",isUsed:!1,isShared:!1,isLiked:!1,isUnliked:!1,isCollected:!1,sample:[{id:1,isPlaying:!1,title:"Default Sample",text:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",url:""},{id:2,isPlaying:!1,title:"方可让父母",text:"对侧人防热非人发热功耗一节课iklo",url:""}]},{id:2,userName:"fcds",image:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",name:"55",description:"1212",creationTime:new Date(2025,1,9,19,10),status:"成功",audioUrl:"/samples/sample1.mp3",peopleCount:15,shareCount:12,likeCount:20,collectCount:10,language:"en",tag:"1",isUsed:!1,isShared:!1,isLiked:!1,isUnliked:!1,isCollected:!1,sample:[{id:1,isPlaying:!1,title:"Default Sample",text:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",url:""}]}]),P=_("#f5f5f5"),M=_([{value:"1",label:"推荐"},{value:"2",label:"最新"}]),q=_([{value:"1",label:"所有"},{value:"ch",label:"汉语"},{value:"en",label:"English"}]),I=j(()=>{const t=new Set;return c.value.forEach(e=>{t.add(e.tag)}),Array.from(t).map(e=>({value:e,label:e}))}),w=_(""),x=_("1"),g=_(""),U=_(""),A=t=>{w.value=t},F=t=>{x.value=t},O=t=>{U.value=t,console.log(U.value)},K=j(()=>{let t=[...c.value];return g.value===""?t=[...c.value]:g.value!==""&&(t=t.filter(e=>e.tag===g.value)),x.value!=="1"&&(t=t.filter(e=>e.language===x.value)),w.value==="2"?t.sort((e,d)=>new Date(d.creationTime)-new Date(e.creationTime)):w.value==="1"&&t.sort((e,d)=>d.peopleCount-e.peopleCount),t}),h=_(!1),y=(t,e)=>{if(!c.value[t].sample[e].url){console.error("Audio URL is empty");return}const d=new Audio(c.value[t].sample[e].url),k=c.value[t].sample[e];k.isPlaying?(d.pause(),k.isPlaying=!1):(d.play(),k.isPlaying=!0),d.addEventListener("ended",()=>{c.value[t].sample[e].isPlaying=!1})},R=t=>{N.push({path:"/explanation",query:{id:t}})};function C(t){if(typeof t!="number"||isNaN(t))return t;const e=1e3;return t>=e*10?(t/e).toFixed(2)+"K":t}const W=t=>{const e=c.value.findIndex(d=>d.id===t);c.value[e].isShared===!1&&(c.value[e].isShared=!0,c.value[e].shareCount++),oe({message:"已复制到剪贴板",position:"bottom-right"})};return(t,e)=>{const d=p("el-icon"),k=p("el-popover"),G=p("el-header"),H=p("el-empty"),J=p("el-image"),b=p("el-col"),Q=p("el-card"),z=p("el-row"),X=p("el-main"),Y=p("el-container");return o(),v(z,null,{default:a(()=>[n(b,{span:17},{default:a(()=>[n(Y,{class:"sound-manager"},{default:a(()=>[n(G,{class:"display"},{default:a(()=>[e[7]||(e[7]=s("div",{class:"title"},"列表",-1)),s("div",de,[e[5]||(e[5]=s("span",{class:"header-tip"},"排序",-1)),n(T,{options:M.value,"input-width":"230px",color:P.value,"onUpdate:value":A},null,8,["options","color"]),e[6]||(e[6]=s("span",{class:"header-tip"},"语言",-1)),n(T,{options:q.value,"input-width":"230px",color:P.value,"onUpdate:value":F},null,8,["options","color"]),n(k,{placement:"bottom",width:250,visible:h.value},{reference:a(()=>[n(m(L),{size:"large",class:"btn",onClick:e[0]||(e[0]=l=>h.value=!h.value)},{default:a(()=>[n(d,{size:"20",color:"black"},{default:a(()=>[n(m(se))]),_:1})]),_:1})]),default:a(()=>[s("div",ue,[e[3]||(e[3]=s("div",{class:"content-header"},[s("span",{style:{"font-size":"large","font-weight":"600",color:"black"}},"筛选")],-1)),e[4]||(e[4]=s("div",null,"标签",-1)),n(ie,{options:I.value,"input-width":"200px","onUpdate:value":O},null,8,["options"]),s("div",re,[n(m(L),{color:"black",style:{width:"95%"},onClick:e[1]||(e[1]=l=>{h.value=!1,g.value=U.value})},{default:a(()=>e[2]||(e[2]=[S("应用")])),_:1})])])]),_:1},8,["visible"])])]),_:1}),n(X,null,{default:a(()=>[c.value.length===0?(o(),u("div",ce,[n(H,{description:"暂无数据"})])):E("",!0),(o(!0),u(V,null,D(K.value,l=>(o(),v(z,{key:l.id,class:"voice-item"},{default:a(()=>[n(b,{span:3},{default:a(()=>[n(J,{style:{width:"100px",height:"100px","border-radius":"15px"},src:l.image,fit:"cover"},null,8,["src"])]),_:2},1024),n(b,{span:21},{default:a(()=>[s("div",{class:"voice-name",onClick:i=>B(l.id)},r(l.name),9,pe),s("div",_e,[s("span",fe,r(l.userName),1),e[10]||(e[10]=s("div",{class:"dot"},null,-1)),n(d,{size:"20",style:{color:"#6b7280"}},{default:a(()=>[n(m(te))]),_:1}),s("span",me,r(m(Z)(l.creationTime)),1),e[11]||(e[11]=s("div",{class:"dot"},null,-1)),n(k,{placement:"bottom",width:400,trigger:"click"},{reference:a(()=>[s("div",ke,[e[8]||(e[8]=s("div",{class:"logo"},null,-1)),s("span",ve,r(l.sample.length)+" 音频示例",1)])]),default:a(()=>[s("div",ge,[e[9]||(e[9]=s("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(o(!0),u(V,null,D(l.sample,(i,f)=>(o(),v(Q,{key:f,class:"samples-item",shadow:"never"},{default:a(()=>[s("div",he,[s("div",null,[s("span",ye,r(f+1),1),s("span",null,r(i.title),1)]),s("div",Ce,[i.isPlaying?(o(),u("div",{key:1,class:"on",onClick:$=>y(l.id,f)},null,8,we)):(o(),u("div",{key:0,class:"close",onClick:$=>y(l.id,f)},null,8,be))])]),s("div",xe,r(i.text),1)]),_:2},1024))),128))])]),_:2},1024),e[12]||(e[12]=s("div",{class:"dot"},null,-1)),s("div",Ue,r(l.language),1),l.tag!==""?(o(),u("div",$e,r(l.tag),1)):E("",!0)]),s("div",Le,[(o(!0),u(V,null,D(l.sample,(i,f)=>(o(),u("div",{key:f,class:"voice-sample-item"},[s("div",Se,[i.isPlaying?(o(),u("div",{key:1,class:"on-plus",onClick:$=>y(l.id,f)},null,8,De)):(o(),u("div",{key:0,class:"close-plus",onClick:$=>y(l.id,f)},null,8,Ve))]),s("div",Ne,r(i.text),1)]))),128))]),s("div",Pe,[n(m(L),{size:"large",color:"black",onClick:i=>R(l.id)},{default:a(()=>e[13]||(e[13]=[S("使用声音")])),_:2},1032,["onClick"]),s("div",ze,[s("div",je,[e[14]||(e[14]=s("div",{class:"used"},null,-1)),s("div",Ee,r(C(l.peopleCount))+" Used ",1)]),s("div",Te,[s("div",{class:"shared",onClick:i=>W(l.id)},null,8,Be),s("div",Me,r(C(l.shareCount))+" Shares ",1)]),s("div",qe,[l.isLiked?(o(),u("div",{key:1,class:"likefill",onClick:i=>{l.isLiked=!l.isLiked,l.likeCount--}},null,8,Ae)):(o(),u("div",{key:0,class:"like",onClick:i=>{l.isLiked=!l.isLiked,l.likeCount++,l.isUnliked=!1}},null,8,Ie)),s("div",Fe,r(C(l.likeCount)),1)]),s("div",Oe,[l.isUnliked?(o(),u("div",{key:1,class:"unlikefill",onClick:i=>l.isUnliked=!l.isUnliked},null,8,Re)):(o(),u("div",{key:0,class:"unlike",onClick:i=>{l.isUnliked=!l.isUnliked,l.isLiked===!0&&(l.likeCount--,l.isLiked=!1)}},null,8,Ke))]),s("div",We,[l.isCollected?(o(),v(d,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:i=>{l.isCollected=!l.isCollected,l.collectCount--}},{default:a(()=>[n(m(ae))]),_:2},1032,["onClick"])):(o(),v(d,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:i=>{l.isCollected=!l.isCollected,l.collectCount++}},{default:a(()=>[n(m(ne))]),_:2},1032,["onClick"])),s("div",Ge,r(C(l.collectCount)),1)])])])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1}),n(b,{span:5},{default:a(()=>e[15]||(e[15]=[S("111")])),_:1})]),_:1})}}},el=ee(He,[["__scopeId","data-v-83161dcb"]]);export{el as default};
