import{_ as A,r as f,J as F,u as G,p as H,a as p,x as r,o as c,z as j,b as a,G as U,H as E,c as w,w as i,d as e,y as v,f as b,A as J,e as P,B as R,C as W,I as M,K,L as Q}from"./index-CC9N0pV2.js";import{t as X}from"./time-tY07ncrd.js";import{a as O}from"./sound-BznpVhuQ.js";import{M as q}from"./Select-dpKO6b5j.js";import{M as Y}from"./SelectChange-uyJvoHZJ.js";const Z={key:0},ee=["onClick"],se={class:"voice-detail"},le={class:"display-detail"},te={class:"display-detail"},oe={style:{display:"flex","flex-direction":"row",gap:"10px",cursor:"pointer"}},ae={class:"display-detail"},ne={class:"audio-samples"},ie={class:"samples-content"},ce={class:"samples-index"},de={class:"sample-btn"},ue=["src"],re=["src"],pe=["onClick"],ve=["onClick"],_e={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},me={class:"tag1"},fe={key:0,class:"tag2",style:{"margin-left":"5px"}},ge={class:"voice-sample"},ye={class:"sample-btn"},ke=["onClick"],he=["onClick"],Ce={style:{width:"50%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","font-size":"small"}},be={class:"btns"},Ie={class:"btns-plus"},we={class:"button"},Ve={class:"number"},$e={class:"button"},Se=["onClick"],xe={class:"number"},Te={class:"button"},Ue=["onClick"],Pe=["onClick"],Le={class:"number"},De={class:"button"},Ne=["onClick"],ze=["onClick"],Ee={class:"button"},Be={class:"number"},je={__name:"SoundItem",props:{sortValue:{type:String},languageValue:{type:String},tagValue:{type:String}},setup(B){const m=B,g=f([{voiceId:1,userName:"fc",voiceImage:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",voiceName:"55",voiceDescription:"1212",voiceCreationTime:new Date(2025,1,9,19,11),voiceUseCount:11e4,voiceShareCount:11,voiceLikeCount:20,voiceCollectCount:10,voiceLanguage:"ch",voiceTag:"aaaaaaaaa",voiceIsUsed:!1,voiceIsShared:!1,voiceIsLiked:!1,voiceIsUnliked:!1,voiceIsCollected:!1,voiceSamples:[{sampleId:1,sampleIsPlaying:!1,sampleTitle:"Default Sample",sampleText:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",sampleUrl:O},{sampleId:2,sampleIsPlaying:!1,sampleTitle:"可以让父母",sampleText:"对侧人防热非人发热功耗一节课iklo",sampleUrl:O}]}]),V=F(()=>{let l=[...g.value];return m.tagValue===""?l=[...g.value]:m.tagValue!==""&&(l=l.filter(s=>s.voiceTag===m.tagValue)),m.languageValue!=="1"&&(l=l.filter(s=>s.voiceLanguage===m.languageValue)),m.sortValue==="2"?l.sort((s,d)=>new Date(d.voiceCreationTime)-new Date(s.voiceCreationTime)):m.sortValue==="1"&&l.sort((s,d)=>d.voiceUseCount-s.voiceUseCount),l}),$=G(),S=l=>{$.push({path:"/detail",query:{id:l}})},x=l=>{$.push({path:"/explanation",query:{id:l}})};function k(l){if(typeof l!="number"||isNaN(l))return l;const s=1e3;return l>=s*10?(l/s).toFixed(2)+"K":l}const h=H({}),I=(l,s)=>{const d=g.value.find(u=>u.voiceId===l);if(!d)return;const o=d.voiceSamples[s],_=`${l}-${s}`;if(h[_]){const u=h[_];o.sampleIsPlaying?u.pause():(Object.values(h).forEach(C=>C.pause()),u.play())}else{const u=new Audio(o.sampleUrl);h[_]=u,u.addEventListener("ended",()=>{o.sampleIsPlaying=!1}),u.play()}o.sampleIsPlaying=!o.sampleIsPlaying,d.voiceSamples.forEach((u,C)=>{C!==s&&(u.sampleIsPlaying=!1)})},L=l=>{const s=g.value.findIndex(_=>_.voiceId===l);g.value[s].voiceIsShared===!1&&(g.value[s].voiceIsShared=!0,g.value[s].voiceShareCount++);const o=`${window.location.href}?id=${l}`;navigator.clipboard.writeText(o).then(async()=>{M({message:"已复制到剪贴板",position:"bottom-right"})}).catch(_=>{M({message:`复制失败: ${_.message}`,position:"bottom-right",type:"error"})})};return(l,s)=>{const d=p("el-empty"),o=p("el-image"),_=p("el-col"),u=p("el-icon"),C=p("el-card"),D=p("el-popover"),N=p("el-button"),T=p("el-row");return c(),r(U,null,[V.value.length===0?(c(),r("div",Z,[a(d,{description:"暂无数据"})])):j("",!0),(c(!0),r(U,null,E(V.value,t=>(c(),w(T,{key:t.voiceId,class:"voice-item"},{default:i(()=>[a(_,{span:3},{default:i(()=>[a(o,{style:{width:"100px",height:"100px","border-radius":"15px"},src:t.voiceImage,fit:"cover"},null,8,["src"])]),_:2},1024),a(_,{span:21},{default:i(()=>[e("div",{class:"voice-name",onClick:n=>S(t.voiceId)},v(t.voiceName),9,ee),e("div",se,[e("span",le,v(t.userName),1),s[3]||(s[3]=e("div",{class:"dot"},null,-1)),a(u,{size:"20",style:{color:"#6b7280"}},{default:i(()=>[a(b(J))]),_:1}),e("span",te,v(b(X)(t.voiceCreationTime)),1),s[4]||(s[4]=e("div",{class:"dot"},null,-1)),a(D,{placement:"bottom",width:400,trigger:"click"},{reference:i(()=>[e("div",oe,[s[0]||(s[0]=e("div",{class:"logo"},null,-1)),e("span",ae,v(t.voiceSamples.length)+" 音频示例",1)])]),default:i(()=>[e("div",ne,[s[2]||(s[2]=e("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(c(!0),r(U,null,E(t.voiceSamples,(n,y)=>(c(),w(C,{key:y,class:"samples-item",shadow:"never"},{default:i(()=>[e("div",ie,[e("div",null,[e("span",ce,v(y+1),1),e("span",null,v(n.sampleTitle),1)]),e("div",de,[e("audio",null,[e("source",{src:n.sampleUrl,type:"audio/mp4"},null,8,ue),e("source",{src:n.sampleUrl,type:"audio/x-m4a"},null,8,re),s[1]||(s[1]=P(" 浏览器不支持音频播放 "))]),n.sampleIsPlaying?(c(),r("div",{key:1,class:"on",onClick:z=>{I(t.voiceId,y),n.sampleIsPlaying=!1}},null,8,ve)):(c(),r("div",{key:0,class:"close",onClick:z=>{I(t.voiceId,y),n.sampleIsPlaying=!0}},null,8,pe))])]),e("div",_e,v(n.sampleText),1)]),_:2},1024))),128))])]),_:2},1024),s[5]||(s[5]=e("div",{class:"dot"},null,-1)),e("div",me,v(t.voiceLanguage),1),t.voiceTag!==""?(c(),r("div",fe,v(t.voiceTag),1)):j("",!0)]),e("div",ge,[(c(!0),r(U,null,E(t.voiceSamples,(n,y)=>(c(),r("div",{key:y,class:"voice-sample-item"},[e("div",ye,[n.sampleIsPlaying?(c(),r("div",{key:1,class:"on-plus",onClick:z=>I(t.voiceId,y)},null,8,he)):(c(),r("div",{key:0,class:"close-plus",onClick:z=>I(t.voiceId,y)},null,8,ke))]),e("div",Ce,v(n.sampleText),1)]))),128))]),e("div",be,[a(N,{size:"large",color:"black",onClick:n=>x(t.voiceId)},{default:i(()=>s[6]||(s[6]=[P("使用声音")])),_:2},1032,["onClick"]),e("div",Ie,[e("div",we,[s[7]||(s[7]=e("div",{class:"used"},null,-1)),e("div",Ve,v(k(t.voiceUseCount))+" Used ",1)]),e("div",$e,[e("div",{class:"shared",onClick:n=>L(t.voiceId)},null,8,Se),e("div",xe,v(k(t.voiceShareCount))+" Shares ",1)]),e("div",Te,[t.voiceIsLiked===1?(c(),r("div",{key:0,class:"likefill",onClick:n=>l.toggleLike(t)},null,8,Ue)):(c(),r("div",{key:1,class:"like",onClick:n=>l.toggleLike(t)},null,8,Pe)),e("div",Le,v(k(t.voiceLikeCount)),1)]),e("div",De,[t.voiceIsLiked===2?(c(),r("div",{key:0,class:"unlikefill",onClick:n=>l.toggleDislike(t)},null,8,Ne)):(c(),r("div",{key:1,class:"unlike",onClick:n=>l.toggleDislike(t)},null,8,ze))]),e("div",Ee,[t.voiceIsCollected?(c(),w(u,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:n=>l.toggleCollect(t)},{default:i(()=>[a(b(W))]),_:2},1032,["onClick"])):(c(),w(u,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:n=>l.toggleCollect(t)},{default:i(()=>[a(b(R))]),_:2},1032,["onClick"])),e("div",Be,v(k(t.voiceCollectCount)),1)])])])]),_:2},1024)]),_:2},1024))),128))],64)}}},Me=A(je,[["__scopeId","data-v-dadd42da"]]),Ke={class:"action-bar"},Oe={class:"content"},qe={style:{display:"flex","justify-content":"center"}},Ae={__name:"Discover",setup(B){const m=f("#f5f5f5"),g=f([{value:"1",label:"推荐"},{value:"2",label:"最新"}]),V=f([{value:"1",label:"所有"},{value:"ch",label:"汉语"},{value:"en",label:"English"}]),$=f(),S=f(""),x=f("1"),k=f(""),h=f(""),I=d=>{S.value=d},L=d=>{x.value=d},l=d=>{h.value=d},s=f(!1);return(d,o)=>{const _=p("el-icon"),u=p("el-popover"),C=p("el-header"),D=p("el-main"),N=p("el-container"),T=p("el-col"),t=p("el-row");return c(),w(t,null,{default:i(()=>[a(T,{span:17},{default:i(()=>[a(N,{class:"sound-manager"},{default:i(()=>[a(C,{class:"display"},{default:i(()=>[o[7]||(o[7]=e("div",{class:"title"},"列表",-1)),e("div",Ke,[o[5]||(o[5]=e("span",{class:"header-tip"},"排序",-1)),a(q,{options:g.value,"input-width":"230px",color:m.value,"onUpdate:value":I},null,8,["options","color"]),o[6]||(o[6]=e("span",{class:"header-tip"},"语言",-1)),a(q,{options:V.value,"input-width":"230px",color:m.value,"onUpdate:value":L},null,8,["options","color"]),a(u,{placement:"bottom",width:250,visible:s.value},{reference:i(()=>[a(b(K),{size:"large",class:"btn",onClick:o[0]||(o[0]=n=>s.value=!s.value)},{default:i(()=>[a(_,{size:"20",color:"black"},{default:i(()=>[a(b(Q))]),_:1})]),_:1})]),default:i(()=>[e("div",Oe,[o[3]||(o[3]=e("div",{class:"content-header"},[e("span",{style:{"font-size":"large","font-weight":"600",color:"black"}},"筛选")],-1)),o[4]||(o[4]=e("div",null,"标签",-1)),a(Y,{options:$.value,"input-width":"200px","onUpdate:value":l},null,8,["options"]),e("div",qe,[a(b(K),{color:"black",style:{width:"95%"},onClick:o[1]||(o[1]=n=>{s.value=!1,k.value=h.value})},{default:i(()=>o[2]||(o[2]=[P("应用")])),_:1})])])]),_:1},8,["visible"])])]),_:1}),a(D,null,{default:i(()=>[a(Me,{sortValue:S.value,languageValue:x.value,tagValue:k.value},null,8,["sortValue","languageValue","tagValue"])]),_:1})]),_:1})]),_:1}),a(T,{span:5},{default:i(()=>o[8]||(o[8]=[P("111")])),_:1})]),_:1})}}},We=A(Ae,[["__scopeId","data-v-42b08d00"]]);export{We as default};
