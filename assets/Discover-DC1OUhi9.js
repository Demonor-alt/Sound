import{_ as G,r as m,J,u as R,p as W,a as u,x as d,o as a,z as K,b as o,G as P,H as j,c as V,w as n,d as s,y as r,f as w,A as Q,e as N,B as X,C as Y,I as O,K as q,L as Z}from"./index-fF0YfAco.js";import{t as ee}from"./time-tY07ncrd.js";import{a as A}from"./sound-BznpVhuQ.js";import{M as F}from"./Select-B39IAtTp.js";import{M as se}from"./SelectChange-BQrFhKDn.js";const le={key:0},te=["onClick"],oe={class:"voice-detail"},ne={class:"display-detail"},ae={class:"display-detail"},ie={style:{display:"flex","flex-direction":"row",gap:"10px",cursor:"pointer"}},ce={class:"display-detail"},de={class:"audio-samples"},ue={class:"samples-content"},re={class:"samples-index"},pe={class:"sample-btn"},ve=["src"],_e=["src"],fe=["onClick"],me=["onClick"],ge={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},ke={class:"tag1"},ye={key:0,class:"tag2",style:{"margin-left":"5px"}},Ce={class:"voice-sample"},he={class:"sample-btn"},Ie=["onClick"],be=["onClick"],we={style:{width:"50%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","font-size":"small"}},Le={class:"btns"},Ve={class:"btns-plus"},xe={class:"button"},$e={class:"number"},Se={class:"button"},Ue=["onClick"],Te={class:"number"},Pe={class:"button"},Ne=["onClick"],ze=["onClick"],De={class:"number"},Ee={class:"button"},Be=["onClick"],je=["onClick"],Me={class:"button"},Ke={class:"number"},Oe={__name:"SoundItem",props:{sortValue:{type:String},languageValue:{type:String},tagValue:{type:String}},setup(M){const f=M,g=m([{voiceId:1,userName:"fc",voiceImage:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",voiceName:"55",voiceDescription:"1212",voiceCreationTime:new Date(2025,1,9,19,11),voiceUseCount:11e4,voiceShareCount:11,voiceLikeCount:20,voiceCollectCount:10,voiceLanguage:"ch",voiceTag:"aaaaaaaaa",voiceIsUsed:!1,voiceIsShared:!1,voiceIsLiked:!1,voiceIsUnliked:!1,voiceIsCollected:!1,voiceSamples:[{sampleId:1,sampleIsPlaying:!1,sampleTitle:"Default Sample",sampleText:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",sampleUrl:A},{sampleId:2,sampleIsPlaying:!1,sampleTitle:"可以让父母",sampleText:"对侧人防热非人发热功耗一节课iklo",sampleUrl:A}]}]),x=J(()=>{let e=[...g.value];return f.tagValue===""?e=[...g.value]:f.tagValue!==""&&(e=e.filter(l=>l.voiceTag===f.tagValue)),f.languageValue!=="1"&&(e=e.filter(l=>l.voiceLanguage===f.languageValue)),f.sortValue==="2"?e.sort((l,p)=>new Date(p.voiceCreationTime)-new Date(l.voiceCreationTime)):f.sortValue==="1"&&e.sort((l,p)=>p.voiceUseCount-l.voiceUseCount),e}),$=R(),S=e=>{$.push({path:"/detail",query:{id:e}})},U=e=>{$.push({path:"/explanation",query:{id:e}})};function h(e){if(typeof e!="number"||isNaN(e))return e;const l=1e3;return e>=l*10?(e/l).toFixed(2)+"K":e}const I=W({}),L=(e,l)=>{const p=g.value.find(c=>c.voiceId===e);if(!p)return;const _=p.voiceSamples[l],v=`${e}-${l}`;if(I[v]){const c=I[v];_.sampleIsPlaying?c.pause():(Object.values(I).forEach(y=>y.pause()),c.play())}else{const c=new Audio(_.sampleUrl);I[v]=c,c.addEventListener("ended",()=>{_.sampleIsPlaying=!1}),c.play()}_.sampleIsPlaying=!_.sampleIsPlaying,p.voiceSamples.forEach((c,y)=>{y!==l&&(c.sampleIsPlaying=!1)})},z=e=>{const l=g.value.findIndex(v=>v.voiceId===e);g.value[l].voiceIsShared===!1&&(g.value[l].voiceIsShared=!0,g.value[l].voiceShareCount++);const _=`${window.location.href}?id=${e}`;navigator.clipboard.writeText(_).then(async()=>{O({message:"已复制到剪贴板",position:"bottom-right"})}).catch(v=>{O({message:`复制失败: ${v.message}`,position:"bottom-right",type:"error"})})},T=async e=>{e.voiceIsLiked===1?(e.voiceIsLiked=0,e.voiceLikeCount--):(e.voiceIsLiked===2&&(e.voiceIsUnliked=!1),e.voiceIsLiked=1,e.voiceLikeCount++),e.voiceId,e.voiceLikeCount},b=async e=>{e.voiceIsLiked===2?(e.voiceIsLiked=0,e.voiceIsUnliked=!1):(e.voiceIsLiked===1&&(e.voiceLikeCount--,e.voiceIsLiked=0),e.voiceIsLiked=2,e.voiceIsUnliked=!0),e.voiceId,e.voiceLikeCount},k=async e=>{e.voiceIsCollected=!e.voiceIsCollected,e.voiceIsCollected?e.voiceCollectCount++:e.voiceCollectCount--,e.voiceId,e.voiceCollectCount};return(e,l)=>{const p=u("el-empty"),_=u("el-image"),v=u("el-col"),c=u("el-icon"),y=u("el-card"),D=u("el-popover"),E=u("el-button"),H=u("el-row");return a(),d(P,null,[x.value.length===0?(a(),d("div",le,[o(p,{description:"暂无数据"})])):K("",!0),(a(!0),d(P,null,j(x.value,t=>(a(),V(H,{key:t.voiceId,class:"voice-item"},{default:n(()=>[o(v,{span:3},{default:n(()=>[o(_,{style:{width:"100px",height:"100px","border-radius":"15px"},src:t.voiceImage,fit:"cover"},null,8,["src"])]),_:2},1024),o(v,{span:21},{default:n(()=>[s("div",{class:"voice-name",onClick:i=>S(t.voiceId)},r(t.voiceName),9,te),s("div",oe,[s("span",ne,r(t.userName),1),l[3]||(l[3]=s("div",{class:"dot"},null,-1)),o(c,{size:"20",style:{color:"#6b7280"}},{default:n(()=>[o(w(Q))]),_:1}),s("span",ae,r(w(ee)(t.voiceCreationTime)),1),l[4]||(l[4]=s("div",{class:"dot"},null,-1)),o(D,{placement:"bottom",width:400,trigger:"click"},{reference:n(()=>[s("div",ie,[l[0]||(l[0]=s("div",{class:"logo"},null,-1)),s("span",ce,r(t.voiceSamples.length)+" 音频示例",1)])]),default:n(()=>[s("div",de,[l[2]||(l[2]=s("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(a(!0),d(P,null,j(t.voiceSamples,(i,C)=>(a(),V(y,{key:C,class:"samples-item",shadow:"never"},{default:n(()=>[s("div",ue,[s("div",null,[s("span",re,r(C+1),1),s("span",null,r(i.sampleTitle),1)]),s("div",pe,[s("audio",null,[s("source",{src:i.sampleUrl,type:"audio/mp4"},null,8,ve),s("source",{src:i.sampleUrl,type:"audio/x-m4a"},null,8,_e),l[1]||(l[1]=N(" 浏览器不支持音频播放 "))]),i.sampleIsPlaying?(a(),d("div",{key:1,class:"on",onClick:B=>{L(t.voiceId,C),i.sampleIsPlaying=!1}},null,8,me)):(a(),d("div",{key:0,class:"close",onClick:B=>{L(t.voiceId,C),i.sampleIsPlaying=!0}},null,8,fe))])]),s("div",ge,r(i.sampleText),1)]),_:2},1024))),128))])]),_:2},1024),l[5]||(l[5]=s("div",{class:"dot"},null,-1)),s("div",ke,r(t.voiceLanguage),1),t.voiceTag!==""?(a(),d("div",ye,r(t.voiceTag),1)):K("",!0)]),s("div",Ce,[(a(!0),d(P,null,j(t.voiceSamples,(i,C)=>(a(),d("div",{key:C,class:"voice-sample-item"},[s("div",he,[i.sampleIsPlaying?(a(),d("div",{key:1,class:"on-plus",onClick:B=>L(t.voiceId,C)},null,8,be)):(a(),d("div",{key:0,class:"close-plus",onClick:B=>L(t.voiceId,C)},null,8,Ie))]),s("div",we,r(i.sampleText),1)]))),128))]),s("div",Le,[o(E,{size:"large",color:"black",onClick:i=>U(t.voiceId)},{default:n(()=>l[6]||(l[6]=[N("使用声音")])),_:2},1032,["onClick"]),s("div",Ve,[s("div",xe,[l[7]||(l[7]=s("div",{class:"used"},null,-1)),s("div",$e,r(h(t.voiceUseCount))+" Used ",1)]),s("div",Se,[s("div",{class:"shared",onClick:i=>z(t.voiceId)},null,8,Ue),s("div",Te,r(h(t.voiceShareCount))+" Shares ",1)]),s("div",Pe,[t.voiceIsLiked===1?(a(),d("div",{key:0,class:"likefill",onClick:i=>T(t)},null,8,Ne)):(a(),d("div",{key:1,class:"like",onClick:i=>T(t)},null,8,ze)),s("div",De,r(h(t.voiceLikeCount)),1)]),s("div",Ee,[t.voiceIsLiked===2?(a(),d("div",{key:0,class:"unlikefill",onClick:i=>b(t)},null,8,Be)):(a(),d("div",{key:1,class:"unlike",onClick:i=>b(t)},null,8,je))]),s("div",Me,[t.voiceIsCollected?(a(),V(c,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:i=>k(t)},{default:n(()=>[o(w(Y))]),_:2},1032,["onClick"])):(a(),V(c,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:i=>k(t)},{default:n(()=>[o(w(X))]),_:2},1032,["onClick"])),s("div",Ke,r(h(t.voiceCollectCount)),1)])])])]),_:2},1024)]),_:2},1024))),128))],64)}}},qe=G(Oe,[["__scopeId","data-v-1ee46f5d"]]),Ae={class:"action-bar"},Fe={class:"content"},Ge={style:{display:"flex","justify-content":"center"}},He={__name:"Discover",setup(M){const f=m("#f5f5f5"),g=m([{value:"1",label:"推荐"},{value:"2",label:"最新"}]),x=m([{value:"1",label:"所有"},{value:"ch",label:"汉语"},{value:"en",label:"English"}]),$=m(),S=m(""),U=m("1"),h=m(""),I=m(""),L=k=>{S.value=k},z=k=>{U.value=k},T=k=>{I.value=k},b=m(!1);return(k,e)=>{const l=u("el-icon"),p=u("el-popover"),_=u("el-header"),v=u("el-main"),c=u("el-container"),y=u("el-col"),D=u("el-row");return a(),V(D,null,{default:n(()=>[o(y,{span:17},{default:n(()=>[o(c,{class:"sound-manager"},{default:n(()=>[o(_,{class:"display"},{default:n(()=>[e[7]||(e[7]=s("div",{class:"title"},"列表",-1)),s("div",Ae,[e[5]||(e[5]=s("span",{class:"header-tip"},"排序",-1)),o(F,{options:g.value,"input-width":"230px",color:f.value,"onUpdate:value":L},null,8,["options","color"]),e[6]||(e[6]=s("span",{class:"header-tip"},"语言",-1)),o(F,{options:x.value,"input-width":"230px",color:f.value,"onUpdate:value":z},null,8,["options","color"]),o(p,{placement:"bottom",width:250,visible:b.value},{reference:n(()=>[o(w(q),{size:"large",class:"btn",onClick:e[0]||(e[0]=E=>b.value=!b.value)},{default:n(()=>[o(l,{size:"20",color:"black"},{default:n(()=>[o(w(Z))]),_:1})]),_:1})]),default:n(()=>[s("div",Fe,[e[3]||(e[3]=s("div",{class:"content-header"},[s("span",{style:{"font-size":"large","font-weight":"600",color:"black"}},"筛选")],-1)),e[4]||(e[4]=s("div",null,"标签",-1)),o(se,{options:$.value,"input-width":"200px","onUpdate:value":T},null,8,["options"]),s("div",Ge,[o(w(q),{color:"black",style:{width:"95%"},onClick:e[1]||(e[1]=E=>{b.value=!1,h.value=I.value})},{default:n(()=>e[2]||(e[2]=[N("应用")])),_:1})])])]),_:1},8,["visible"])])]),_:1}),o(v,null,{default:n(()=>[o(qe,{sortValue:S.value,languageValue:U.value,tagValue:h.value},null,8,["sortValue","languageValue","tagValue"])]),_:1})]),_:1})]),_:1}),o(y,{span:5},{default:n(()=>e[8]||(e[8]=[N("111")])),_:1})]),_:1})}}},Ye=G(He,[["__scopeId","data-v-42b08d00"]]);export{Ye as default};
