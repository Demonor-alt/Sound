import{_ as O,r as m,H as F,u as A,I as G,a as p,q as r,o as d,y as M,b as o,F as D,E as T,c as V,w as i,e as l,x as _,g as C,z as H,f as L,A as J,B as R,G as W,J as I,K as Q}from"./index-Be6A6laZ.js";import{t as X}from"./time-tY07ncrd.js";import{a as B}from"./sound-BznpVhuQ.js";import{M as K}from"./Select-Bzgn6IH2.js";import{M as Y}from"./SelectChange-BXh1nZYm.js";const Z={key:0},ee=["onClick"],le={class:"voice-detail"},se={class:"display-detail"},te={class:"display-detail"},ne={style:{display:"flex","flex-direction":"row",gap:"10px",cursor:"pointer"}},oe={class:"display-detail"},ae={class:"audio-samples"},ie={class:"samples-content"},de={class:"samples-index"},ue={class:"sample-btn"},ce=["src"],re=["src"],pe=["onClick"],_e=["onClick"],fe={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},me={class:"tag1"},ge={key:0,class:"tag2",style:{"margin-left":"5px"}},ke={class:"voice-sample"},ve={class:"sample-btn"},ye=["onClick"],he=["onClick"],Ce={style:{width:"50%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","font-size":"small"}},be={class:"btns"},we={class:"btns-plus"},Ve={class:"button"},xe={class:"number"},$e={class:"button"},Ue=["onClick"],Se={class:"number"},Pe={class:"button"},ze=["onClick"],De=["onClick"],Le={class:"number"},Ne={class:"button"},je=["onClick"],Ee=["onClick"],Te={class:"button"},Be={class:"number"},qe={__name:"SoundItem",props:{sortValue:{type:String},languageValue:{type:String},tagValue:{type:String}},setup(q){const f=q,g=m([{id:1,userName:"fc",image:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",name:"55",description:"1212",creationTime:new Date(2025,1,9,19,11),status:"成功",audioUrl:"/samples/sample1.mp3",peopleCount:11e4,shareCount:11,likeCount:20,collectCount:10,language:"ch",tag:"aaaaaaaaa",isUsed:!1,isShared:!1,isLiked:!1,isUnliked:!1,isCollected:!1,sample:[{id:1,isPlaying:!1,title:"Default Sample",text:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",url:B},{id:2,isPlaying:!1,title:"方可让父母",text:"对侧人防热非人发热功耗一节课iklo",url:B}]},{id:2,userName:"fcds",image:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",name:"55",description:"1212",creationTime:new Date(2025,1,9,19,10),status:"成功",audioUrl:"/samples/sample1.mp3",peopleCount:15,shareCount:12,likeCount:20,collectCount:10,language:"en",tag:"1",isUsed:!1,isShared:!1,isLiked:!1,isUnliked:!1,isCollected:!1,sample:[{id:1,isPlaying:!1,title:"Default Sample",text:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",url:B}]}]),x=F(()=>{let t=[...g.value];return f.tagValue===""?t=[...g.value]:f.tagValue!==""&&(t=t.filter(s=>s.tag===f.tagValue)),f.languageValue!=="1"&&(t=t.filter(s=>s.language===f.languageValue)),f.sortValue==="2"?t.sort((s,u)=>new Date(u.creationTime)-new Date(s.creationTime)):f.sortValue==="1"&&t.sort((s,u)=>u.peopleCount-s.peopleCount),t}),$=A(),U=t=>{$.push({path:"/detail",query:{id:t}})},S=t=>{$.push({path:"/explanation",query:{id:t}})};function y(t){if(typeof t!="number"||isNaN(t))return t;const s=1e3;return t>=s*10?(t/s).toFixed(2)+"K":t}const P=t=>{const s=g.value.findIndex(u=>u.id===t);g.value[s].isShared===!1&&(g.value[s].isShared=!0,g.value[s].shareCount++),W({message:"已复制到剪贴板",position:"bottom-right"})},b=G({}),w=(t,s)=>{const u=g.value.find(c=>c.id===t);if(!u)return;const n=u.sample[s],k=`${t}-${s}`;if(b[k]){const c=b[k];n.isPlaying?c.pause():(Object.values(b).forEach(h=>h.pause()),c.play())}else{const c=new Audio(n.url);b[k]=c,c.addEventListener("ended",()=>{n.isPlaying=!1}),c.play()}n.isPlaying=!n.isPlaying,u.sample.forEach((c,h)=>{h!==s&&(c.isPlaying=!1)})};return(t,s)=>{const u=p("el-empty"),n=p("el-image"),k=p("el-col"),c=p("el-icon"),h=p("el-card"),N=p("el-popover"),j=p("el-button"),z=p("el-row");return d(),r(D,null,[x.value.length===0?(d(),r("div",Z,[o(u,{description:"暂无数据"})])):M("",!0),(d(!0),r(D,null,T(x.value,e=>(d(),V(z,{key:e.id,class:"voice-item"},{default:i(()=>[o(k,{span:3},{default:i(()=>[o(n,{style:{width:"100px",height:"100px","border-radius":"15px"},src:e.image,fit:"cover"},null,8,["src"])]),_:2},1024),o(k,{span:21},{default:i(()=>[l("div",{class:"voice-name",onClick:a=>U(e.id)},_(e.name),9,ee),l("div",le,[l("span",se,_(e.userName),1),s[3]||(s[3]=l("div",{class:"dot"},null,-1)),o(c,{size:"20",style:{color:"#6b7280"}},{default:i(()=>[o(C(H))]),_:1}),l("span",te,_(C(X)(e.creationTime)),1),s[4]||(s[4]=l("div",{class:"dot"},null,-1)),o(N,{placement:"bottom",width:400,trigger:"click"},{reference:i(()=>[l("div",ne,[s[0]||(s[0]=l("div",{class:"logo"},null,-1)),l("span",oe,_(e.sample.length)+" 音频示例",1)])]),default:i(()=>[l("div",ae,[s[2]||(s[2]=l("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(d(!0),r(D,null,T(e.sample,(a,v)=>(d(),V(h,{key:v,class:"samples-item",shadow:"never"},{default:i(()=>[l("div",ie,[l("div",null,[l("span",de,_(v+1),1),l("span",null,_(a.title),1)]),l("div",ue,[l("audio",null,[l("source",{src:a.url,type:"audio/mp4"},null,8,ce),l("source",{src:a.url,type:"audio/x-m4a"},null,8,re),s[1]||(s[1]=L(" 浏览器不支持音频播放 "))]),a.isPlaying?(d(),r("div",{key:1,class:"on",onClick:E=>{w(e.id,v),a.isPlaying=!1}},null,8,_e)):(d(),r("div",{key:0,class:"close",onClick:E=>{w(e.id,v),a.isPlaying=!0}},null,8,pe))])]),l("div",fe,_(a.text),1)]),_:2},1024))),128))])]),_:2},1024),s[5]||(s[5]=l("div",{class:"dot"},null,-1)),l("div",me,_(e.language),1),e.tag!==""?(d(),r("div",ge,_(e.tag),1)):M("",!0)]),l("div",ke,[(d(!0),r(D,null,T(e.sample,(a,v)=>(d(),r("div",{key:v,class:"voice-sample-item"},[l("div",ve,[a.isPlaying?(d(),r("div",{key:1,class:"on-plus",onClick:E=>w(e.id,v)},null,8,he)):(d(),r("div",{key:0,class:"close-plus",onClick:E=>w(e.id,v)},null,8,ye))]),l("div",Ce,_(a.text),1)]))),128))]),l("div",be,[o(j,{size:"large",color:"black",onClick:a=>S(e.id)},{default:i(()=>s[6]||(s[6]=[L("使用声音")])),_:2},1032,["onClick"]),l("div",we,[l("div",Ve,[s[7]||(s[7]=l("div",{class:"used"},null,-1)),l("div",xe,_(y(e.peopleCount))+" Used ",1)]),l("div",$e,[l("div",{class:"shared",onClick:a=>P(e.id)},null,8,Ue),l("div",Se,_(y(e.shareCount))+" Shares ",1)]),l("div",Pe,[e.isLiked?(d(),r("div",{key:1,class:"likefill",onClick:a=>{e.isLiked=!e.isLiked,e.likeCount--}},null,8,De)):(d(),r("div",{key:0,class:"like",onClick:a=>{e.isLiked=!e.isLiked,e.likeCount++,e.isUnliked=!1}},null,8,ze)),l("div",Le,_(y(e.likeCount)),1)]),l("div",Ne,[e.isUnliked?(d(),r("div",{key:1,class:"unlikefill",onClick:a=>e.isUnliked=!e.isUnliked},null,8,Ee)):(d(),r("div",{key:0,class:"unlike",onClick:a=>{e.isUnliked=!e.isUnliked,e.isLiked===!0&&(e.likeCount--,e.isLiked=!1)}},null,8,je))]),l("div",Te,[e.isCollected?(d(),V(c,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:a=>{e.isCollected=!e.isCollected,e.collectCount--}},{default:i(()=>[o(C(R))]),_:2},1032,["onClick"])):(d(),V(c,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:a=>{e.isCollected=!e.isCollected,e.collectCount++}},{default:i(()=>[o(C(J))]),_:2},1032,["onClick"])),l("div",Be,_(y(e.collectCount)),1)])])])]),_:2},1024)]),_:2},1024))),128))],64)}}},Me=O(qe,[["__scopeId","data-v-72566522"]]),Ie={class:"action-bar"},Ke={class:"content"},Oe={style:{display:"flex","justify-content":"center"}},Fe={__name:"Discover",setup(q){const f=m("#f5f5f5"),g=m([{value:"1",label:"推荐"},{value:"2",label:"最新"}]),x=m([{value:"1",label:"所有"},{value:"ch",label:"汉语"},{value:"en",label:"English"}]),$=m(),U=m(""),S=m("1"),y=m(""),P=m(""),b=u=>{U.value=u},w=u=>{S.value=u},t=u=>{P.value=u},s=m(!1);return(u,n)=>{const k=p("el-icon"),c=p("el-popover"),h=p("el-header"),N=p("el-main"),j=p("el-container"),z=p("el-col"),e=p("el-row");return d(),V(e,null,{default:i(()=>[o(z,{span:17},{default:i(()=>[o(j,{class:"sound-manager"},{default:i(()=>[o(h,{class:"display"},{default:i(()=>[n[7]||(n[7]=l("div",{class:"title"},"列表",-1)),l("div",Ie,[n[5]||(n[5]=l("span",{class:"header-tip"},"排序",-1)),o(K,{options:g.value,"input-width":"230px",color:f.value,"onUpdate:value":b},null,8,["options","color"]),n[6]||(n[6]=l("span",{class:"header-tip"},"语言",-1)),o(K,{options:x.value,"input-width":"230px",color:f.value,"onUpdate:value":w},null,8,["options","color"]),o(c,{placement:"bottom",width:250,visible:s.value},{reference:i(()=>[o(C(I),{size:"large",class:"btn",onClick:n[0]||(n[0]=a=>s.value=!s.value)},{default:i(()=>[o(k,{size:"20",color:"black"},{default:i(()=>[o(C(Q))]),_:1})]),_:1})]),default:i(()=>[l("div",Ke,[n[3]||(n[3]=l("div",{class:"content-header"},[l("span",{style:{"font-size":"large","font-weight":"600",color:"black"}},"筛选")],-1)),n[4]||(n[4]=l("div",null,"标签",-1)),o(Y,{options:$.value,"input-width":"200px","onUpdate:value":t},null,8,["options"]),l("div",Oe,[o(C(I),{color:"black",style:{width:"95%"},onClick:n[1]||(n[1]=a=>{s.value=!1,y.value=P.value})},{default:i(()=>n[2]||(n[2]=[L("应用")])),_:1})])])]),_:1},8,["visible"])])]),_:1}),o(N,null,{default:i(()=>[o(Me,{sortValue:U.value,languageValue:S.value,tagValue:y.value},null,8,["sortValue","languageValue","tagValue"])]),_:1})]),_:1})]),_:1}),o(z,{span:5},{default:i(()=>n[8]||(n[8]=[L("111")])),_:1})]),_:1})}}},We=O(Fe,[["__scopeId","data-v-967d20c6"]]);export{We as default};
