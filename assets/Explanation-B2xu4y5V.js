import{_ as ve,r as f,u as pe,q as Pe,y as ae,a as y,z as r,o as n,B as se,b as t,I as M,J,c as T,w as i,d as e,A as u,f as _,C as me,e as w,D as _e,F as fe,K,N as ls,p as is,W as as,L as B,X as ue,n as Ue,Y as ns,Z as ds,$ as cs,T as Se,M as us,a0 as rs,a1 as vs,a2 as ps,a3 as Te,O as Ve,a4 as ms,l as ze}from"./index-nul92AtY.js";import{M as _s,S as fs}from"./SelectChange-Db8bKemW.js";import{t as ke}from"./time-tY07ncrd.js";import{a as te}from"./sound-BznpVhuQ.js";import{d as De,a as ne,b as Ee,c as ks,M as ie}from"./discover-CMoemLpk.js";import{b as gs}from"./collect-wqDWNqh7.js";import{u as je}from"./token-B0qhkMgq.js";import{j as ys,e as hs}from"./mybank-D6fkk-Td.js";import{A as Ne}from"./AudioPlayer-COlMsPVm.js";import{M as re}from"./Input-C-Uiudrh.js";import"./request-BOueOQYg.js";const Cs={key:0},bs=["onClick"],Is={class:"voice-detail"},$s={class:"display-detail"},ws={class:"display-detail"},xs={style:{display:"flex","flex-direction":"row",gap:"10px",cursor:"pointer"}},Ls={class:"display-detail"},Us={class:"audio-samples"},Ss={class:"samples-content"},Ts={class:"samples-index"},Vs={class:"sample-btn"},zs=["src"],Ns=["src"],Ps=["onClick"],Ds=["onClick"],Es={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},js={class:"tag1"},Ms={key:0,class:"tag2",style:{"margin-left":"5px"}},Rs={class:"voice-sample"},qs={class:"sample-btn"},As=["onClick"],Fs=["onClick"],Bs={style:{width:"50%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","font-size":"small"}},Ks={class:"btns"},Os={class:"btns-plus"},Ws={class:"button"},Qs={class:"number"},Xs={class:"button"},Gs=["onClick"],Hs={class:"number"},Js={class:"button"},Ys=["onClick"],Zs=["onClick"],et={class:"number"},st={class:"button"},tt=["onClick"],ot=["onClick"],lt={class:"button"},it={class:"number"},at={__name:"CollectSoundItem",setup(de){const L=f([{voiceId:2,userName:"fc",voiceImage:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",voiceName:"55",voiceDescription:"1212",voiceCreationTime:new Date(2025,1,9,19,11),voiceUseCount:11e4,voiceShareCount:11,voiceLikeCount:20,voiceCollectCount:10,voiceLanguage:"ch",voiceTag:"aaaaaaaaa",voiceIsUsed:!1,voiceIsShared:!1,voiceIsLiked:!1,voiceIsUnliked:!1,voiceIsCollected:!1,voiceSamples:[{sampleId:1,sampleIsPlaying:!1,sampleTitle:"Default Sample",sampleText:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",sampleUrl:te},{sampleId:2,sampleIsPlaying:!1,sampleTitle:"可以让父母",sampleText:"对侧人防热非人发热功耗一节课iklo",sampleUrl:te}]}]),U=pe(),Y=a=>{U.push({path:"/detail",query:{id:a}})},Z=a=>{U.push({path:"/explanation",query:{id:a}})};function R(a){if(typeof a!="number"||isNaN(a))return a;const v=1e3;return a>=v*10?(a/v).toFixed(2)+"K":a}const z=Pe({}),V=(a,v)=>{const l=L.value.find(g=>g.voiceId===a);if(!l)return;const d=l.voiceSamples[v],C=`${a}-${v}`;if(z[C]){const g=z[C];d.sampleIsPlaying?g.pause():(Object.values(z).forEach(b=>b.pause()),g.play())}else{const g=new Audio(d.sampleUrl);z[C]=g,g.addEventListener("ended",()=>{d.sampleIsPlaying=!1}),g.play()}d.sampleIsPlaying=!d.sampleIsPlaying,l.voiceSamples.forEach((g,b)=>{b!==v&&(g.sampleIsPlaying=!1)})},E=je();ae(async()=>{let a=await gs(E.token.userId);L.value=a.data});const N=a=>{const v=L.value.findIndex(C=>C.voiceId===a);L.value[v].voiceIsShared===!1&&(L.value[v].voiceIsShared=!0,L.value[v].voiceShareCount++);const d=`${window.location.href}?id=${a}`;navigator.clipboard.writeText(d).then(async()=>{K({message:"已复制到剪贴板",position:"bottom-right"});try{let C=await De(a)}catch(C){console.error("分享服务调用失败:",C),K({message:`分享服务调用失败: ${C.message}`,position:"bottom-right",type:"error"})}}).catch(C=>{K({message:`复制失败: ${C.message}`,position:"bottom-right",type:"error"})})},O=async a=>{a.voiceIsLiked===1?(a.voiceIsLiked=0,a.voiceLikeCount--):(a.voiceIsLiked===2&&(a.voiceIsUnliked=!1),a.voiceIsLiked=1,a.voiceLikeCount++);const v={voiceId:a.voiceId,voiceLikeCount:a.voiceLikeCount};await ne(v)},W=async a=>{a.voiceIsLiked===2?(a.voiceIsLiked=0,a.voiceIsUnliked=!1):(a.voiceIsLiked===1&&(a.voiceLikeCount--,a.voiceIsLiked=0),a.voiceIsLiked=2,a.voiceIsUnliked=!0);const v={voiceId:a.voiceId,voiceLikeCount:a.voiceLikeCount};await ne(v)},q=async a=>{a.voiceIsCollected=!a.voiceIsCollected,a.voiceIsCollected?a.voiceCollectCount++:a.voiceCollectCount--;const v={voiceId:a.voiceId,voiceCollectCount:a.voiceCollectCount};await Ee(v)};return(a,v)=>{const l=y("el-empty"),d=y("el-image"),C=y("el-col"),g=y("el-icon"),b=y("el-card"),x=y("el-popover"),j=y("el-button"),ee=y("el-row");return n(),r(M,null,[L.value.length===0?(n(),r("div",Cs,[t(l,{description:"暂无数据"})])):se("",!0),(n(!0),r(M,null,J(L.value,m=>(n(),T(ee,{key:m.voiceId,class:"voice-item"},{default:i(()=>[t(C,{span:4},{default:i(()=>[t(d,{style:{width:"100px",height:"100px","border-radius":"15px"},src:m.voiceImage,fit:"cover"},null,8,["src"])]),_:2},1024),t(C,{span:20},{default:i(()=>[e("div",{class:"voice-name",onClick:h=>Y(m.voiceId)},u(m.voiceName),9,bs),e("div",Is,[e("span",$s,u(m.userName),1),v[3]||(v[3]=e("div",{class:"dot"},null,-1)),t(g,{size:"20",style:{color:"#6b7280"}},{default:i(()=>[t(_(me))]),_:1}),e("span",ws,u(_(ke)(m.voiceCreationTime)),1),v[4]||(v[4]=e("div",{class:"dot"},null,-1)),t(x,{placement:"bottom",width:400,trigger:"click"},{reference:i(()=>[e("div",xs,[v[0]||(v[0]=e("div",{class:"logo"},null,-1)),e("span",Ls,u(m.voiceSamples.length)+" 音频示例",1)])]),default:i(()=>[e("div",Us,[v[2]||(v[2]=e("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(n(!0),r(M,null,J(m.voiceSamples,(h,c)=>(n(),T(b,{key:c,class:"samples-item",shadow:"never"},{default:i(()=>[e("div",Ss,[e("div",null,[e("span",Ts,u(c+1),1),e("span",null,u(h.sampleTitle),1)]),e("div",Vs,[e("audio",null,[e("source",{src:h.sampleUrl,type:"audio/mp4"},null,8,zs),e("source",{src:h.sampleUrl,type:"audio/x-m4a"},null,8,Ns),v[1]||(v[1]=w(" 浏览器不支持音频播放 "))]),h.sampleIsPlaying?(n(),r("div",{key:1,class:"on",onClick:k=>{V(m.voiceId,c),h.sampleIsPlaying=!1}},null,8,Ds)):(n(),r("div",{key:0,class:"close",onClick:k=>{V(m.voiceId,c),h.sampleIsPlaying=!0}},null,8,Ps))])]),e("div",Es,u(h.sampleText),1)]),_:2},1024))),128))])]),_:2},1024),v[5]||(v[5]=e("div",{class:"dot"},null,-1)),e("div",js,u(m.voiceLanguage),1),m.voiceTag!==""?(n(),r("div",Ms,u(m.voiceTag),1)):se("",!0)]),e("div",Rs,[(n(!0),r(M,null,J(m.voiceSamples,(h,c)=>(n(),r("div",{key:c,class:"voice-sample-item"},[e("div",qs,[h.sampleIsPlaying?(n(),r("div",{key:1,class:"on-plus",onClick:k=>V(m.voiceId,c)},null,8,Fs)):(n(),r("div",{key:0,class:"close-plus",onClick:k=>V(m.voiceId,c)},null,8,As))]),e("div",Bs,u(h.sampleText),1)]))),128))]),e("div",Ks,[t(j,{size:"large",color:"black",onClick:h=>Z(m.voiceId)},{default:i(()=>v[6]||(v[6]=[w("使用声音")])),_:2},1032,["onClick"]),e("div",Os,[e("div",Ws,[v[7]||(v[7]=e("div",{class:"used"},null,-1)),e("div",Qs,u(R(m.voiceUseCount))+" Used ",1)]),e("div",Xs,[e("div",{class:"shared",onClick:h=>N(m.voiceId)},null,8,Gs),e("div",Hs,u(R(m.voiceShareCount))+" Shares ",1)]),e("div",Js,[m.voiceIsLiked===1?(n(),r("div",{key:0,class:"likefill",onClick:h=>O(m)},null,8,Ys)):(n(),r("div",{key:1,class:"like",onClick:h=>O(m)},null,8,Zs)),e("div",et,u(R(m.voiceLikeCount)),1)]),e("div",st,[m.voiceIsLiked===2?(n(),r("div",{key:0,class:"unlikefill",onClick:h=>W(m)},null,8,tt)):(n(),r("div",{key:1,class:"unlike",onClick:h=>W(m)},null,8,ot))]),e("div",lt,[m.voiceIsCollected?(n(),T(g,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:h=>q(m)},{default:i(()=>[t(_(fe))]),_:2},1032,["onClick"])):(n(),T(g,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:h=>q(m)},{default:i(()=>[t(_(_e))]),_:2},1032,["onClick"])),e("div",it,u(R(m.voiceCollectCount)),1)])])])]),_:2},1024)]),_:2},1024))),128))],64)}}},nt=ve(at,[["__scopeId","data-v-a1b2b479"]]),dt={key:0},ct=["onClick"],ut={class:"voice-detail"},rt={class:"display-detail"},vt={class:"display-detail"},pt={style:{display:"flex","flex-direction":"row",gap:"10px",cursor:"pointer"}},mt={class:"display-detail"},_t={class:"audio-samples"},ft={class:"samples-content"},kt={class:"samples-index"},gt={class:"sample-btn"},yt=["src"],ht=["src"],Ct=["onClick"],bt=["onClick"],It={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},$t={class:"tag1"},wt={key:0,class:"tag2",style:{"margin-left":"5px"}},xt={class:"voice-sample"},Lt={class:"sample-btn"},Ut=["onClick"],St=["onClick"],Tt={style:{width:"50%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","font-size":"small"}},Vt={class:"btns"},zt={class:"btns-plus"},Nt={class:"button"},Pt={class:"number"},Dt={class:"button"},Et=["onClick"],jt={class:"number"},Mt={class:"button"},Rt=["onClick"],qt=["onClick"],At={class:"number"},Ft={class:"button"},Bt=["onClick"],Kt=["onClick"],Ot={class:"button"},Wt={class:"number"},Qt={__name:"MySoundItem",props:{nameValue:{type:String,default:""}},setup(de){const L=de,U=f([{voiceId:1,userName:"fc",voiceImage:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",voiceName:"55",voiceDescription:"1212",voiceCreationTime:new Date(2025,1,9,19,11),voiceUseCount:11e4,voiceShareCount:11,voiceLikeCount:20,voiceCollectCount:10,voiceLanguage:"ch",voiceTag:"aaaaaaaaa",voiceIsUsed:!1,voiceIsShared:!1,voiceIsLiked:!1,voiceIsUnliked:!1,voiceIsCollected:!1,voiceSamples:[{sampleId:1,sampleIsPlaying:!1,sampleTitle:"Default Sample",sampleText:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",sampleUrl:te},{sampleId:2,sampleIsPlaying:!1,sampleTitle:"可以让父母",sampleText:"对侧人防热非人发热功耗一节课iklo",sampleUrl:te}]}]),Y=ls(()=>U.value.filter(d=>d.voiceName.includes(L.nameValue))),Z=pe(),R=l=>{Z.push({path:"/detail",query:{id:l}})},z=l=>{Z.push({path:"/explanation",query:{id:l}})};function V(l){if(typeof l!="number"||isNaN(l))return l;const d=1e3;return l>=d*10?(l/d).toFixed(2)+"K":l}const E=Pe({}),N=(l,d)=>{const C=U.value.find(x=>x.voiceId===l);if(!C)return;const g=C.voiceSamples[d],b=`${l}-${d}`;if(E[b]){const x=E[b];g.sampleIsPlaying?x.pause():(Object.values(E).forEach(j=>j.pause()),x.play())}else{const x=new Audio(g.sampleUrl);E[b]=x,x.addEventListener("ended",()=>{g.sampleIsPlaying=!1}),x.play()}g.sampleIsPlaying=!g.sampleIsPlaying,C.voiceSamples.forEach((x,j)=>{j!==d&&(x.sampleIsPlaying=!1)})},O=je();ae(async()=>{let l=await ys(O.token.userId);U.value=l.data});const W=l=>{const d=U.value.findIndex(b=>b.voiceId===l);U.value[d].voiceIsShared===!1&&(U.value[d].voiceIsShared=!0,U.value[d].voiceShareCount++);const g=`${window.location.href}?id=${l}`;navigator.clipboard.writeText(g).then(async()=>{K({message:"已复制到剪贴板",position:"bottom-right"});try{let b=await De(l)}catch(b){console.error("分享服务调用失败:",b),K({message:`分享服务调用失败: ${b.message}`,position:"bottom-right",type:"error"})}}).catch(b=>{K({message:`复制失败: ${b.message}`,position:"bottom-right",type:"error"})})},q=async l=>{l.voiceIsLiked===1?(l.voiceIsLiked=0,l.voiceLikeCount--):(l.voiceIsLiked===2&&(l.voiceIsUnliked=!1),l.voiceIsLiked=1,l.voiceLikeCount++);const d={voiceId:l.voiceId,voiceLikeCount:l.voiceLikeCount};await ne(d)},a=async l=>{l.voiceIsLiked===2?(l.voiceIsLiked=0,l.voiceIsUnliked=!1):(l.voiceIsLiked===1&&(l.voiceLikeCount--,l.voiceIsLiked=0),l.voiceIsLiked=2,l.voiceIsUnliked=!0);const d={voiceId:l.voiceId,voiceLikeCount:l.voiceLikeCount};await ne(d)},v=async l=>{l.voiceIsCollected=!l.voiceIsCollected,l.voiceIsCollected?l.voiceCollectCount++:l.voiceCollectCount--;const d={voiceId:l.voiceId,voiceCollectCount:l.voiceCollectCount};await Ee(d)};return(l,d)=>{const C=y("el-empty"),g=y("el-image"),b=y("el-col"),x=y("el-icon"),j=y("el-card"),ee=y("el-popover"),m=y("el-button"),h=y("el-row");return n(),r(M,null,[Y.value.length===0?(n(),r("div",dt,[t(C,{description:"暂无数据"})])):se("",!0),(n(!0),r(M,null,J(Y.value,c=>(n(),T(h,{key:c.voiceId,class:"voice-item"},{default:i(()=>[t(b,{span:4},{default:i(()=>[t(g,{style:{width:"100px",height:"100px","border-radius":"15px"},src:c.voiceImage,fit:"cover"},null,8,["src"])]),_:2},1024),t(b,{span:20},{default:i(()=>[e("div",{class:"voice-name",onClick:k=>R(c.voiceId)},u(c.voiceName),9,ct),e("div",ut,[e("span",rt,u(c.userName),1),d[3]||(d[3]=e("div",{class:"dot"},null,-1)),t(x,{size:"20",style:{color:"#6b7280"}},{default:i(()=>[t(_(me))]),_:1}),e("span",vt,u(_(ke)(c.voiceCreationTime)),1),d[4]||(d[4]=e("div",{class:"dot"},null,-1)),t(ee,{placement:"bottom",width:400,trigger:"click"},{reference:i(()=>[e("div",pt,[d[0]||(d[0]=e("div",{class:"logo"},null,-1)),e("span",mt,u(c.voiceSamples.length)+" 音频示例",1)])]),default:i(()=>[e("div",_t,[d[2]||(d[2]=e("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(n(!0),r(M,null,J(c.voiceSamples,(k,S)=>(n(),T(j,{key:S,class:"samples-item",shadow:"never"},{default:i(()=>[e("div",ft,[e("div",null,[e("span",kt,u(S+1),1),e("span",null,u(k.sampleTitle),1)]),e("div",gt,[e("audio",null,[e("source",{src:k.sampleUrl,type:"audio/mp4"},null,8,yt),e("source",{src:k.sampleUrl,type:"audio/x-m4a"},null,8,ht),d[1]||(d[1]=w(" 浏览器不支持音频播放 "))]),k.sampleIsPlaying?(n(),r("div",{key:1,class:"on",onClick:P=>{N(c.voiceId,S),k.sampleIsPlaying=!1}},null,8,bt)):(n(),r("div",{key:0,class:"close",onClick:P=>{N(c.voiceId,S),k.sampleIsPlaying=!0}},null,8,Ct))])]),e("div",It,u(k.sampleText),1)]),_:2},1024))),128))])]),_:2},1024),d[5]||(d[5]=e("div",{class:"dot"},null,-1)),e("div",$t,u(c.voiceLanguage),1),c.voiceTag!==""?(n(),r("div",wt,u(c.voiceTag),1)):se("",!0)]),e("div",xt,[(n(!0),r(M,null,J(c.voiceSamples,(k,S)=>(n(),r("div",{key:S,class:"voice-sample-item"},[e("div",Lt,[k.sampleIsPlaying?(n(),r("div",{key:1,class:"on-plus",onClick:P=>N(c.voiceId,S)},null,8,St)):(n(),r("div",{key:0,class:"close-plus",onClick:P=>N(c.voiceId,S)},null,8,Ut))]),e("div",Tt,u(k.sampleText),1)]))),128))]),e("div",Vt,[t(m,{size:"large",color:"black",onClick:k=>z(c.voiceId)},{default:i(()=>d[6]||(d[6]=[w("使用声音")])),_:2},1032,["onClick"]),e("div",zt,[e("div",Nt,[d[7]||(d[7]=e("div",{class:"used"},null,-1)),e("div",Pt,u(V(c.voiceUseCount))+" Used ",1)]),e("div",Dt,[e("div",{class:"shared",onClick:k=>W(c.voiceId)},null,8,Et),e("div",jt,u(V(c.voiceShareCount))+" Shares ",1)]),e("div",Mt,[c.voiceIsLiked===1?(n(),r("div",{key:0,class:"likefill",onClick:k=>q(c)},null,8,Rt)):(n(),r("div",{key:1,class:"like",onClick:k=>q(c)},null,8,qt)),e("div",At,u(V(c.voiceLikeCount)),1)]),e("div",Ft,[c.voiceIsLiked===2?(n(),r("div",{key:0,class:"unlikefill",onClick:k=>a(c)},null,8,Bt)):(n(),r("div",{key:1,class:"unlike",onClick:k=>a(c)},null,8,Kt))]),e("div",Ot,[c.voiceIsCollected?(n(),T(x,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:k=>v(c)},{default:i(()=>[t(_(fe))]),_:2},1032,["onClick"])):(n(),T(x,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:k=>v(c)},{default:i(()=>[t(_(_e))]),_:2},1032,["onClick"])),e("div",Wt,u(V(c.voiceCollectCount)),1)])])])]),_:2},1024)]),_:2},1024))),128))],64)}}},Xt=ve(Qt,[["__scopeId","data-v-eb136936"]]),Gt={class:"row"},Ht={class:"col1"},Jt={class:"input-section"},Yt={class:"counter"},Zt={class:"warning"},eo={class:"voice-selection"},so={key:1,class:"select-output-section"},to={class:"select-voice-name"},oo={class:"select-voice-detail"},lo={class:"display-detail"},io={class:"display-detail"},ao={class:"tag1"},no={key:0,class:"tag2",style:{"margin-left":"5px"}},co={class:"select-btns"},uo={class:"btns-plus"},ro={class:"button"},vo={class:"number"},po={class:"button"},mo={class:"button"},_o={class:"number"},fo={style:{display:"flex","flex-direction":"row",gap:"10px"}},ko={class:"my-header"},go=["id"],yo={class:"action-sum"},ho={style:{width:"155px"}},Co={class:"action-bar"},bo={class:"content"},Io={style:{display:"flex","justify-content":"center"}},$o={style:{"max-height":"53vh","overflow-y":"auto"}},wo={style:{"max-height":"53vh","overflow-y":"auto"}},xo={style:{"max-height":"53vh","overflow-y":"auto"}},Lo={class:"advanced-settings"},Uo={class:"content-wrapper"},So={class:"mode"},To={class:"detail"},Vo={class:"demo-progress"},zo={class:"detail"},No={class:"demo-progress"},Po={class:"build"},Do={class:"col2"},Eo={key:0},jo={class:"audio-item"},Mo={class:"audio-top"},Ro={class:"audio-content"},qo={class:"audio-info"},Ao={class:"audio-text"},Fo={class:"audio-name"},Bo={class:"audio-actions"},Ko={class:"dialog"},Oo={class:"dialog-footer"},Wo={class:"audio-top"},Qo={class:"audio-content"},Xo={class:"audio-info"},Go={class:"audio-text"},Ho={class:"audio-name"},Jo={class:"audio-actions"},Yo={class:"dialog"},Zo={class:"dialog-footer"},el=["onClick"],sl=["onClick"],tl={__name:"Explanation",setup(de){const L=f("输入您想生成的语音文本"),U=f("textarea"),Y=f("5"),Z=f("500"),R=f("#f5f5f5"),z=f("");function V(o){z.value=o}const E=pe(),N=f(""),O=is(),W=O.query?O.query.id:void 0;as(()=>E.currentRoute.value.fullPath,(o,s)=>{const I=o.match(/\?id=(\d+)/);I?N.value=I[1]:N.value="",l.value=!1,q(N)});const q=async o=>{let s=await hs(o);$.value=s.data};ae(async()=>{W&&q(W)});const a=()=>{E.push("/createbank")},v=f("first"),l=f(!1),d=f("#ffffff"),C=f([{value:"1",label:"推荐"},{value:"2",label:"最新"}]),g=f([{value:"1",label:"所有"},{value:"ch",label:"汉语"},{value:"en",label:"English"}]),b=f([{value:"1",label:"暂无问题"},{value:"2",label:"音频存在截断"},{value:"3",label:"有多个人说话（音色跳变）"},{value:"4",label:"噪音"},{value:"5",label:"超长空白"},{value:"6",label:"声音太小/声音模糊"},{value:"7",label:"混响很大"},{value:"8",label:"吞字漏字错字"}]),x=f("#ffffff"),j=f(),ee=o=>{j.value=o},m=f();ae(async()=>{let o=await ks();m.value=o.data});const h=f(""),c=f("1"),k=f(""),S=f(""),P=f(""),Me=()=>{h.value="",c.value="1",k.value="",P.value=""},ge=f("搜索声音..."),Re=o=>{h.value=o},qe=o=>{c.value=o},Ae=o=>{S.value=o,console.log(S.value)};function ye(o){P.value=o}const le=f(!1),D=f(!1),$=f(),Fe=f([{audioId:1,voiceImage:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",voiceName:"55",audioText:"1232ssssssssss",audioURL:te}]),Q=f({audioId:1,voiceImage:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",voiceName:"66",audioText:"11111111111111111",audioURL:te});function he(o){if(typeof o!="number"||isNaN(o))return o;const s=1e3;return o>=s*10?(o/s).toFixed(2)+"K":o}const oe=f(!1),Ce=f(!1),Be=()=>{oe.value=!oe.value},Ke=o=>{o.style.height="auto";const s=getComputedStyle(o).height;o.style.height="0",setTimeout(()=>{o.style.height=s},10)},Oe=o=>{o.style.height="auto"},We=o=>{o.style.height=getComputedStyle(o).height},Qe=o=>{setTimeout(()=>{o.style.height="0"},10)},X=f(1),Xe=()=>{X.value=Number((X.value+.1).toFixed(1))},Ge=()=>{X.value=Number((X.value-.1).toFixed(1))},G=f(1),He=()=>{G.value=Number((G.value+.1).toFixed(1))},Je=()=>{G.value=Number((G.value-.1).toFixed(1))},be=o=>{const I=`${window.location.href}?id=${o}`;navigator.clipboard.writeText(I).then(async()=>{K({message:"已复制到剪贴板",position:"bottom-right"})}).catch(A=>{K({message:`复制失败: ${A.message}`,position:"bottom-right",type:"error"})})},Ie=o=>{const s=new XMLHttpRequest;s.open("GET",o,!0),s.responseType="blob",s.onload=()=>{if(s.status===200){const I=new Blob([s.response],{type:"audio/mpeg"}),A=URL.createObjectURL(I),H=document.createElement("a");H.href=A,H.download="audio.mp3",H.click(),URL.revokeObjectURL(A)}},s.send()},$e=async o=>{o.voiceIsLiked===1?(o.voiceIsLiked=0,o.voiceLikeCount--):(o.voiceIsLiked===2&&(o.voiceIsUnliked=!1),o.voiceIsLiked=1,o.voiceLikeCount++);const s={voiceId:o.voiceId,voiceLikeCount:o.voiceLikeCount};await discoverUpdateLikeService(s)},we=async o=>{o.voiceIsLiked===2?(o.voiceIsLiked=0,o.voiceIsUnliked=!1):(o.voiceIsLiked===1&&(o.voiceLikeCount--,o.voiceIsLiked=0),o.voiceIsLiked=2,o.voiceIsUnliked=!0);const s={voiceId:o.voiceId,voiceLikeCount:o.voiceLikeCount};await discoverUpdateLikeService(s)},xe=async o=>{o.voiceIsCollected=!o.voiceIsCollected,o.voiceIsCollected?o.voiceCollectCount++:o.voiceCollectCount--;const s={voiceId:o.voiceId,voiceCollectCount:o.voiceCollectCount};await discoverUpdateCollectService(s)};return(o,s)=>{const I=y("el-icon"),A=y("el-image"),H=y("el-col"),Ye=y("el-row"),Ze=y("el-popover"),ce=y("el-tab-pane"),es=y("el-tabs"),ss=y("el-switch"),Le=y("el-slider"),ts=y("el-divider");return n(),r("div",Gt,[e("div",Ht,[s[44]||(s[44]=e("h1",null,"文本转语音",-1)),e("div",Jt,[s[26]||(s[26]=e("div",{class:"text"},"您的文本",-1)),t(re,{message:z.value,placeholder:L.value,type:U.value,maxlength:Z.value,rows:Y.value,color:R.value,"onUpdate:message":V},null,8,["message","placeholder","type","maxlength","rows","color"]),e("div",Yt,u(z.value.length)+"/500",1)]),e("div",Zt,[t(I,{size:"12"},{default:i(()=>[t(_(ds))]),_:1}),s[27]||(s[27]=w(" 语言质量取决于模型，为获得最佳效果，请使用高质量模型，严禁合成政治、色情、赌博、毒品等违法违规内容。 "))]),e("div",eo,[s[30]||(s[30]=e("div",{class:"text"},"语音声音",-1)),e("div",null,[s[29]||(s[29]=w("没有模型? ")),t(_(B),{link:"",onClick:a},{default:i(()=>s[28]||(s[28]=[w("一分钟创建")])),_:1})])]),$.value?(n(),r("div",so,[t(Ye,{class:"select-voice-item"},{default:i(()=>[t(H,{span:4},{default:i(()=>[t(A,{style:{width:"80px",height:"80px","border-radius":"15px"},src:$.value.voiceImage,fit:"cover"},null,8,["src"])]),_:1}),t(H,{span:17},{default:i(()=>[e("div",to,u($.value.voiceName),1),e("div",oo,[e("span",lo,u($.value.userName),1),s[32]||(s[32]=e("div",{class:"dot"},null,-1)),t(I,{size:"20",style:{color:"#6b7280"}},{default:i(()=>[t(_(me))]),_:1}),e("span",io,u(_(ke)($.value.voiceCreationTime)),1),s[33]||(s[33]=e("div",{class:"dot"},null,-1)),e("div",ao,u($.value.voiceLanguage),1),$.value.voiceTag!==""?(n(),r("div",no,u($.value.voiceTag),1)):se("",!0)]),e("div",co,[e("div",uo,[e("div",ro,[$.value.voiceIsLiked===1?(n(),r("div",{key:0,class:"likefill",onClick:s[1]||(s[1]=p=>$e($.value))})):(n(),r("div",{key:1,class:"like",onClick:s[2]||(s[2]=p=>$e($.value))})),e("div",vo,u(he($.value.voiceLikeCount)),1)]),e("div",po,[$.value.voiceIsLiked===2?(n(),r("div",{key:0,class:"unlikefill",onClick:s[3]||(s[3]=p=>we($.value))})):(n(),r("div",{key:1,class:"unlike",onClick:s[4]||(s[4]=p=>we($.value))}))]),e("div",mo,[$.value.voiceIsCollected?(n(),T(I,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:s[6]||(s[6]=p=>xe($.value))},{default:i(()=>[t(_(fe))]),_:1})):(n(),T(I,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:s[5]||(s[5]=p=>xe($.value))},{default:i(()=>[t(_(_e))]),_:1})),e("div",_o,u(he($.value.voiceCollectCount)),1)])])])]),_:1}),t(H,{span:3},{default:i(()=>[e("div",fo,[t(I,{size:"28",style:{cursor:"pointer"},onClick:s[7]||(s[7]=p=>{l.value=!0})},{default:i(()=>[t(_(cs))]),_:1}),t(I,{size:"28",style:{cursor:"pointer"},onClick:s[8]||(s[8]=p=>$.value="")},{default:i(()=>[t(_(Se))]),_:1})])]),_:1})]),_:1})])):(n(),r("div",{key:0,class:"output-section",onClick:s[0]||(s[0]=p=>l.value=!0)},s[31]||(s[31]=[e("div",{class:"add"},null,-1),e("div",{style:{"font-weight":"600"}},"选择语音声音",-1)]))),t(_(ue),{modelValue:l.value,"onUpdate:modelValue":s[12]||(s[12]=p=>l.value=p),"show-close":!1},{header:i(({close:p,titleId:F,titleClass:os})=>[e("div",ko,[e("div",{style:{"font-weight":"600"},id:F,class:Ue(os)},"选择语音",10,go),t(I,{style:{cursor:"pointer"},onClick:p},{default:i(()=>[t(_(Se))]),_:2},1032,["onClick"])])]),default:i(()=>[t(es,{modelValue:v.value,"onUpdate:modelValue":s[11]||(s[11]=p=>v.value=p),class:"demo-tabs",onTabClick:Me},{default:i(()=>[t(ce,{label:"探索",name:"first"},{default:i(()=>[e("div",yo,[e("div",ho,[t(re,{message:P.value,placeholder:ge.value,"onUpdate:message":ye},null,8,["message","placeholder"])]),e("div",Co,[s[37]||(s[37]=e("span",{class:"header-tip"},"排序",-1)),t(ie,{options:C.value,"input-width":"155px",color:d.value,"onUpdate:value":Re},null,8,["options","color"]),s[38]||(s[38]=e("span",{class:"header-tip"},"语言",-1)),t(ie,{options:g.value,"input-width":"155px",color:d.value,"onUpdate:value":qe},null,8,["options","color"]),t(Ze,{placement:"bottom",width:250,visible:le.value},{reference:i(()=>[t(_(B),{size:"large",class:"btn",onClick:s[9]||(s[9]=p=>le.value=!le.value)},{default:i(()=>[t(I,{size:"20",color:"black"},{default:i(()=>[t(_(us))]),_:1})]),_:1})]),default:i(()=>[e("div",bo,[s[35]||(s[35]=e("div",{class:"content-header"},[e("span",{style:{"font-size":"large","font-weight":"600",color:"black"}},"筛选")],-1)),s[36]||(s[36]=e("div",null,"标签",-1)),t(_s,{options:m.value,"input-width":"200px","onUpdate:value":Ae},null,8,["options"]),e("div",Io,[t(_(B),{color:"black",style:{width:"95%"},onClick:s[10]||(s[10]=p=>{le.value=!1,k.value=S.value})},{default:i(()=>s[34]||(s[34]=[w("应用")])),_:1})])])]),_:1},8,["visible"])])]),e("div",$o,[t(fs,{nameValue:P.value,sortValue:h.value,languageValue:c.value,tagValue:k.value},null,8,["nameValue","sortValue","languageValue","tagValue"])])]),_:1}),t(ce,{label:"收藏",name:"second"},{default:i(()=>[e("div",wo,[t(nt)])]),_:1}),t(ce,{label:"我的语音",name:"third"},{default:i(()=>[t(re,{message:P.value,placeholder:ge.value,class:"action-bar","onUpdate:message":ye,style:{width:"20%"}},null,8,["message","placeholder"]),e("div",xo,[t(Xt,{nameValue:P.value},null,8,["nameValue"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),e("div",Lo,[e("div",{class:Ue(["toggle-button",{active:oe.value}]),onClick:Be},[s[39]||(s[39]=e("span",{style:{"font-size":"large"}},"高级设置",-1)),oe.value?(n(),T(I,{key:1},{default:i(()=>[t(_(vs))]),_:1})):(n(),T(I,{key:0},{default:i(()=>[t(_(rs))]),_:1}))],2),t(ns,{name:"expand",onEnter:Ke,onAfterEnter:Oe,onBeforeLeave:We,onLeave:Qe},{default:i(()=>[ps(e("div",Uo,[e("div",So,[s[40]||(s[40]=e("div",{class:"detail"},[w(" 高品质模式 "),e("span",{style:{"font-size":"small"}},"生成更高品质的音频，但会增加延迟")],-1)),t(ss,{modelValue:Ce.value,"onUpdate:modelValue":s[13]||(s[13]=p=>Ce.value=p),class:"ml-2",style:{"--el-switch-on-color":"black","--el-switch-off-color":"#e4e7ed"}},null,8,["modelValue"])]),e("div",null,[e("div",To,[w(" 语速("+u(X.value.toFixed(1))+"x) ",1),s[41]||(s[41]=e("span",{style:{"font-size":"small"}},"基于参考音频的语速进行调整",-1))]),e("div",Vo,[t(I,{size:"20",onClick:Ge},{default:i(()=>[t(_(Te))]),_:1}),t(Le,{modelValue:X.value,"onUpdate:modelValue":s[14]||(s[14]=p=>X.value=p),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),t(I,{size:"20",onClick:Xe},{default:i(()=>[t(_(Ve))]),_:1})])]),e("div",null,[e("div",zo,[w(" 音量("+u(G.value.toFixed(1))+") ",1),s[42]||(s[42]=e("span",{style:{"font-size":"small"}},"基于参考音频的音量进行调整",-1))]),e("div",No,[t(I,{size:"20",onClick:Je},{default:i(()=>[t(_(Te))]),_:1}),t(Le,{modelValue:G.value,"onUpdate:modelValue":s[15]||(s[15]=p=>G.value=p),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),t(I,{size:"20",onClick:He},{default:i(()=>[t(_(Ve))]),_:1})])])],512),[[ms,oe.value]])]),_:1})]),e("div",Po,[t(_(B),{color:"black"},{default:i(()=>s[43]||(s[43]=[w("创建")])),_:1})])]),t(ts,{direction:"vertical",style:{height:"auto"}}),e("div",Do,[Q.value?(n(),r("div",Eo,[s[50]||(s[50]=e("h3",null,"生成的音频",-1)),e("div",jo,[e("div",Mo,[t(A,{src:Q.value.voiceImage,style:{width:"60px",height:"60px","border-radius":"15px"},fit:"cover"},null,8,["src"]),e("div",Ro,[e("div",qo,[e("div",Ao,u(Q.value.audioText),1),e("div",Fo,[t(I,{size:"20"},{default:i(()=>[t(_(ze))]),_:1}),w(" "+u(Q.value.voiceName),1)])]),e("div",Bo,[e("div",{class:"dontagree",onClick:s[16]||(s[16]=p=>D.value=!0)}),t(_(ue),{modelValue:D.value,"onUpdate:modelValue":s[19]||(s[19]=p=>D.value=p),width:"30%","align-center":"","show-close":!1},{footer:i(()=>[e("span",Oo,[t(_(B),{color:"black",plain:"",onClick:s[17]||(s[17]=p=>{D.value=!1})},{default:i(()=>s[46]||(s[46]=[w(" 取消 ")])),_:1}),t(_(B),{color:"black",onClick:s[18]||(s[18]=p=>{D.value=!1})},{default:i(()=>s[47]||(s[47]=[w(" 确认 ")])),_:1})])]),default:i(()=>[s[48]||(s[48]=e("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"20px"}}," 音频质量反馈",-1)),e("div",Ko,[s[45]||(s[45]=w(" 反馈类型 ")),t(ie,{options:b.value,"input-width":"432px",color:x.value,"onUpdate:value":ee,style:{"margin-bottom":"10px"}},null,8,["options","color"])])]),_:1},8,["modelValue"]),e("div",{class:"share",onClick:s[20]||(s[20]=p=>be(Q.value.audioId))}),e("div",{class:"download",onClick:s[21]||(s[21]=p=>Ie(Q.value.audioURL))})])])]),s[49]||(s[49]=e("div",{class:"divide"},null,-1)),t(Ne,{audioUrl:Q.value.audioURL,buttonSize:20,sliderLength:300},null,8,["audioUrl"])])])):se("",!0),s[56]||(s[56]=e("h3",null,"最新活动",-1)),e("div",null,[(n(!0),r(M,null,J(Fe.value,p=>(n(),r("div",{key:p.audioId,class:"audio-item"},[e("div",Wo,[t(A,{src:p.voiceImage,style:{width:"60px",height:"60px","border-radius":"15px"},fit:"cover"},null,8,["src"]),e("div",Qo,[e("div",Xo,[e("div",Go,u(p.audioText),1),e("div",Ho,[t(I,{size:"20"},{default:i(()=>[t(_(ze))]),_:1}),w(" "+u(p.voiceName),1)])]),e("div",Jo,[e("div",{class:"dontagree",onClick:s[22]||(s[22]=F=>D.value=!0)}),t(_(ue),{modelValue:D.value,"onUpdate:modelValue":s[25]||(s[25]=F=>D.value=F),width:"30%","align-center":"","show-close":!1},{footer:i(()=>[e("span",Zo,[t(_(B),{color:"black",plain:"",onClick:s[23]||(s[23]=F=>{D.value=!1})},{default:i(()=>s[52]||(s[52]=[w(" 取消 ")])),_:1}),t(_(B),{color:"black",onClick:s[24]||(s[24]=F=>{D.value=!1})},{default:i(()=>s[53]||(s[53]=[w(" 确认 ")])),_:1})])]),default:i(()=>[s[54]||(s[54]=e("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"20px"}}," 音频质量反馈",-1)),e("div",Yo,[s[51]||(s[51]=w(" 反馈类型 ")),t(ie,{options:b.value,"input-width":"432px",color:x.value,"onUpdate:value":ee,style:{"margin-bottom":"10px"}},null,8,["options","color"])])]),_:1},8,["modelValue"]),e("div",{class:"share",onClick:F=>be(p.audioId)},null,8,el),e("div",{class:"download",onClick:F=>Ie(p.audioURL)},null,8,sl)])])]),s[55]||(s[55]=e("div",{class:"divide"},null,-1)),t(Ne,{audioUrl:p.audioURL,buttonSize:20,sliderLength:300},null,8,["audioUrl"])]))),128))])])])}}},ml=ve(tl,[["__scopeId","data-v-63f822e5"]]);export{ml as default};
