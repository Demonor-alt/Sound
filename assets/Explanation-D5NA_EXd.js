import{_ as Ge,r as n,x as He,Y as We,A as R,B as p,d as l,b as t,C as c,e as r,w as o,a as m,f as s,Z as U,n as te,c as $,$ as Ye,N as k,D as oe,K as Ze,L as Je,u as Xe,o as v,a0 as el,F as ll,G as tl,H as ol,a1 as sl,V as se,O as al,a2 as il,a3 as nl,a4 as dl,a5 as ae,Q as ie,a6 as ul,p as ne}from"./index-DSAkwlPr.js";import{d as vl,o as de,a as ue,t as ve,b as re,c as ce,M as rl,S as cl}from"./SelectChange-DZCLlw5S.js";import{C as pl,M as ml}from"./MySoundItem-Ct5v-b4T.js";import{A as pe}from"./AudioPlayer-BdDA8whn.js";import{M as P}from"./Input-eR12S-QO.js";import{e as fl}from"./mybank-D7YnYGR2.js";import{t as gl,f as me}from"./display-CBjJZ8vl.js";import{M as F}from"./Select-BebC1XSB.js";import{i as fe}from"./request-BLblcbs2.js";import"./sound-BznpVhuQ.js";import"./collect-D-J8lPYM.js";/* empty css                                                    */import"./token-kM0qHbG5.js";const _l=()=>fe.get("/query/audio"),yl=O=>fe.post("/explanation",O),bl={class:"row"},kl={class:"col1"},xl={class:"input-section"},wl={class:"counter"},hl={class:"warning"},Cl={key:1,class:"select-output-section"},Vl={class:"select-voice-name"},zl={class:"select-voice-detail"},Ul={class:"display-detail"},$l={class:"display-detail"},Fl={class:"tag1"},Il={key:0,class:"tag2",style:{"margin-left":"5px"}},Sl={class:"select-btns"},Tl={class:"btns-plus"},Nl={class:"button"},Ll={class:"number"},Ml={class:"button"},Dl={class:"button"},Al={class:"number"},El={style:{display:"flex","flex-direction":"row",gap:"10px"}},Bl={class:"my-header"},Rl=["id"],Pl={class:"action-sum"},Ol={style:{width:"155px"}},ql={class:"action-bar"},Ql={class:"content"},jl={style:{display:"flex","justify-content":"center"}},Kl={style:{"max-height":"53vh","overflow-y":"auto"}},Gl={style:{"max-height":"53vh","overflow-y":"auto"}},Hl={style:{"max-height":"53vh","overflow-y":"auto"}},Wl={class:"advanced-settings"},Yl={class:"content-wrapper"},Zl={class:"mode"},Jl={class:"detail"},Xl={class:"demo-progress"},et={class:"detail"},lt={class:"demo-progress"},tt={class:"build"},ot={class:"col2"},st={key:0},at={class:"audio-item"},it={class:"audio-top"},nt={class:"audio-content"},dt={class:"audio-info"},ut={class:"audio-text"},vt={class:"audio-name"},rt={class:"audio-actions"},ct={class:"dialog"},pt={class:"dialog-footer"},mt={class:"audio-top"},ft={class:"audio-content"},gt={class:"audio-info"},_t={class:"audio-text"},yt={class:"audio-name"},bt={class:"audio-actions"},kt={class:"dialog"},xt={class:"dialog-footer"},wt=["onClick"],ht=["onClick"],Ct={key:2},Vt={__name:"Explanation",setup(O){const ge=n("输入您想生成的语音文本"),_e=n("textarea"),ye=n("5"),be=n("500"),ke=n("#fafafa"),C=n("");function xe(i){C.value=i}const q=Xe(),I=n(""),Q=He(),j=Q.query?Q.query.id:void 0;We(()=>q.currentRoute.value.fullPath,(i,e)=>{const u=i.match(/\?id=(\d+)/);u?I.value=u[1]:I.value="",w.value=!1,K(I)});const K=async i=>{let e=await fl(i);d.value=e.data};R(async()=>{j&&K(j)});const we=()=>{q.push("/createbank")},G=n("first"),w=n(!1),H=n("#ffffff"),he=n([{value:"1",label:"推荐"},{value:"2",label:"最新"}]),Ce=n([{value:"1",label:"所有"},{value:"ch",label:"汉语"},{value:"en",label:"English"}]),W=n([{value:"1",label:"暂无问题"},{value:"2",label:"音频存在截断"},{value:"3",label:"有多个人说话（音色跳变）"},{value:"4",label:"噪音"},{value:"5",label:"超长空白"},{value:"6",label:"声音太小/声音模糊"},{value:"7",label:"混响很大"},{value:"8",label:"吞字漏字错字"}]),Y=n("#ffffff"),Ve=n(),Z=i=>{Ve.value=i},J=n();R(async()=>{let i=await vl();J.value=i.data});const S=n(""),T=n("1"),N=n(""),L=n(""),x=n(""),ze=()=>{S.value="",T.value="1",N.value="",x.value=""},X=n("搜索声音..."),Ue=i=>{S.value=i},$e=i=>{T.value=i},Fe=i=>{L.value=i,console.log(L.value)};function ee(i){x.value=i}const V=n(!1),f=n(!1),d=n(),M=n(),g=n(),h=n(!1),D=n(!1),Ie=()=>{h.value=!h.value},Se=i=>{i.style.height="auto";const e=getComputedStyle(i).height;i.style.height="0",setTimeout(()=>{i.style.height=e},10)},Te=i=>{i.style.height="auto"},Ne=i=>{i.style.height=getComputedStyle(i).height},Le=i=>{setTimeout(()=>{i.style.height="0"},10)},_=n(1),Me=()=>{_.value=Number((_.value+.1).toFixed(1))},De=()=>{_.value=Number((_.value-.1).toFixed(1))},y=n(1),Ae=()=>{y.value=Number((y.value+.1).toFixed(1))},Ee=()=>{y.value=Number((y.value-.1).toFixed(1))},z=n(!1),Be=()=>{z.value=!0;const i={voiceId:d.value.voiceId,audioText:C.value,audioMode:D.value,audioSpeed:_.value,audioVolume:y.value};setTimeout(async()=>{let e=await yl(i);g.value=e.data,z.value=!1},2e3)};return R(async()=>{let i=await _l();M.value=i.data}),(i,e)=>{const u=m("el-icon"),A=m("el-image"),E=m("el-col"),Re=m("el-row"),Pe=m("el-popover"),B=m("el-tab-pane"),Oe=m("el-tabs"),qe=m("el-switch"),le=m("el-slider"),Qe=m("el-divider"),je=m("el-empty");return v(),p("div",bl,[l("div",kl,[e[45]||(e[45]=l("h1",null,"文本转语音",-1)),l("div",xl,[e[27]||(e[27]=l("div",{class:"text"},"您的文本",-1)),t(P,{message:C.value,placeholder:ge.value,type:_e.value,maxlength:be.value,rows:ye.value,color:ke.value,"onUpdate:message":xe},null,8,["message","placeholder","type","maxlength","rows","color"]),l("div",wl,c(C.value.length)+"/500",1)]),l("div",hl,[t(u,{size:"12"},{default:o(()=>[t(s(el))]),_:1}),e[28]||(e[28]=r(" 语言质量取决于模型，为获得最佳效果，请使用高质量模型，严禁合成政治、色情、赌博、毒品等违法违规内容。 "))]),l("div",{class:"voice-selection"},[e[30]||(e[30]=l("div",{class:"text"},"语音声音",-1)),l("div",{style:{display:"flex","flex-direction":"row",gap:"10px"}},[e[29]||(e[29]=r("没有模型? ")),l("div",{class:"voice-selection-btn",onClick:we},"一分钟创建")])]),d.value?(v(),p("div",Cl,[t(Re,{class:"select-voice-item"},{default:o(()=>[t(E,{span:4},{default:o(()=>[t(A,{style:{width:"80px",height:"80px","border-radius":"15px"},src:d.value.voiceImage,fit:"cover"},null,8,["src"])]),_:1}),t(E,{span:17},{default:o(()=>[l("div",Vl,c(d.value.voiceName),1),l("div",zl,[l("span",Ul,c(d.value.userName),1),e[32]||(e[32]=l("div",{class:"mydot"},null,-1)),t(u,{size:"20",style:{color:"#6b7280"}},{default:o(()=>[t(s(ll))]),_:1}),l("span",$l,c(s(gl)(d.value.voiceCreationTime)),1),e[33]||(e[33]=l("div",{class:"mydot"},null,-1)),l("div",Fl,c(d.value.voiceLanguage),1),d.value.voiceTag!==""?(v(),p("div",Il,c(d.value.voiceTag),1)):oe("",!0)]),l("div",Sl,[l("div",Tl,[l("div",Nl,[d.value.voiceIsLiked===1?(v(),p("div",{key:0,class:"likefill",onClick:e[1]||(e[1]=a=>s(ve)(d.value))})):(v(),p("div",{key:1,class:"like",onClick:e[2]||(e[2]=a=>s(ve)(d.value))})),l("div",Ll,c(s(me)(d.value.voiceLikeCount)),1)]),l("div",Ml,[d.value.voiceIsLiked===2?(v(),p("div",{key:0,class:"unlikefill",onClick:e[3]||(e[3]=a=>s(re)(d.value))})):(v(),p("div",{key:1,class:"unlike",onClick:e[4]||(e[4]=a=>s(re)(d.value))}))]),l("div",Dl,[d.value.voiceIsCollected?(v(),$(u,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[6]||(e[6]=a=>s(ce)(d.value))},{default:o(()=>[t(s(ol))]),_:1})):(v(),$(u,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[5]||(e[5]=a=>s(ce)(d.value))},{default:o(()=>[t(s(tl))]),_:1})),l("div",Al,c(s(me)(d.value.voiceCollectCount)),1)])])])]),_:1}),t(E,{span:3},{default:o(()=>[l("div",El,[t(u,{size:"28",style:{cursor:"pointer"},onClick:e[7]||(e[7]=a=>{w.value=!0})},{default:o(()=>[t(s(sl))]),_:1}),t(u,{size:"28",style:{cursor:"pointer"},onClick:e[8]||(e[8]=a=>d.value="")},{default:o(()=>[t(s(se))]),_:1})])]),_:1})]),_:1})])):(v(),p("div",{key:0,class:"output-section",onClick:e[0]||(e[0]=a=>w.value=!0)},e[31]||(e[31]=[l("div",{class:"add"},null,-1),l("div",{style:{"font-weight":"600"}},"选择语音声音",-1)]))),t(s(U),{modelValue:w.value,"onUpdate:modelValue":e[12]||(e[12]=a=>w.value=a),"show-close":!1},{header:o(({close:a,titleId:b,titleClass:Ke})=>[l("div",Bl,[l("div",{style:{"font-weight":"600"},id:b,class:te(Ke)},"选择语音",10,Rl),t(u,{style:{cursor:"pointer"},onClick:a},{default:o(()=>[t(s(se))]),_:2},1032,["onClick"])])]),default:o(()=>[t(Oe,{modelValue:G.value,"onUpdate:modelValue":e[11]||(e[11]=a=>G.value=a),class:"demo-tabs",onTabClick:ze},{default:o(()=>[t(B,{label:"探索",name:"first"},{default:o(()=>[l("div",Pl,[l("div",Ol,[t(P,{message:x.value,placeholder:X.value,size:"medium",background:"#FFF","onUpdate:message":ee},null,8,["message","placeholder"])]),l("div",ql,[e[37]||(e[37]=l("span",{class:"header-tip"},"排序",-1)),t(F,{options:he.value,"input-width":"155px",color:H.value,size:"medium",background:"#FFF","onUpdate:value":Ue},null,8,["options","color"]),e[38]||(e[38]=l("span",{class:"header-tip"},"语言",-1)),t(F,{options:Ce.value,"input-width":"155px",color:H.value,size:"medium",background:"#FFF","onUpdate:value":$e},null,8,["options","color"]),t(Pe,{placement:"bottom",width:250,visible:V.value},{reference:o(()=>[t(s(k),{size:"large",class:"btn",onClick:e[9]||(e[9]=a=>V.value=!V.value)},{default:o(()=>[t(u,{size:"20",color:"black"},{default:o(()=>[t(s(al))]),_:1})]),_:1})]),default:o(()=>[l("div",Ql,[e[35]||(e[35]=l("div",{class:"content-header"},[l("span",{style:{"font-size":"large","font-weight":"600",color:"black"}},"筛选")],-1)),e[36]||(e[36]=l("div",null,"标签",-1)),t(rl,{options:J.value,"input-width":"200px","onUpdate:value":Fe},null,8,["options"]),l("div",jl,[t(s(k),{color:"black",style:{width:"95%"},onClick:e[10]||(e[10]=a=>{V.value=!1,N.value=L.value})},{default:o(()=>e[34]||(e[34]=[r("应用")])),_:1})])])]),_:1},8,["visible"])])]),l("div",Kl,[t(cl,{nameValue:x.value,sortValue:S.value,languageValue:T.value,tagValue:N.value},null,8,["nameValue","sortValue","languageValue","tagValue"])])]),_:1}),t(B,{label:"收藏",name:"second"},{default:o(()=>[l("div",Gl,[t(pl)])]),_:1}),t(B,{label:"我的语音",name:"third"},{default:o(()=>[t(P,{message:x.value,placeholder:X.value,class:"action-bar","onUpdate:message":ee,style:{width:"20%"},background:"#FFF",size:"medium"},null,8,["message","placeholder"]),l("div",Hl,[t(ml,{nameValue:x.value},null,8,["nameValue"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),l("div",Wl,[l("div",{class:te(["toggle-button",{active:h.value}]),onClick:Ie},[e[39]||(e[39]=l("span",{style:{"font-size":"large"}},"高级设置",-1)),h.value?(v(),$(u,{key:1},{default:o(()=>[t(s(nl))]),_:1})):(v(),$(u,{key:0},{default:o(()=>[t(s(il))]),_:1}))],2),t(Ye,{name:"expand",onEnter:Se,onAfterEnter:Te,onBeforeLeave:Ne,onLeave:Le},{default:o(()=>[dl(l("div",Yl,[l("div",Zl,[e[40]||(e[40]=l("div",{class:"detail"},[r(" 高品质模式 "),l("span",{style:{"font-size":"small"}},"生成更高品质的音频，但会增加延迟")],-1)),t(qe,{modelValue:D.value,"onUpdate:modelValue":e[13]||(e[13]=a=>D.value=a),class:"ml-2",style:{"--el-switch-on-color":"black","--el-switch-off-color":"#e4e7ed"}},null,8,["modelValue"])]),l("div",null,[l("div",Jl,[r(" 语速("+c(_.value.toFixed(1))+"x) ",1),e[41]||(e[41]=l("span",{style:{"font-size":"small"}},"基于参考音频的语速进行调整",-1))]),l("div",Xl,[t(u,{size:"20",onClick:De},{default:o(()=>[t(s(ae))]),_:1}),t(le,{modelValue:_.value,"onUpdate:modelValue":e[14]||(e[14]=a=>_.value=a),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),t(u,{size:"20",onClick:Me},{default:o(()=>[t(s(ie))]),_:1})])]),l("div",null,[l("div",et,[r(" 音量("+c(y.value.toFixed(1))+") ",1),e[42]||(e[42]=l("span",{style:{"font-size":"small"}},"基于参考音频的音量进行调整",-1))]),l("div",lt,[t(u,{size:"20",onClick:Ee},{default:o(()=>[t(s(ae))]),_:1}),t(le,{modelValue:y.value,"onUpdate:modelValue":e[15]||(e[15]=a=>y.value=a),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),t(u,{size:"20",onClick:Ae},{default:o(()=>[t(s(ie))]),_:1})])])],512),[[ul,h.value]])]),_:1})]),l("div",tt,[t(s(k),{color:"black",onClick:Be},{default:o(()=>e[43]||(e[43]=[r("创建")])),_:1})]),t(s(U),{modelValue:z.value,"onUpdate:modelValue":e[16]||(e[16]=a=>z.value=a),"show-close":!1,width:"25%",title:"正在创建语言","align-center":""},{default:o(()=>e[44]||(e[44]=[l("div",{style:{margin:"20px"}},[l("div",{class:"loading-dots"},[l("span",{class:"dot dot1"}),l("span",{class:"dot dot2"}),l("span",{class:"dot dot3"})]),l("div",{style:{display:"flex","justify-content":"center",margin:"10px"}},"正在分析文本")],-1)])),_:1},8,["modelValue"])]),t(Qe,{direction:"vertical",style:{height:"auto"}}),l("div",ot,[g.value?(v(),p("div",st,[e[51]||(e[51]=l("h3",null,"生成的音频",-1)),l("div",at,[l("div",it,[t(A,{src:g.value.voiceImage,style:{width:"60px",height:"60px","border-radius":"15px"},fit:"cover"},null,8,["src"]),l("div",nt,[l("div",dt,[l("div",ut,c(g.value.audioText),1),l("div",vt,[t(u,{size:"20"},{default:o(()=>[t(s(ne))]),_:1}),r(" "+c(g.value.voiceName),1)])]),l("div",rt,[l("div",{class:"dontagree",onClick:e[17]||(e[17]=a=>f.value=!0)}),t(s(U),{modelValue:f.value,"onUpdate:modelValue":e[20]||(e[20]=a=>f.value=a),width:"30%","align-center":"","show-close":!1},{footer:o(()=>[l("span",pt,[t(s(k),{color:"black",plain:"",onClick:e[18]||(e[18]=a=>{f.value=!1})},{default:o(()=>e[47]||(e[47]=[r(" 取消 ")])),_:1}),t(s(k),{color:"black",onClick:e[19]||(e[19]=a=>{f.value=!1})},{default:o(()=>e[48]||(e[48]=[r(" 确认 ")])),_:1})])]),default:o(()=>[e[49]||(e[49]=l("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"20px"}}," 音频质量反馈",-1)),l("div",ct,[e[46]||(e[46]=r(" 反馈类型 ")),t(F,{options:W.value,"input-width":"432px",color:Y.value,"onUpdate:value":Z,style:{"margin-bottom":"10px"}},null,8,["options","color"])])]),_:1},8,["modelValue"]),l("div",{class:"share",onClick:e[21]||(e[21]=a=>s(de)(g.value.audioId))}),l("div",{class:"download",onClick:e[22]||(e[22]=a=>s(ue)(g.value.audioURL))})])])]),e[50]||(e[50]=l("div",{class:"divide"},null,-1)),t(pe,{audioUrl:g.value.audioURL,buttonSize:20,sliderLength:300},null,8,["audioUrl"])])])):oe("",!0),e[57]||(e[57]=l("h3",null,"最新活动",-1)),M.value?(v(!0),p(Ze,{key:1},Je(M.value,a=>(v(),p("div",{key:a.audioId,class:"audio-item"},[l("div",mt,[t(A,{src:a.voiceImage,style:{width:"60px",height:"60px","border-radius":"15px"},fit:"cover"},null,8,["src"]),l("div",ft,[l("div",gt,[l("div",_t,c(a.audioText),1),l("div",yt,[t(u,{size:"20"},{default:o(()=>[t(s(ne))]),_:1}),r(" "+c(a.voiceName),1)])]),l("div",bt,[l("div",{class:"dontagree",onClick:e[23]||(e[23]=b=>f.value=!0)}),t(s(U),{modelValue:f.value,"onUpdate:modelValue":e[26]||(e[26]=b=>f.value=b),width:"30%","align-center":"","show-close":!1},{footer:o(()=>[l("span",xt,[t(s(k),{color:"black",plain:"",onClick:e[24]||(e[24]=b=>{f.value=!1})},{default:o(()=>e[53]||(e[53]=[r(" 取消 ")])),_:1}),t(s(k),{color:"black",onClick:e[25]||(e[25]=b=>{f.value=!1})},{default:o(()=>e[54]||(e[54]=[r(" 确认 ")])),_:1})])]),default:o(()=>[e[55]||(e[55]=l("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"20px"}}," 音频质量反馈",-1)),l("div",kt,[e[52]||(e[52]=r(" 反馈类型 ")),t(F,{options:W.value,"input-width":"432px",color:Y.value,"onUpdate:value":Z,style:{"margin-bottom":"10px"}},null,8,["options","color"])])]),_:1},8,["modelValue"]),l("div",{class:"share",onClick:b=>s(de)(a.audioId)},null,8,wt),l("div",{class:"download",onClick:b=>s(ue)(a.audioURL)},null,8,ht)])])]),e[56]||(e[56]=l("div",{class:"divide"},null,-1)),t(pe,{audioUrl:a.audioURL,buttonSize:20,sliderLength:300},null,8,["audioUrl"])]))),128)):(v(),p("div",Ct,[t(je,{description:"暂无数据"})]))])])}}},Bt=Ge(Vt,[["__scopeId","data-v-637308ee"]]);export{Bt as default};
