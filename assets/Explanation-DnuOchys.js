import{_ as He,r as n,d as Ke,Z as Ze,B as P,C as p,f as l,e as t,D as c,g as r,a as o,b as m,h as s,$ as U,n as te,c as I,a0 as Je,O as k,F as oe,L as Xe,M as Ye,u as el,o as v,a1 as ll,G as tl,H as ol,I as sl,a2 as al,W as se,P as il,a3 as nl,a4 as dl,a5 as ul,a6 as ae,R as ie,a7 as vl,v as ne}from"./index-C4n_E3so.js";import{M as rl,S as cl}from"./SelectChange-CW9lH-8P.js";import{C as pl,M as ml}from"./MySoundItem-lkyccZZ3.js";import{A as de}from"./AudioPlayer-xZhN_7YF.js";import{M as O}from"./Input-BGYqWwWh.js";import{e as fl}from"./mybank-Dqo12S6q.js";import{t as gl,f as ue,M as $}from"./Select-CVxk8jUU.js";import{d as _l,o as ve,c as re,t as ce,a as pe,b as me}from"./actions-D-CZNFss.js";import{i as fe}from"./request-eF-n3Hpj.js";import"./sound-BznpVhuQ.js";import"./collect-cexeZF9c.js";/* empty css                                                    */import"./token-B82tXFae.js";const yl=()=>fe.get("/query/audio"),bl=q=>fe.post("/explanation",q),kl={class:"row"},xl={class:"col1"},hl={class:"input-section"},wl={class:"counter"},Cl={class:"warning"},Vl={key:1,class:"select-output-section"},zl={class:"select-voice-name"},Ul={class:"select-voice-detail"},Il={class:"display-detail"},$l={class:"display-detail"},Fl={class:"tag1"},Sl={key:0,class:"tag2",style:{"margin-left":"5px"}},Tl={class:"select-btns"},Nl={class:"btns-plus"},Ll={class:"button"},Ml={class:"number"},Dl={class:"button"},El={class:"button"},Al={class:"number"},Rl={style:{display:"flex","flex-direction":"row",gap:"10px"}},Bl={class:"my-header"},Pl=["id"],Ol={class:"action-sum"},ql={style:{width:"155px"}},jl={class:"action-bar"},Ql={class:"content"},Wl={style:{display:"flex","justify-content":"center"}},Gl={style:{"max-height":"53vh","overflow-y":"auto"}},Hl={style:{"max-height":"53vh","overflow-y":"auto"}},Kl={style:{"max-height":"53vh","overflow-y":"auto"}},Zl={class:"advanced-settings"},Jl={class:"content-wrapper"},Xl={class:"mode"},Yl={class:"detail"},et={class:"demo-progress"},lt={class:"detail"},tt={class:"demo-progress"},ot={class:"build"},st={class:"col2"},at={key:0},it={class:"audio-item"},nt={class:"audio-top"},dt={class:"audio-content"},ut={class:"audio-info"},vt={class:"audio-text"},rt={class:"audio-name"},ct={class:"audio-actions"},pt={class:"dialog"},mt={class:"dialog-footer"},ft={class:"audio-top"},gt={class:"audio-content"},_t={class:"audio-info"},yt={class:"audio-text"},bt={class:"audio-name"},kt={class:"audio-actions"},xt={class:"dialog"},ht={class:"dialog-footer"},wt=["onClick"],Ct=["onClick"],Vt={key:2},zt={__name:"Explanation",setup(q){const ge=n("输入您想生成的语音文本"),_e=n("textarea"),ye=n("5"),be=n("500"),ke=n("#fafafa"),C=n("");function xe(i){C.value=i}const F=el(),S=n(""),j=Ke(),Q=j.query?j.query.id:void 0;Ze(()=>F.currentRoute.value.fullPath,(i,e)=>{const u=i.match(/\?id=(\d+)/);u?S.value=u[1]:S.value="",h.value=!1,W(S.value)});const W=async i=>{let e=await fl(i);d.value=e.data[0]};P(async()=>{Q&&W(Q)});const he=()=>{F.push("/createbank")},G=n("first"),h=n(!1),H=n("#ffffff"),we=n([{value:"1",label:"推荐"},{value:"2",label:"最新"}]),Ce=n([{value:"1",label:"所有"},{value:"ch",label:"汉语"},{value:"en",label:"English"}]),K=n([{value:"1",label:"暂无问题"},{value:"2",label:"音频存在截断"},{value:"3",label:"有多个人说话（音色跳变）"},{value:"4",label:"噪音"},{value:"5",label:"超长空白"},{value:"6",label:"声音太小/声音模糊"},{value:"7",label:"混响很大"},{value:"8",label:"吞字漏字错字"}]),Z=n("#ffffff"),Ve=n(),J=i=>{Ve.value=i},X=n();P(async()=>{let i=await _l();X.value=i.data});const T=n(""),N=n("1"),L=n(""),M=n(""),x=n(""),ze=()=>{T.value="",N.value="1",L.value="",x.value=""},Y=n("搜索声音..."),Ue=i=>{T.value=i},Ie=i=>{N.value=i},$e=i=>{M.value=i,console.log(M.value)};function ee(i){x.value=i}const V=n(!1),f=n(!1),d=n(),D=n(),g=n(),w=n(!1),E=n(!1),Fe=()=>{w.value=!w.value},Se=i=>{i.style.height="auto";const e=getComputedStyle(i).height;i.style.height="0",setTimeout(()=>{i.style.height=e},10)},Te=i=>{i.style.height="auto"},Ne=i=>{i.style.height=getComputedStyle(i).height},Le=i=>{setTimeout(()=>{i.style.height="0"},10)},_=n(1),Me=()=>{_.value=Number((_.value+.1).toFixed(1))},De=()=>{_.value=Number((_.value-.1).toFixed(1))},y=n(1),Ee=()=>{y.value=Number((y.value+.1).toFixed(1))},Ae=()=>{y.value=Number((y.value-.1).toFixed(1))},Re=()=>{F.push("/explanation"),d.value=""},z=n(!1),Be=()=>{z.value=!0;const i={voiceId:d.value.voiceId,audioText:C.value,audioMode:E.value,audioSpeed:_.value,audioVolume:y.value};setTimeout(async()=>{let e=await bl(i);g.value=e.data,z.value=!1},2e3)};return P(async()=>{let i=await yl();D.value=i.data}),(i,e)=>{const u=m("el-icon"),A=m("el-image"),R=m("el-col"),Pe=m("el-row"),Oe=m("el-popover"),B=m("el-tab-pane"),qe=m("el-tabs"),je=m("el-switch"),le=m("el-slider"),Qe=m("el-divider"),We=m("el-empty");return v(),p("div",kl,[l("div",xl,[e[44]||(e[44]=l("h1",null,"文本转语音",-1)),l("div",hl,[e[26]||(e[26]=l("div",{class:"text"},"您的文本",-1)),t(O,{message:C.value,placeholder:ge.value,type:_e.value,maxlength:be.value,rows:ye.value,color:ke.value,"onUpdate:message":xe},null,8,["message","placeholder","type","maxlength","rows","color"]),l("div",wl,c(C.value.length)+"/500",1)]),l("div",Cl,[t(u,{size:"12"},{default:o(()=>[t(s(ll))]),_:1}),e[27]||(e[27]=r(" 语言质量取决于模型，为获得最佳效果，请使用高质量模型，严禁合成政治、色情、赌博、毒品等违法违规内容。 "))]),l("div",{class:"voice-selection"},[e[29]||(e[29]=l("div",{class:"text"},"语音声音",-1)),l("div",{style:{display:"flex","flex-direction":"row",gap:"10px"}},[e[28]||(e[28]=r("没有模型? ")),l("div",{class:"voice-selection-btn",onClick:he},"一分钟创建")])]),d.value?(v(),p("div",Vl,[t(Pe,{class:"select-voice-item"},{default:o(()=>[t(R,{span:4},{default:o(()=>[t(A,{style:{width:"80px",height:"80px","border-radius":"15px"},src:d.value.voiceImage,fit:"cover"},null,8,["src"])]),_:1}),t(R,{span:17},{default:o(()=>[l("div",zl,c(d.value.voiceName),1),l("div",Ul,[l("span",Il,c(d.value.userName),1),e[31]||(e[31]=l("div",{class:"mydot"},null,-1)),t(u,{size:"20",style:{color:"#6b7280"}},{default:o(()=>[t(s(tl))]),_:1}),l("span",$l,c(s(gl)(d.value.voiceCreationTime)),1),e[32]||(e[32]=l("div",{class:"mydot"},null,-1)),l("div",Fl,c(d.value.voiceLanguage),1),d.value.voiceTag!==""?(v(),p("div",Sl,c(d.value.voiceTag),1)):oe("",!0)]),l("div",Tl,[l("div",Nl,[l("div",Ll,[d.value.voiceIsLiked===1?(v(),p("div",{key:0,class:"likefill",onClick:e[1]||(e[1]=a=>s(ce)(d.value))})):(v(),p("div",{key:1,class:"like",onClick:e[2]||(e[2]=a=>s(ce)(d.value))})),l("div",Ml,c(s(ue)(d.value.voiceLikeCount)),1)]),l("div",Dl,[d.value.voiceIsLiked===2?(v(),p("div",{key:0,class:"unlikefill",onClick:e[3]||(e[3]=a=>s(pe)(d.value))})):(v(),p("div",{key:1,class:"unlike",onClick:e[4]||(e[4]=a=>s(pe)(d.value))}))]),l("div",El,[d.value.voiceIsCollected?(v(),I(u,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[6]||(e[6]=a=>s(me)(d.value))},{default:o(()=>[t(s(sl))]),_:1})):(v(),I(u,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[5]||(e[5]=a=>s(me)(d.value))},{default:o(()=>[t(s(ol))]),_:1})),l("div",Al,c(s(ue)(d.value.voiceCollectCount)),1)])])])]),_:1}),t(R,{span:3},{default:o(()=>[l("div",Rl,[t(u,{size:"28",style:{cursor:"pointer"},onClick:e[7]||(e[7]=a=>{h.value=!0})},{default:o(()=>[t(s(al))]),_:1}),t(u,{size:"28",style:{cursor:"pointer"},onClick:Re},{default:o(()=>[t(s(se))]),_:1})])]),_:1})]),_:1})])):(v(),p("div",{key:0,class:"output-section",onClick:e[0]||(e[0]=a=>h.value=!0)},e[30]||(e[30]=[l("div",{class:"add"},null,-1),l("div",{style:{"font-weight":"600"}},"选择语音声音",-1)]))),t(s(U),{modelValue:h.value,"onUpdate:modelValue":e[11]||(e[11]=a=>h.value=a),"show-close":!1},{header:o(({close:a,titleId:b,titleClass:Ge})=>[l("div",Bl,[l("div",{style:{"font-weight":"600"},id:b,class:te(Ge)},"选择语音",10,Pl),t(u,{style:{cursor:"pointer"},onClick:a},{default:o(()=>[t(s(se))]),_:2},1032,["onClick"])])]),default:o(()=>[t(qe,{modelValue:G.value,"onUpdate:modelValue":e[10]||(e[10]=a=>G.value=a),class:"demo-tabs",onTabClick:ze},{default:o(()=>[t(B,{label:"探索",name:"first"},{default:o(()=>[l("div",Ol,[l("div",ql,[t(O,{message:x.value,placeholder:Y.value,size:"medium",background:"#FFF","onUpdate:message":ee},null,8,["message","placeholder"])]),l("div",jl,[e[36]||(e[36]=l("span",{class:"header-tip"},"排序",-1)),t($,{options:we.value,"input-width":"155px",color:H.value,size:"medium",background:"#FFF","onUpdate:value":Ue},null,8,["options","color"]),e[37]||(e[37]=l("span",{class:"header-tip"},"语言",-1)),t($,{options:Ce.value,"input-width":"155px",color:H.value,size:"medium",background:"#FFF","onUpdate:value":Ie},null,8,["options","color"]),t(Oe,{placement:"bottom",width:250,visible:V.value},{reference:o(()=>[t(s(k),{size:"large",class:"btn",onClick:e[8]||(e[8]=a=>V.value=!V.value)},{default:o(()=>[t(u,{size:"20",color:"black"},{default:o(()=>[t(s(il))]),_:1})]),_:1})]),default:o(()=>[l("div",Ql,[e[34]||(e[34]=l("div",{class:"content-header"},[l("span",{style:{"font-size":"large","font-weight":"600",color:"black"}},"筛选")],-1)),e[35]||(e[35]=l("div",null,"标签",-1)),t(rl,{options:X.value,"input-width":"200px","onUpdate:value":$e},null,8,["options"]),l("div",Wl,[t(s(k),{color:"black",style:{width:"95%"},onClick:e[9]||(e[9]=a=>{V.value=!1,L.value=M.value})},{default:o(()=>e[33]||(e[33]=[r("应用")])),_:1})])])]),_:1},8,["visible"])])]),l("div",Gl,[t(cl,{nameValue:x.value,sortValue:T.value,languageValue:N.value,tagValue:L.value},null,8,["nameValue","sortValue","languageValue","tagValue"])])]),_:1}),t(B,{label:"收藏",name:"second"},{default:o(()=>[l("div",Hl,[t(pl)])]),_:1}),t(B,{label:"我的语音",name:"third"},{default:o(()=>[t(O,{message:x.value,placeholder:Y.value,class:"action-bar","onUpdate:message":ee,style:{width:"20%"},background:"#FFF",size:"medium"},null,8,["message","placeholder"]),l("div",Kl,[t(ml,{nameValue:x.value},null,8,["nameValue"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),l("div",Zl,[l("div",{class:te(["toggle-button",{active:w.value}]),onClick:Fe},[e[38]||(e[38]=l("span",{style:{"font-size":"large"}},"高级设置",-1)),w.value?(v(),I(u,{key:1},{default:o(()=>[t(s(dl))]),_:1})):(v(),I(u,{key:0},{default:o(()=>[t(s(nl))]),_:1}))],2),t(Je,{name:"expand",onEnter:Se,onAfterEnter:Te,onBeforeLeave:Ne,onLeave:Le},{default:o(()=>[ul(l("div",Jl,[l("div",Xl,[e[39]||(e[39]=l("div",{class:"detail"},[r(" 高品质模式 "),l("span",{style:{"font-size":"small"}},"生成更高品质的音频，但会增加延迟")],-1)),t(je,{modelValue:E.value,"onUpdate:modelValue":e[12]||(e[12]=a=>E.value=a),class:"ml-2",style:{"--el-switch-on-color":"black","--el-switch-off-color":"#e4e7ed"}},null,8,["modelValue"])]),l("div",null,[l("div",Yl,[r(" 语速("+c(_.value.toFixed(1))+"x) ",1),e[40]||(e[40]=l("span",{style:{"font-size":"small"}},"基于参考音频的语速进行调整",-1))]),l("div",et,[t(u,{size:"20",onClick:De},{default:o(()=>[t(s(ae))]),_:1}),t(le,{modelValue:_.value,"onUpdate:modelValue":e[13]||(e[13]=a=>_.value=a),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),t(u,{size:"20",onClick:Me},{default:o(()=>[t(s(ie))]),_:1})])]),l("div",null,[l("div",lt,[r(" 音量("+c(y.value.toFixed(1))+") ",1),e[41]||(e[41]=l("span",{style:{"font-size":"small"}},"基于参考音频的音量进行调整",-1))]),l("div",tt,[t(u,{size:"20",onClick:Ae},{default:o(()=>[t(s(ae))]),_:1}),t(le,{modelValue:y.value,"onUpdate:modelValue":e[14]||(e[14]=a=>y.value=a),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),t(u,{size:"20",onClick:Ee},{default:o(()=>[t(s(ie))]),_:1})])])],512),[[vl,w.value]])]),_:1})]),l("div",ot,[t(s(k),{color:"black",onClick:Be},{default:o(()=>e[42]||(e[42]=[r("创建")])),_:1})]),t(s(U),{modelValue:z.value,"onUpdate:modelValue":e[15]||(e[15]=a=>z.value=a),"show-close":!1,width:"25%",title:"正在创建语言","align-center":""},{default:o(()=>e[43]||(e[43]=[l("div",{style:{margin:"20px"}},[l("div",{class:"loading-dots"},[l("span",{class:"dot dot1"}),l("span",{class:"dot dot2"}),l("span",{class:"dot dot3"})]),l("div",{style:{display:"flex","justify-content":"center",margin:"10px"}},"正在分析文本")],-1)])),_:1},8,["modelValue"])]),t(Qe,{direction:"vertical",style:{height:"auto"}}),l("div",st,[g.value?(v(),p("div",at,[e[50]||(e[50]=l("h3",null,"生成的音频",-1)),l("div",it,[l("div",nt,[t(A,{src:g.value.voiceImage,style:{width:"60px",height:"60px","border-radius":"15px"},fit:"cover"},null,8,["src"]),l("div",dt,[l("div",ut,[l("div",vt,c(g.value.audioText),1),l("div",rt,[t(u,{size:"20"},{default:o(()=>[t(s(ne))]),_:1}),r(" "+c(g.value.voiceName),1)])]),l("div",ct,[l("div",{class:"dontagree",onClick:e[16]||(e[16]=a=>f.value=!0)}),t(s(U),{modelValue:f.value,"onUpdate:modelValue":e[19]||(e[19]=a=>f.value=a),width:"30%","align-center":"","show-close":!1},{footer:o(()=>[l("span",mt,[t(s(k),{color:"black",plain:"",onClick:e[17]||(e[17]=a=>{f.value=!1})},{default:o(()=>e[46]||(e[46]=[r(" 取消 ")])),_:1}),t(s(k),{color:"black",onClick:e[18]||(e[18]=a=>{f.value=!1})},{default:o(()=>e[47]||(e[47]=[r(" 确认 ")])),_:1})])]),default:o(()=>[e[48]||(e[48]=l("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"20px"}}," 音频质量反馈",-1)),l("div",pt,[e[45]||(e[45]=r(" 反馈类型 ")),t($,{options:K.value,"input-width":"432px",color:Z.value,"onUpdate:value":J,style:{"margin-bottom":"10px"}},null,8,["options","color"])])]),_:1},8,["modelValue"]),l("div",{class:"share",onClick:e[20]||(e[20]=a=>s(ve)(g.value.audioId))}),l("div",{class:"download",onClick:e[21]||(e[21]=a=>s(re)(g.value.audioURL))})])])]),e[49]||(e[49]=l("div",{class:"divide"},null,-1)),t(de,{audioUrl:g.value.audioURL,buttonSize:20,sliderLength:300},null,8,["audioUrl"])])])):oe("",!0),e[56]||(e[56]=l("h3",null,"最新活动",-1)),D.value?(v(!0),p(Xe,{key:1},Ye(D.value,a=>(v(),p("div",{key:a.audioId,class:"audio-item"},[l("div",ft,[t(A,{src:a.voiceImage,style:{width:"60px",height:"60px","border-radius":"15px"},fit:"cover"},null,8,["src"]),l("div",gt,[l("div",_t,[l("div",yt,c(a.audioText),1),l("div",bt,[t(u,{size:"20"},{default:o(()=>[t(s(ne))]),_:1}),r(" "+c(a.voiceName),1)])]),l("div",kt,[l("div",{class:"dontagree",onClick:e[22]||(e[22]=b=>f.value=!0)}),t(s(U),{modelValue:f.value,"onUpdate:modelValue":e[25]||(e[25]=b=>f.value=b),width:"30%","align-center":"","show-close":!1},{footer:o(()=>[l("span",ht,[t(s(k),{color:"black",plain:"",onClick:e[23]||(e[23]=b=>{f.value=!1})},{default:o(()=>e[52]||(e[52]=[r(" 取消 ")])),_:1}),t(s(k),{color:"black",onClick:e[24]||(e[24]=b=>{f.value=!1})},{default:o(()=>e[53]||(e[53]=[r(" 确认 ")])),_:1})])]),default:o(()=>[e[54]||(e[54]=l("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"20px"}}," 音频质量反馈",-1)),l("div",xt,[e[51]||(e[51]=r(" 反馈类型 ")),t($,{options:K.value,"input-width":"432px",color:Z.value,"onUpdate:value":J,style:{"margin-bottom":"10px"}},null,8,["options","color"])])]),_:1},8,["modelValue"]),l("div",{class:"share",onClick:b=>s(ve)(a.audioId)},null,8,wt),l("div",{class:"download",onClick:b=>s(re)(a.audioURL)},null,8,Ct)])])]),e[55]||(e[55]=l("div",{class:"divide"},null,-1)),t(de,{audioUrl:a.audioURL,buttonSize:20,sliderLength:300},null,8,["audioUrl"])]))),128)):(v(),p("div",Vt,[t(We,{description:"暂无数据"})]))])])}}},Bt=He(zt,[["__scopeId","data-v-45832926"]]);export{Bt as default};
