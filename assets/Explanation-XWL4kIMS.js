import{_ as Ge,r as i,d as He,X as We,B as le,C as p,f as l,e as t,D as c,g as r,a as o,b as m,h as s,Y as $,n as te,c as T,Z as Xe,N as x,E as oe,K as Ye,L as Ze,u as Je,o as v,$ as el,F as ll,G as tl,H as ol,a0 as sl,U as se,O as al,a1 as il,a2 as nl,a3 as dl,a4 as ae,Q as ie,a5 as ul,v as ne}from"./index-DjNsE5ME.js";import{M as vl,S as rl}from"./SelectChange-DKCSpc0t.js";import{C as cl,M as pl}from"./MySoundItem-CXPNcanT.js";import{A as de}from"./AudioPlayer-XiFL9_5F.js";import{M as R}from"./Input-C5NO2UOs.js";import{e as ml}from"./mybank-Ccy2O2o8.js";import{i as fl}from"./request-BZju35HV.js";import{t as gl,f as ue,M as F}from"./Select-VAnA7z8b.js";import{d as _l,o as ve,c as re,t as ce,a as pe,b as me}from"./actions-DxwniVDs.js";import"./sound-BznpVhuQ.js";import"./collect-BWbePMcc.js";/* empty css                                                    */import"./token-JUswVa07.js";const yl=P=>fl.get(`/explanation/query/${P}`,{responseType:"blob"}),bl={class:"row"},kl={class:"col1"},xl={class:"input-section"},hl={class:"counter"},wl={class:"warning"},Cl={key:1,class:"select-output-section"},Vl={class:"select-voice-name"},zl={class:"select-voice-detail"},Ul={class:"display-detail"},$l={class:"display-detail"},Tl={class:"tag1"},Fl={key:0,class:"tag2",style:{"margin-left":"5px"}},Il={class:"select-btns"},Sl={class:"btns-plus"},Nl={class:"button"},Ll={class:"number"},Al={class:"button"},Ml={class:"button"},El={class:"number"},Dl={style:{display:"flex","flex-direction":"row",gap:"10px"}},Bl={class:"my-header"},Rl=["id"],Pl={class:"action-sum"},Ol={style:{width:"155px"}},ql={class:"action-bar"},Ql={class:"content"},jl={style:{display:"flex","justify-content":"center"}},Kl={style:{"max-height":"53vh","overflow-y":"auto"}},Gl={style:{"max-height":"53vh","overflow-y":"auto"}},Hl={style:{"max-height":"53vh","overflow-y":"auto"}},Wl={class:"advanced-settings"},Xl={class:"content-wrapper"},Yl={class:"mode"},Zl={class:"detail"},Jl={class:"demo-progress"},et={class:"detail"},lt={class:"demo-progress"},tt={class:"build"},ot={class:"col2"},st={key:0},at={class:"audio-item"},it={class:"audio-top"},nt={class:"audio-content"},dt={class:"audio-info"},ut={class:"audio-text"},vt={class:"audio-name"},rt={class:"audio-actions"},ct={class:"dialog"},pt={class:"dialog-footer"},mt={class:"audio-top"},ft={class:"audio-content"},gt={class:"audio-info"},_t={class:"audio-text"},yt={class:"audio-name"},bt={class:"audio-actions"},kt={class:"dialog"},xt={class:"dialog-footer"},ht=["onClick"],wt=["onClick"],Ct={key:2},Vt={__name:"Explanation",setup(P){const fe=i("输入您想生成的语音文本"),ge=i("textarea"),_e=i("5"),ye=i("500"),be=i("#fafafa"),z=i("");function ke(n){z.value=n}const I=Je(),S=i(""),O=He(),q=O.query?O.query.id:void 0;We(()=>I.currentRoute.value.fullPath,(n,e)=>{const d=n.match(/\?id=(\d+)/);d?S.value=d[1]:S.value="",C.value=!1,Q(S.value)});const Q=async n=>{let e=await ml(n);u.value=e.data[0],response.value=await yl(n);const d=atob(data),w=new Uint8Array(d.length);for(let y=0;y<d.length;y++)w[y]=d.charCodeAt(y);new Blob([w],{type:fileType})};le(async()=>{q&&Q(q)});const xe=()=>{I.push("/createbank")},j=i("first"),C=i(!1),K=i("#ffffff"),he=i([{value:"1",label:"推荐"},{value:"2",label:"最新"}]),we=i([{value:"1",label:"所有"},{value:"ch",label:"汉语"},{value:"en",label:"English"}]),G=i([{value:"1",label:"暂无问题"},{value:"2",label:"音频存在截断"},{value:"3",label:"有多个人说话（音色跳变）"},{value:"4",label:"噪音"},{value:"5",label:"超长空白"},{value:"6",label:"声音太小/声音模糊"},{value:"7",label:"混响很大"},{value:"8",label:"吞字漏字错字"}]),H=i("#ffffff"),Ce=i(),W=n=>{Ce.value=n},X=i();le(async()=>{let n=await _l();X.value=n.data});const N=i(""),L=i("1"),A=i(""),M=i(""),h=i(""),Ve=()=>{N.value="",L.value="1",A.value="",h.value=""},Y=i("搜索声音..."),ze=n=>{N.value=n},Ue=n=>{L.value=n},$e=n=>{M.value=n,console.log(M.value)};function Z(n){h.value=n}const U=i(!1),f=i(!1),u=i(),J=i(),k=i(),V=i(!1),E=i(!1),Te=()=>{V.value=!V.value},Fe=n=>{n.style.height="auto";const e=getComputedStyle(n).height;n.style.height="0",setTimeout(()=>{n.style.height=e},10)},Ie=n=>{n.style.height="auto"},Se=n=>{n.style.height=getComputedStyle(n).height},Ne=n=>{setTimeout(()=>{n.style.height="0"},10)},g=i(1),Le=()=>{g.value=Number((g.value+.1).toFixed(1))},Ae=()=>{g.value=Number((g.value-.1).toFixed(1))},_=i(1),Me=()=>{_.value=Number((_.value+.1).toFixed(1))},Ee=()=>{_.value=Number((_.value-.1).toFixed(1))},De=()=>{I.push("/explanation"),u.value=""},D=i(!1),Be=()=>{D.value=!0,u.value.voiceId,z.value,E.value,g.value,_.value};return(n,e)=>{const d=m("el-icon"),w=m("el-image"),y=m("el-col"),Re=m("el-row"),Pe=m("el-popover"),B=m("el-tab-pane"),Oe=m("el-tabs"),qe=m("el-switch"),ee=m("el-slider"),Qe=m("el-divider"),je=m("el-empty");return v(),p("div",bl,[l("div",kl,[e[44]||(e[44]=l("h1",null,"文本转语音",-1)),l("div",xl,[e[26]||(e[26]=l("div",{class:"text"},"您的文本",-1)),t(R,{message:z.value,placeholder:fe.value,type:ge.value,maxlength:ye.value,rows:_e.value,color:be.value,"onUpdate:message":ke},null,8,["message","placeholder","type","maxlength","rows","color"]),l("div",hl,c(z.value.length)+"/500",1)]),l("div",wl,[t(d,{size:"12"},{default:o(()=>[t(s(el))]),_:1}),e[27]||(e[27]=r(" 语言质量取决于模型，为获得最佳效果，请使用高质量模型，严禁合成政治、色情、赌博、毒品等违法违规内容。 "))]),l("div",{class:"voice-selection"},[e[29]||(e[29]=l("div",{class:"text"},"语音声音",-1)),l("div",{style:{display:"flex","flex-direction":"row",gap:"10px"}},[e[28]||(e[28]=r("没有模型? ")),l("div",{class:"voice-selection-btn",onClick:xe},"一分钟创建")])]),u.value?(v(),p("div",Cl,[t(Re,{class:"select-voice-item"},{default:o(()=>[t(y,{span:4},{default:o(()=>[t(w,{style:{width:"80px",height:"80px","border-radius":"15px"},src:u.value.voiceImage,fit:"cover"},null,8,["src"])]),_:1}),t(y,{span:17},{default:o(()=>[l("div",Vl,c(u.value.voiceName),1),l("div",zl,[l("span",Ul,c(u.value.userName),1),e[31]||(e[31]=l("div",{class:"mydot"},null,-1)),t(d,{size:"20",style:{color:"#6b7280"}},{default:o(()=>[t(s(ll))]),_:1}),l("span",$l,c(s(gl)(u.value.voiceCreationTime)),1),e[32]||(e[32]=l("div",{class:"mydot"},null,-1)),l("div",Tl,c(u.value.voiceLanguage),1),u.value.voiceTag!==""?(v(),p("div",Fl,c(u.value.voiceTag),1)):oe("",!0)]),l("div",Il,[l("div",Sl,[l("div",Nl,[u.value.voiceIsLiked===1?(v(),p("div",{key:0,class:"likefill",onClick:e[1]||(e[1]=a=>s(ce)(u.value))})):(v(),p("div",{key:1,class:"like",onClick:e[2]||(e[2]=a=>s(ce)(u.value))})),l("div",Ll,c(s(ue)(u.value.voiceLikeCount)),1)]),l("div",Al,[u.value.voiceIsLiked===2?(v(),p("div",{key:0,class:"unlikefill",onClick:e[3]||(e[3]=a=>s(pe)(u.value))})):(v(),p("div",{key:1,class:"unlike",onClick:e[4]||(e[4]=a=>s(pe)(u.value))}))]),l("div",Ml,[u.value.voiceIsCollected?(v(),T(d,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[6]||(e[6]=a=>s(me)(u.value))},{default:o(()=>[t(s(ol))]),_:1})):(v(),T(d,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[5]||(e[5]=a=>s(me)(u.value))},{default:o(()=>[t(s(tl))]),_:1})),l("div",El,c(s(ue)(u.value.voiceCollectCount)),1)])])])]),_:1}),t(y,{span:3},{default:o(()=>[l("div",Dl,[t(d,{size:"28",style:{cursor:"pointer"},onClick:e[7]||(e[7]=a=>{C.value=!0})},{default:o(()=>[t(s(sl))]),_:1}),t(d,{size:"28",style:{cursor:"pointer"},onClick:De},{default:o(()=>[t(s(se))]),_:1})])]),_:1})]),_:1})])):(v(),p("div",{key:0,class:"output-section",onClick:e[0]||(e[0]=a=>C.value=!0)},e[30]||(e[30]=[l("div",{class:"add"},null,-1),l("div",{style:{"font-weight":"600"}},"选择语音声音",-1)]))),t(s($),{modelValue:C.value,"onUpdate:modelValue":e[11]||(e[11]=a=>C.value=a),"show-close":!1},{header:o(({close:a,titleId:b,titleClass:Ke})=>[l("div",Bl,[l("div",{style:{"font-weight":"600"},id:b,class:te(Ke)},"选择语音",10,Rl),t(d,{style:{cursor:"pointer"},onClick:a},{default:o(()=>[t(s(se))]),_:2},1032,["onClick"])])]),default:o(()=>[t(Oe,{modelValue:j.value,"onUpdate:modelValue":e[10]||(e[10]=a=>j.value=a),class:"demo-tabs",onTabClick:Ve},{default:o(()=>[t(B,{label:"探索",name:"first"},{default:o(()=>[l("div",Pl,[l("div",Ol,[t(R,{message:h.value,placeholder:Y.value,size:"medium",background:"#FFF","onUpdate:message":Z},null,8,["message","placeholder"])]),l("div",ql,[e[36]||(e[36]=l("span",{class:"header-tip"},"排序",-1)),t(F,{options:he.value,"input-width":"155px",color:K.value,size:"medium",background:"#FFF","onUpdate:value":ze},null,8,["options","color"]),e[37]||(e[37]=l("span",{class:"header-tip"},"语言",-1)),t(F,{options:we.value,"input-width":"155px",color:K.value,size:"medium",background:"#FFF","onUpdate:value":Ue},null,8,["options","color"]),t(Pe,{placement:"bottom",width:250,visible:U.value},{reference:o(()=>[t(s(x),{size:"large",class:"btn",onClick:e[8]||(e[8]=a=>U.value=!U.value)},{default:o(()=>[t(d,{size:"20",color:"black"},{default:o(()=>[t(s(al))]),_:1})]),_:1})]),default:o(()=>[l("div",Ql,[e[34]||(e[34]=l("div",{class:"content-header"},[l("span",{style:{"font-size":"large","font-weight":"600",color:"black"}},"筛选")],-1)),e[35]||(e[35]=l("div",null,"标签",-1)),t(vl,{options:X.value,"input-width":"200px","onUpdate:value":$e},null,8,["options"]),l("div",jl,[t(s(x),{color:"black",style:{width:"95%"},onClick:e[9]||(e[9]=a=>{U.value=!1,A.value=M.value})},{default:o(()=>e[33]||(e[33]=[r("应用")])),_:1})])])]),_:1},8,["visible"])])]),l("div",Kl,[t(rl,{nameValue:h.value,sortValue:N.value,languageValue:L.value,tagValue:A.value},null,8,["nameValue","sortValue","languageValue","tagValue"])])]),_:1}),t(B,{label:"收藏",name:"second"},{default:o(()=>[l("div",Gl,[t(cl)])]),_:1}),t(B,{label:"我的语音",name:"third"},{default:o(()=>[t(R,{message:h.value,placeholder:Y.value,class:"action-bar","onUpdate:message":Z,style:{width:"20%"},background:"#FFF",size:"medium"},null,8,["message","placeholder"]),l("div",Hl,[t(pl,{nameValue:h.value},null,8,["nameValue"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),l("div",Wl,[l("div",{class:te(["toggle-button",{active:V.value}]),onClick:Te},[e[38]||(e[38]=l("span",{style:{"font-size":"large"}},"高级设置",-1)),V.value?(v(),T(d,{key:1},{default:o(()=>[t(s(nl))]),_:1})):(v(),T(d,{key:0},{default:o(()=>[t(s(il))]),_:1}))],2),t(Xe,{name:"expand",onEnter:Fe,onAfterEnter:Ie,onBeforeLeave:Se,onLeave:Ne},{default:o(()=>[dl(l("div",Xl,[l("div",Yl,[e[39]||(e[39]=l("div",{class:"detail"},[r(" 高品质模式 "),l("span",{style:{"font-size":"small"}},"生成更高品质的音频，但会增加延迟")],-1)),t(qe,{modelValue:E.value,"onUpdate:modelValue":e[12]||(e[12]=a=>E.value=a),class:"ml-2",style:{"--el-switch-on-color":"black","--el-switch-off-color":"#e4e7ed"}},null,8,["modelValue"])]),l("div",null,[l("div",Zl,[r(" 语速("+c(g.value.toFixed(1))+"x) ",1),e[40]||(e[40]=l("span",{style:{"font-size":"small"}},"基于参考音频的语速进行调整",-1))]),l("div",Jl,[t(d,{size:"20",onClick:Ae},{default:o(()=>[t(s(ae))]),_:1}),t(ee,{modelValue:g.value,"onUpdate:modelValue":e[13]||(e[13]=a=>g.value=a),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),t(d,{size:"20",onClick:Le},{default:o(()=>[t(s(ie))]),_:1})])]),l("div",null,[l("div",et,[r(" 音量("+c(_.value.toFixed(1))+") ",1),e[41]||(e[41]=l("span",{style:{"font-size":"small"}},"基于参考音频的音量进行调整",-1))]),l("div",lt,[t(d,{size:"20",onClick:Ee},{default:o(()=>[t(s(ae))]),_:1}),t(ee,{modelValue:_.value,"onUpdate:modelValue":e[14]||(e[14]=a=>_.value=a),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),t(d,{size:"20",onClick:Me},{default:o(()=>[t(s(ie))]),_:1})])])],512),[[ul,V.value]])]),_:1})]),l("div",tt,[t(s(x),{color:"black",onClick:Be},{default:o(()=>e[42]||(e[42]=[r("创建")])),_:1})]),t(s($),{modelValue:D.value,"onUpdate:modelValue":e[15]||(e[15]=a=>D.value=a),"show-close":!1,width:"25%",title:"正在创建语言","align-center":""},{default:o(()=>e[43]||(e[43]=[l("div",{style:{margin:"20px"}},[l("div",{class:"loading-dots"},[l("span",{class:"dot dot1"}),l("span",{class:"dot dot2"}),l("span",{class:"dot dot3"})]),l("div",{style:{display:"flex","justify-content":"center",margin:"10px"}},"正在分析文本")],-1)])),_:1},8,["modelValue"])]),t(Qe,{direction:"vertical",style:{height:"auto"}}),l("div",ot,[k.value?(v(),p("div",st,[e[50]||(e[50]=l("h3",null,"生成的音频",-1)),l("div",at,[l("div",it,[t(w,{src:k.value.voiceImage,style:{width:"60px",height:"60px","border-radius":"15px"},fit:"cover"},null,8,["src"]),l("div",nt,[l("div",dt,[l("div",ut,c(k.value.audioText),1),l("div",vt,[t(d,{size:"20"},{default:o(()=>[t(s(ne))]),_:1}),r(" "+c(k.value.voiceName),1)])]),l("div",rt,[l("div",{class:"dontagree",onClick:e[16]||(e[16]=a=>f.value=!0)}),t(s($),{modelValue:f.value,"onUpdate:modelValue":e[19]||(e[19]=a=>f.value=a),width:"30%","align-center":"","show-close":!1},{footer:o(()=>[l("span",pt,[t(s(x),{color:"black",plain:"",onClick:e[17]||(e[17]=a=>{f.value=!1})},{default:o(()=>e[46]||(e[46]=[r(" 取消 ")])),_:1}),t(s(x),{color:"black",onClick:e[18]||(e[18]=a=>{f.value=!1})},{default:o(()=>e[47]||(e[47]=[r(" 确认 ")])),_:1})])]),default:o(()=>[e[48]||(e[48]=l("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"20px"}}," 音频质量反馈",-1)),l("div",ct,[e[45]||(e[45]=r(" 反馈类型 ")),t(F,{options:G.value,"input-width":"432px",color:H.value,"onUpdate:value":W,style:{"margin-bottom":"10px"}},null,8,["options","color"])])]),_:1},8,["modelValue"]),l("div",{class:"share",onClick:e[20]||(e[20]=a=>s(ve)(k.value.audioId))}),l("div",{class:"download",onClick:e[21]||(e[21]=a=>s(re)(k.value.audioURL))})])])]),e[49]||(e[49]=l("div",{class:"divide"},null,-1)),t(de,{audioUrl:k.value.audioURL,buttonSize:20,sliderLength:300},null,8,["audioUrl"])])])):oe("",!0),e[56]||(e[56]=l("h3",null,"最新活动",-1)),J.value?(v(!0),p(Ye,{key:1},Ze(J.value,a=>(v(),p("div",{key:a.audioId,class:"audio-item"},[l("div",mt,[t(w,{src:a.voiceImage,style:{width:"60px",height:"60px","border-radius":"15px"},fit:"cover"},null,8,["src"]),l("div",ft,[l("div",gt,[l("div",_t,c(a.audioText),1),l("div",yt,[t(d,{size:"20"},{default:o(()=>[t(s(ne))]),_:1}),r(" "+c(a.voiceName),1)])]),l("div",bt,[l("div",{class:"dontagree",onClick:e[22]||(e[22]=b=>f.value=!0)}),t(s($),{modelValue:f.value,"onUpdate:modelValue":e[25]||(e[25]=b=>f.value=b),width:"30%","align-center":"","show-close":!1},{footer:o(()=>[l("span",xt,[t(s(x),{color:"black",plain:"",onClick:e[23]||(e[23]=b=>{f.value=!1})},{default:o(()=>e[52]||(e[52]=[r(" 取消 ")])),_:1}),t(s(x),{color:"black",onClick:e[24]||(e[24]=b=>{f.value=!1})},{default:o(()=>e[53]||(e[53]=[r(" 确认 ")])),_:1})])]),default:o(()=>[e[54]||(e[54]=l("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"20px"}}," 音频质量反馈",-1)),l("div",kt,[e[51]||(e[51]=r(" 反馈类型 ")),t(F,{options:G.value,"input-width":"432px",color:H.value,"onUpdate:value":W,style:{"margin-bottom":"10px"}},null,8,["options","color"])])]),_:1},8,["modelValue"]),l("div",{class:"share",onClick:b=>s(ve)(a.audioId)},null,8,ht),l("div",{class:"download",onClick:b=>s(re)(a.audioURL)},null,8,wt)])])]),e[55]||(e[55]=l("div",{class:"divide"},null,-1)),t(de,{audioUrl:a.audioURL,buttonSize:20,sliderLength:300},null,8,["audioUrl"])]))),128)):(v(),p("div",Ct,[t(je,{description:"暂无数据"})]))])])}}},Bt=Ge(Vt,[["__scopeId","data-v-8e8b01d5"]]);export{Bt as default};
