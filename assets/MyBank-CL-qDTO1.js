import{_ as G,r as f,G as K,K as Q,c as k,w as s,a as n,u as W,o as r,b as e,d as t,f as d,I as h,e as b,L as H,p as m,x as J,F as z,D,q as u,y as O,M as X,N as Y}from"./index-CzEBsNA8.js";import{M as Z}from"./Input-BOldtSFz.js";import{i as ee}from"./request-DgfMqIR4.js";const te=()=>ee.get("/bank/query"),se={class:"action-bar"},ae={key:0},le={style:{"font-size":"20px","font-weight":"800","padding-bottom":"10px"}},ne={style:{color:"#6b7280"}},oe={style:{display:"flex","flex-direction":"row",gap:"10px"}},ie={style:{"font-weight":"520"}},ce={style:{"padding-top":"3%"}},re={style:{display:"flex","flex-direction":"row",gap:"10px",cursor:"pointer"}},de={style:{color:"#71717a"}},ue={class:"audio-samples"},pe={class:"samples-content"},_e={class:"samples-index"},fe={class:"sample-btn"},me=["onClick"],ge=["onClick"],ye={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},he={class:"btns"},ve={__name:"MyBank",setup(ke){const N=f("#f5f5f5"),w=W(),P=()=>{w.push("/createbank")};function B(l){v.value=l}const o=f([{id:1,userName:"fc",image:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",name:"55",description:"1212",creationTime:new Date(2025,1,9,19,11),status:"成功",peopleCount:11e4,shareCount:11,likeCount:20,collectCount:10,language:"ch",tag:"aaaaaaaaa",isLiked:!1,isUnliked:!1,isCollected:!1,samples:[{id:1,isPlaying:!1,title:"Default Sample",text:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",url:""},{id:2,isPlaying:!1,title:"方可让父母",text:"对侧人防热非人发热功耗一节课iklo",url:""}]},{id:2,userName:"fcds",image:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",name:"55",description:"1212",creationTime:new Date(2025,1,9,19,10),status:"成功",peopleCount:15,shareCount:11,likeCount:20,collectCount:10,language:"en",tag:"1",isLiked:!1,isUnliked:!1,isCollected:!1,samples:[{id:1,isPlaying:!1,title:"Default Sample",text:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",url:""}]}]),v=f(""),L=f("搜索声音..."),M=K(()=>o.value.filter(l=>l.name.includes(v.value))),j=l=>(l=new Date(l),new Intl.DateTimeFormat("zh-CN",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(l)),x=(l,a)=>{if(!o.value[l].sample[a].url){console.error("Audio URL is empty");return}const c=new Audio(o.value[l].sample[a].url),_=o.value[l].sample[a];_.isPlaying?(c.pause(),_.isPlaying=!1):(c.play(),_.isPlaying=!0),c.addEventListener("ended",()=>{o.value[l].sample[a].isPlaying=!1})},T=l=>{w.push({path:"/explanation",query:{id:l}})},C=f(0),V=async()=>{try{const l=await te();o.value=l.data.records,C.value=o.value.length}catch(l){console.error("Failed to ",l),o.value=[],C.value=0}};return Q(()=>{V()}),(l,a)=>{const c=n("el-icon"),_=n("el-header"),q=n("el-empty"),I=n("el-image"),p=n("el-col"),S=n("el-tag"),F=n("el-card"),U=n("el-popover"),E=n("el-row"),$=n("el-main"),A=n("el-container");return r(),k(A,{class:"sound-manager"},{default:s(()=>[e(_,{class:"display"},{default:s(()=>[a[1]||(a[1]=t("h1",{class:"title"},"我的声音",-1)),t("div",se,[e(Z,{message:v.value,placeholder:L.value,color:N.value,class:"search-input","onUpdate:message":B},null,8,["message","placeholder","color"]),e(d(h),{color:"black",onClick:P,class:"create-btn"},{default:s(()=>[e(c,{size:"20",style:{"padding-right":"5px"}},{default:s(()=>[e(d(H))]),_:1}),a[0]||(a[0]=b(" 创建新的声音 "))]),_:1})])]),_:1}),e($,null,{default:s(()=>[o.value.length===0?(r(),m("div",ae,[e(q,{description:"暂无数据"})])):J("",!0),(r(!0),m(z,null,D(M.value,i=>(r(),k(E,{key:i.id,class:"voice-item"},{default:s(()=>[e(p,{span:2},{default:s(()=>[e(I,{style:{width:"70px",height:"70px","border-radius":"10px"},src:i.image,fit:"cover"},null,8,["src"])]),_:2},1024),e(p,{span:7},{default:s(()=>[t("div",le,u(i.name),1),t("div",ne,u(i.description),1)]),_:2},1024),e(p,{span:4},{default:s(()=>[a[2]||(a[2]=t("div",{class:"item"},"创建时间",-1)),t("div",oe,[e(c,{size:"20",style:{color:"#6b7280"}},{default:s(()=>[e(d(O))]),_:1}),t("span",ie,u(j(i.creationTime)),1)])]),_:2},1024),e(p,{span:3},{default:s(()=>[a[3]||(a[3]=t("div",{class:"item"},"状态",-1)),t("div",ce,[e(S,{type:"success",round:"",effect:"dark",style:{width:"50px","font-weight":"1000"}},{default:s(()=>[b(u(i.status),1)]),_:2},1024)])]),_:2},1024),e(p,{span:4},{default:s(()=>[a[6]||(a[6]=t("div",{class:"item"},"音频示例",-1)),t("div",null,[e(U,{placement:"bottom",width:400,trigger:"click"},{reference:s(()=>[t("div",re,[a[4]||(a[4]=t("div",{class:"logo"},null,-1)),t("span",de,u(i.samples.length)+" 音频示例",1)])]),default:s(()=>[t("div",ue,[a[5]||(a[5]=t("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(r(!0),m(z,null,D(i.samples,(g,y)=>(r(),k(F,{key:y,class:"samples-item",shadow:"never"},{default:s(()=>[t("div",pe,[t("div",null,[t("span",_e,u(y+1),1),t("span",null,u(g.title),1)]),t("div",fe,[g.isPlaying?(r(),m("div",{key:1,class:"on",onClick:R=>x(y)},null,8,ge)):(r(),m("div",{key:0,class:"close",onClick:R=>x(y)},null,8,me))])]),t("div",ye,u(g.text),1)]),_:2},1024))),128))])]),_:2},1024)])]),_:2},1024),e(p,{span:4},{default:s(()=>[t("div",he,[e(d(h),{size:"large",color:"black",onClick:g=>T(i.id)},{default:s(()=>a[7]||(a[7]=[b("使用声音")])),_:2},1032,["onClick"]),e(d(h),{size:"large",class:"btn",circle:""},{default:s(()=>[e(c,{size:"20"},{default:s(()=>[e(d(X))]),_:1})]),_:1}),e(d(h),{size:"large",class:"btn",circle:""},{default:s(()=>[e(c,{size:"20"},{default:s(()=>[e(d(Y))]),_:1})]),_:1})])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})}}},Ce=G(ve,[["__scopeId","data-v-74ec9100"]]);export{Ce as default};
