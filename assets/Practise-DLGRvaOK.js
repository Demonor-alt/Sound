import{_ as L,r as l,B as G,X as j,A as _,C as d,o as n,f as e,D as $,g as c,K as D,z as J,E as R,e as t,a as s,b as m,c as F,a9 as VV,a6 as eV,u as oV,h as S,aa as O,L as E,ab as lV}from"./index-BxtT7CNJ.js";import{u as tV}from"./language-CIpMp4vM.js";import{u as sV,r as aV}from"./record.esm-B6aFkqri.js";const nV={class:"header"},iV=["src"],rV={class:"content"},dV={__name:"Speak",props:{dataItem:{type:Object,default:()=>({})}},emits:["option-selected"],setup(y,{emit:B}){const Q=y,i=l(null),v=()=>{i.value&&i.value.play()},u=l(!1);G(()=>{v()}),j(()=>Q.dataItem,async()=>{if(i.value){i.value.src=Q.dataItem.audioURL;try{await i.value.load(),await i.value.play()}catch(r){console.error("音频播放失败:",r)}}},{deep:!0});const w=l(null),f=l(null),b=l(null),x=l(""),k=l("");G(()=>{f.value=sV.create({container:w.value,waveColor:"#1cb0f6",progressColor:"#1cb0f6",height:130,barWidth:10,barRadius:2,cursorWidth:0}),b.value=f.value.registerPlugin(aV.create({scrollingWaveform:!1})),b.value.on("record-end",r=>{x.value=URL.createObjectURL(r),k.value=r.type.split(";")[0].split("/")[1]||"webm"})}),_(()=>{f.value&&f.value.destroy()});const A=async()=>{await b.value.startRecording(),u.value=!0},C=()=>{b.value.stopRecording(),u.value=!1};return(r,a)=>(n(),d(D,null,[a[3]||(a[3]=e("h1",null,"朗读下面的内容",-1)),e("div",nV,[e("div",{class:"toaudio",onClick:v},[a[0]||(a[0]=e("div",{class:"audioplay"},null,-1)),e("audio",{ref_key:"audioRef",ref:i,src:y.dataItem.audioURL,preload:"auto"},null,8,iV),e("div",null,$(y.dataItem.practiseWord),1)])]),e("div",{ref_key:"waveformRef",ref:w},null,512),e("div",rV,[u.value?(n(),d("div",{key:1,onClick:C,class:"voice-item"},a[2]||(a[2]=[e("div",{class:"recordgray"},null,-1),e("div",{style:{color:"#b5b5b5"}},"点击并开始录音",-1)]))):(n(),d("div",{key:0,class:"voice-item",style:{cursor:"pointer"},onClick:A},a[1]||(a[1]=[e("div",{class:"record"},null,-1),c(" 点击并开始录音 ")])))])],64))}},AV=L(dV,[["__scopeId","data-v-b2fdfc79"]]),uV="/Sound/assets/tall-w-CP3XPmsS.mp3",cV="data:audio/mpeg;base64,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5WJA/kTfh4pLWgSFuC7LiPY6zXnmaGxJUqESHURCUBK/0kF7MlaDLaSmnY1WkdmPTFLPWJLL4ayhUA0cNXYOmn5qs6ZhGn87xuSM9Bo41Pxb78i+0L5OmrPK9IcOK8lZePR0hXH3IDSBA0wmLIJNyTutgnU5TqJdTIydqb//7f8GUGBFiw4KHAElDbpfawo+p8iqgAAMnf+oWzYrFk0AEoDmV0vo01CJxXYYAhaAkTWBImT2iM2cbUBLC00O//NoxCox/BKVRssFkOuN5XfbZtX2btTKxOFSOzK3Jh6HqK1FrL807Xc6acp3WjTBYqqBXSAdko4Skaii60C56hJ0VDVQuPT9KtjPL8fHC85NS2kWAWBmXhJLgHgguu0oVcsnU7eFj8zZ2YWpzK2/qzfaswZAmRonYUxnD6oqxri4jKFHGWM30s2vL2dwJ3yqu3////azlBOEFsFIVHEvttPWttWtTNVkuboPAa1+0OSXTDxwoYkEGKjDBQuGMeUDlSbyugohARQwYk14w4l04jkxwI34AhoQ//NoxC0z+rZ4BNZS3oACOLAKazIkwo212GYdmsquGeNWW3KaJP7SQ9Gn+lcO1Wsy+ih59WqNTWqBSFCk0jFGVE6UDOC/MtvY463Z5jhGrNW9EpdTW3Bcl2ouw1UqxY5XhqXv8iFRpXCElrCpLWrNbKkUpJocuo1L1+sKorCpEKi4ZwqjFNCEgDRUlxCyqhjlLPWRIpoUIphqbLCJbR//g1VI1NkTAdK1h2GlAyGhEp4gCb0pzXcFBMAQwoTAyAzqYQaQVzAykaFrAjwUwYgKGy/C3AUFMi0I//NoxCguu+JAHNMG/J2iQAgT3S+ccoxRB0CStSJMBzR+kLi/MefQjNEjspXO8+4zQ9bAaSoisu1QWnX8ghgdu4/kNbO3pdiPVW7AngeSlhw5YiQywvco3KJrK216VB1SrMoVQqmyrRImksZapYCTEGIyIqTPVWZnDgYVGxnI4bD8ElBORxDK3yz9ON+d2J0Fe9gr6RBnTKiKjEpYaTrO29JoqwtxAA4KJBg5pDxk1OTlcNtoWaXTHlzNDLuqyOZFtTNi1KaWlmYzGbMppH+lTWp2ZluOWROc//NoxDgp84YUAsmHNdi5NI8iiDLKXBJwY89Vo+WdsNCeRjcOmcnHhKTUZFBX0iVCRxJKtNI1RyVb/O01VVX6pfAICCk3GPuzHDVVPjagKqeoCoVSiqAgICUZlX/gYUTCmbY1Y9fVeMdVSVddS4BCgUV+WKI6FChPN+M8FBVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVMQU1FMy4xMDBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV//NoxDQAAANIAAAAAFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVV",vV="/Sound/assets/true-C-5Q8E1-.mp3",pV="/Sound/assets/false-bIwhu0Ou.mp3",fV={class:"main-container"},bV={class:"header"},gV={class:"dialog-footer"},mV={class:"demo-container"},kV={class:"col",style:{"overflow-y":"auto"}},CV={key:0,class:"btn"},yV={key:0,class:"voice-item",style:{opacity:"0.5",cursor:"not-allowed","border-bottom-width":"2px"}},wV={key:1,class:"btn",style:{"background-color":"#ffdfe0"}},xV={style:{display:"flex","flex-direction":"row","align-items":"center",gap:"20px"}},UV={class:"report"},BV={class:"feedback-dialog"},QV={class:"dialog-footer"},hV={key:2,class:"btn",style:{"background-color":"#ccf2af"}},NV={style:{display:"flex","flex-direction":"row","align-items":"center",gap:"20px"}},RV={class:"report"},FV={class:"feedback-dialog"},SV={class:"dialog-footer"},DV={__name:"Practise",setup(y){const B=oV(),{difficulty:Q}=tV(),i=l(0),v=l(!1),u=l(!1),w=()=>{B.push("/teach")},f=new Audio(vV),b=new Audio(pV),x=[AV],k=l(!0),A=l(null),C=l(0),r=l(!1),a=l(!1),X=J([{value:1,label:"我的答案不应被接受"},{value:2,label:"音频听起来不正确"},{value:3,label:"缺少音频"},{value:4,label:"其他问题"}]),q=J([{value:1,label:"应该接受我的答案"},{value:2,label:"音频听起来不正确"},{value:3,label:"缺少音频"},{value:4,label:"其他问题"}]),W=l([]),M=l([]),P=l([{audioURL:uV,practiseWord:"tall"},{audioURL:cV,practiseWord:"pet"}]),U=l(1),Y=()=>{I.value?(A.value=1,f.play()):(A.value=0,b.play()),u.value=!u.value},K=()=>{const p=new Event("clear-selection");window.dispatchEvent(p),U.value%4!==0?U.value++:(U.value++,C.value=(C.value+1)%x.length),k.value=!0,i.value+=10,A.value=null,u.value=!u.value},I=l(!1),Z=p=>{k.value=!1,I.value=p};return j(i,p=>{p>=100&&B.push("/teach/success")}),(p,V)=>{const h=m("el-icon"),H=m("el-slider"),g=m("el-button"),N=m("el-dialog"),T=m("el-checkbox"),z=m("el-checkbox-group");return n(),d("div",fV,[e("div",bV,[t(h,{size:"30",style:{cursor:"pointer"},onClick:V[0]||(V[0]=o=>v.value=!0)},{default:s(()=>[t(S(O))]),_:1}),t(H,{modelValue:i.value,"onUpdate:modelValue":V[1]||(V[1]=o=>i.value=o),min:"0",max:"100",step:1,"show-tooltip":!1,"show-button":!1,size:"large"},null,8,["modelValue"]),t(N,{modelValue:v.value,"onUpdate:modelValue":V[4]||(V[4]=o=>v.value=o),width:"30%","align-center":"","show-close":!1},{footer:s(()=>[e("span",gV,[t(g,{color:"#f4f4f5",plain:"",style:{color:"black",border:"#e4e4e7 1px solid"},onClick:V[2]||(V[2]=o=>v.value=!1)},{default:s(()=>V[15]||(V[15]=[c("取消")])),_:1}),t(g,{color:"black",onClick:V[3]||(V[3]=o=>{v.value=!1,w()})},{default:s(()=>V[16]||(V[16]=[c(" 确认 ")])),_:1})])]),default:s(()=>[V[17]||(V[17]=e("div",{style:{"font-size":"large",color:"black","font-weight":"600","margin-bottom":"10px"}},"退出练习",-1)),V[18]||(V[18]=e("div",{class:"dialog"}," 退出后不会保留进度 ",-1))]),_:1},8,["modelValue"])]),e("div",mV,[e("div",kV,[(n(),F(VV(x[C.value]),{dataItem:P.value[U.value-1],shouldShowWord:u.value,onOptionSelected:Z},null,40,["dataItem","shouldShowWord"]))])]),e("div",{class:"divide",style:eV({backgroundColor:A.value===null?"#e1e1e1":A.value===1?"#ccf2af":"#ffdfe0"})},null,4),A.value===null?(n(),d("div",CV,[k.value?(n(),d("div",yV," 检查 ")):(n(),d("div",{key:1,class:"voice-item",onClick:Y,style:{"border-color":"#57a500","background-color":"#52be02",color:"white"}}," 检查 "))])):R("",!0),A.value===0?(n(),d("div",wV,[e("div",xV,[t(h,{color:"#ea2b2b",size:"40",class:"myicon"},{default:s(()=>[t(S(O))]),_:1}),e("div",UV,[V[22]||(V[22]=e("div",{style:{color:"#ea2b2b","font-weight":"800","font-size":"25px"}},"还不太准确，再多听几次吧！",-1)),e("div",{class:"redbtn",onClick:V[5]||(V[5]=o=>a.value=!0)},V[19]||(V[19]=[e("div",{class:"flagred"},null,-1),c(" 报错 ")])),t(N,{modelValue:a.value,"onUpdate:modelValue":V[9]||(V[9]=o=>a.value=o),width:"20%","align-center":"","show-close":!1},{footer:s(()=>[e("span",QV,[t(g,{color:"#f4f4f5",plain:"",style:{color:"black",border:"#e4e4e7 1px solid"},onClick:V[7]||(V[7]=o=>a.value=!1)},{default:s(()=>V[20]||(V[20]=[c("取消")])),_:1}),t(g,{color:"black",onClick:V[8]||(V[8]=o=>{a.value=!1,p.visiblePopover=!1})},{default:s(()=>V[21]||(V[21]=[c(" 确认 ")])),_:1})])]),default:s(()=>[e("div",BV,[t(z,{modelValue:M.value,"onUpdate:modelValue":V[6]||(V[6]=o=>M.value=o),class:"checkbox-group"},{default:s(()=>[(n(!0),d(D,null,E(q,o=>(n(),F(T,{key:o.value,label:o.label,class:"checkbox-item"},null,8,["label"]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])])]),e("div",{class:"voice-item",onClick:K,style:{"border-color":"#ea2b2b","background-color":"#ff4b4b",color:"white"}}," 继续 ")])):R("",!0),A.value===1?(n(),d("div",hV,[e("div",NV,[t(h,{color:"#58a700",size:"40",class:"myicon"},{default:s(()=>[t(S(lV))]),_:1}),e("div",RV,[V[26]||(V[26]=e("div",{style:{color:"#58a700","font-weight":"800","font-size":"25px"}},"你练得一副好听力，厉害呀！",-1)),e("div",{class:"greenbtn",onClick:V[10]||(V[10]=o=>r.value=!0)},V[23]||(V[23]=[e("div",{class:"flaggreen"},null,-1),c(" 报错 ")])),t(N,{modelValue:r.value,"onUpdate:modelValue":V[14]||(V[14]=o=>r.value=o),width:"20%","align-center":"","show-close":!1},{footer:s(()=>[e("span",SV,[t(g,{color:"#f4f4f5",plain:"",style:{color:"black",border:"#e4e4e7 1px solid"},onClick:V[12]||(V[12]=o=>r.value=!1)},{default:s(()=>V[24]||(V[24]=[c("取消")])),_:1}),t(g,{color:"black",onClick:V[13]||(V[13]=o=>{r.value=!1,p.visiblePopover=!1})},{default:s(()=>V[25]||(V[25]=[c(" 确认 ")])),_:1})])]),default:s(()=>[e("div",FV,[t(z,{modelValue:W.value,"onUpdate:modelValue":V[11]||(V[11]=o=>W.value=o),class:"checkbox-group"},{default:s(()=>[(n(!0),d(D,null,E(X,o=>(n(),F(T,{key:o.value,label:o.label,class:"checkbox-item"},null,8,["label"]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])])]),e("div",{class:"voice-item",onClick:K,style:{"border-color":"#57a500","background-color":"#52be02",color:"white"}}," 继续 ")])):R("",!0)])}}},IV=L(DV,[["__scopeId","data-v-da85afb2"]]);export{IV as default};
