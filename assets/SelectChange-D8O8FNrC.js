import{_ as A,r as B,N as F,u as R,q as G,a as f,z as n,o,B as E,b as d,I as w,J as T,c as V,w as u,d as s,A as a,f as U,C as H,e as j,D as Q,F as X,K as q,n as K,a5 as Y}from"./index-BlERzmq0.js";import{t as Z}from"./time-tY07ncrd.js";import{a as W}from"./sound-BznpVhuQ.js";const ee={key:0},se=["onClick"],te={class:"voice-detail"},le={class:"display-detail"},oe={class:"display-detail"},ie={style:{display:"flex","flex-direction":"row",gap:"10px",cursor:"pointer"}},ne={class:"display-detail"},ae={class:"audio-samples"},ce={class:"samples-content"},de={class:"samples-index"},ue={class:"sample-btn"},re=["src"],pe=["src"],ve=["onClick"],_e=["onClick"],me={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},fe={class:"tag1"},ke={key:0,class:"tag2",style:{"margin-left":"5px"}},ye={class:"voice-sample"},ge={class:"sample-btn"},Ce=["onClick"],he=["onClick"],Ie={style:{width:"50%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","font-size":"small"}},be={class:"btns"},Se={class:"btns-plus"},Le={class:"button"},we={class:"number"},$e={class:"button"},xe=["onClick"],Ve={class:"number"},Ue={class:"button"},Te=["onClick"],Ne=["onClick"],Pe={class:"number"},ze={class:"button"},De=["onClick"],Be=["onClick"],Ee={class:"button"},je={class:"number"},qe={__name:"SoundItem",props:{nameValue:{type:String,default:""},sortValue:{type:String},languageValue:{type:String},tagValue:{type:String},col1:{type:String,default:"4"},col2:{type:String,default:"20"}},setup(b){const k=b,g=B([{voiceId:1,userName:"fc",voiceImage:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",voiceName:"55",voiceDescription:"1212",voiceCreationTime:new Date(2025,1,9,19,11),voiceUseCount:11e4,voiceShareCount:11,voiceLikeCount:20,voiceCollectCount:10,voiceLanguage:"ch",voiceTag:"aaaaaaaaa",voiceIsUsed:!1,voiceIsShared:!1,voiceIsLiked:!1,voiceIsUnliked:!1,voiceIsCollected:!1,voiceSamples:[{sampleId:1,sampleIsPlaying:!1,sampleTitle:"Default Sample",sampleText:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",sampleUrl:W},{sampleId:2,sampleIsPlaying:!1,sampleTitle:"可以让父母",sampleText:"对侧人防热非人发热功耗一节课iklo",sampleUrl:W}]}]),C=F(()=>{let e=g.value.filter(t=>t.voiceName.includes(k.nameValue));return k.tagValue!==""&&(e=e.filter(t=>t.voiceTag===k.tagValue)),k.languageValue!=="1"&&(e=e.filter(t=>t.voiceLanguage===k.languageValue)),k.sortValue==="2"?e.sort((t,_)=>new Date(_.voiceCreationTime)-new Date(t.voiceCreationTime)):k.sortValue==="1"&&e.sort((t,_)=>_.voiceUseCount-t.voiceUseCount),e}),h=R(),$=e=>{h.push({path:"/detail",query:{id:e}})},N=e=>{h.push({path:"/explanation",query:{id:e}})};function S(e){if(typeof e!="number"||isNaN(e))return e;const t=1e3;return e>=t*10?(e/t).toFixed(2)+"K":e}const v=G({}),r=(e,t)=>{const _=g.value.find(c=>c.voiceId===e);if(!_)return;const y=_.voiceSamples[t],m=`${e}-${t}`;if(v[m]){const c=v[m];y.sampleIsPlaying?c.pause():(Object.values(v).forEach(L=>L.pause()),c.play())}else{const c=new Audio(y.sampleUrl);v[m]=c,c.addEventListener("ended",()=>{y.sampleIsPlaying=!1}),c.play()}y.sampleIsPlaying=!y.sampleIsPlaying,_.voiceSamples.forEach((c,L)=>{L!==t&&(c.sampleIsPlaying=!1)})},P=e=>{const t=g.value.findIndex(m=>m.voiceId===e);g.value[t].voiceIsShared===!1&&(g.value[t].voiceIsShared=!0,g.value[t].voiceShareCount++);const y=`${window.location.href}?id=${e}`;navigator.clipboard.writeText(y).then(async()=>{q({message:"已复制到剪贴板",position:"bottom-right"})}).catch(m=>{q({message:`复制失败: ${m.message}`,position:"bottom-right",type:"error"})})},x=async e=>{e.voiceIsLiked===1?(e.voiceIsLiked=0,e.voiceLikeCount--):(e.voiceIsLiked===2&&(e.voiceIsUnliked=!1),e.voiceIsLiked=1,e.voiceLikeCount++),e.voiceId,e.voiceLikeCount},p=async e=>{e.voiceIsLiked===2?(e.voiceIsLiked=0,e.voiceIsUnliked=!1):(e.voiceIsLiked===1&&(e.voiceLikeCount--,e.voiceIsLiked=0),e.voiceIsLiked=2,e.voiceIsUnliked=!0),e.voiceId,e.voiceLikeCount},z=async e=>{e.voiceIsCollected=!e.voiceIsCollected,e.voiceIsCollected?e.voiceCollectCount++:e.voiceCollectCount--,e.voiceId,e.voiceCollectCount};return(e,t)=>{const _=f("el-empty"),y=f("el-image"),m=f("el-col"),c=f("el-icon"),L=f("el-card"),M=f("el-popover"),O=f("el-button"),J=f("el-row");return o(),n(w,null,[C.value.length===0?(o(),n("div",ee,[d(_,{description:"暂无数据"})])):E("",!0),(o(!0),n(w,null,T(C.value,l=>(o(),V(J,{key:l.voiceId,class:"voice-item"},{default:u(()=>[d(m,{span:b.col1==="4"?4:3},{default:u(()=>[d(y,{style:{width:"100px",height:"100px","border-radius":"15px"},src:l.voiceImage,fit:"cover"},null,8,["src"])]),_:2},1032,["span"]),d(m,{span:b.col2==="20"?20:21},{default:u(()=>[s("div",{class:"voice-name",onClick:i=>$(l.voiceId)},a(l.voiceName),9,se),s("div",te,[s("span",le,a(l.userName),1),t[3]||(t[3]=s("div",{class:"dot"},null,-1)),d(c,{size:"20",style:{color:"#6b7280"}},{default:u(()=>[d(U(H))]),_:1}),s("span",oe,a(U(Z)(l.voiceCreationTime)),1),t[4]||(t[4]=s("div",{class:"dot"},null,-1)),d(M,{placement:"bottom",width:400,trigger:"click"},{reference:u(()=>[s("div",ie,[t[0]||(t[0]=s("div",{class:"logo"},null,-1)),s("span",ne,a(l.voiceSamples.length)+" 音频示例",1)])]),default:u(()=>[s("div",ae,[t[2]||(t[2]=s("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(o(!0),n(w,null,T(l.voiceSamples,(i,I)=>(o(),V(L,{key:I,class:"samples-item",shadow:"never"},{default:u(()=>[s("div",ce,[s("div",null,[s("span",de,a(I+1),1),s("span",null,a(i.sampleTitle),1)]),s("div",ue,[s("audio",null,[s("source",{src:i.sampleUrl,type:"audio/mp4"},null,8,re),s("source",{src:i.sampleUrl,type:"audio/x-m4a"},null,8,pe),t[1]||(t[1]=j(" 浏览器不支持音频播放 "))]),i.sampleIsPlaying?(o(),n("div",{key:1,class:"on",onClick:D=>{r(l.voiceId,I),i.sampleIsPlaying=!1}},null,8,_e)):(o(),n("div",{key:0,class:"close",onClick:D=>{r(l.voiceId,I),i.sampleIsPlaying=!0}},null,8,ve))])]),s("div",me,a(i.sampleText),1)]),_:2},1024))),128))])]),_:2},1024),t[5]||(t[5]=s("div",{class:"dot"},null,-1)),s("div",fe,a(l.voiceLanguage),1),l.voiceTag!==""?(o(),n("div",ke,a(l.voiceTag),1)):E("",!0)]),s("div",ye,[(o(!0),n(w,null,T(l.voiceSamples,(i,I)=>(o(),n("div",{key:I,class:"voice-sample-item"},[s("div",ge,[i.sampleIsPlaying?(o(),n("div",{key:1,class:"on-plus",onClick:D=>r(l.voiceId,I)},null,8,he)):(o(),n("div",{key:0,class:"close-plus",onClick:D=>r(l.voiceId,I)},null,8,Ce))]),s("div",Ie,a(i.sampleText),1)]))),128))]),s("div",be,[d(O,{size:"large",color:"black",onClick:i=>N(l.voiceId)},{default:u(()=>t[6]||(t[6]=[j("使用声音")])),_:2},1032,["onClick"]),s("div",Se,[s("div",Le,[t[7]||(t[7]=s("div",{class:"used"},null,-1)),s("div",we,a(S(l.voiceUseCount))+" Used ",1)]),s("div",$e,[s("div",{class:"shared",onClick:i=>P(l.voiceId)},null,8,xe),s("div",Ve,a(S(l.voiceShareCount))+" Shares ",1)]),s("div",Ue,[l.voiceIsLiked===1?(o(),n("div",{key:0,class:"likefill",onClick:i=>x(l)},null,8,Te)):(o(),n("div",{key:1,class:"like",onClick:i=>x(l)},null,8,Ne)),s("div",Pe,a(S(l.voiceLikeCount)),1)]),s("div",ze,[l.voiceIsLiked===2?(o(),n("div",{key:0,class:"unlikefill",onClick:i=>p(l)},null,8,De)):(o(),n("div",{key:1,class:"unlike",onClick:i=>p(l)},null,8,Be))]),s("div",Ee,[l.voiceIsCollected?(o(),V(c,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:i=>z(l)},{default:u(()=>[d(U(X))]),_:2},1032,["onClick"])):(o(),V(c,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:i=>z(l)},{default:u(()=>[d(U(Q))]),_:2},1032,["onClick"])),s("div",je,a(S(l.voiceCollectCount)),1)])])])]),_:2},1032,["span"])]),_:2},1024))),128))],64)}}},Ge=A(qe,[["__scopeId","data-v-3001c98b"]]),Ke={class:"custom-select"},We={class:"options-wrapper"},Ae=["onClick"],Fe={style:{"margin-left":"20px"}},Me={__name:"SelectChange",props:{options:{type:Array,default:()=>[{value:"1",label:"选项1"},{value:"2",label:"选项2"},{value:"3",label:"选项3"}]},inputWidth:{type:String,default:"240px"}},emits:["update:value"],setup(b,{emit:k}){const g=b,C=B(""),h=B(!1),$=k,N=F(()=>g.options.filter(v=>v.label.includes(C.value))),S=v=>{C.value=v.label,h.value=!1,$("update:value",v.value)};return(v,r)=>{const P=f("el-input"),x=f("el-popover");return o(),n("div",Ke,[d(x,{visible:h.value,placement:"bottom",width:b.inputWidth},{reference:u(()=>[d(P,{modelValue:C.value,"onUpdate:modelValue":r[0]||(r[0]=p=>C.value=p),clearable:"",placeholder:"请选择",style:Y({width:b.inputWidth}),onClick:r[1]||(r[1]=p=>h.value=!h.value),onClear:r[2]||(r[2]=p=>$("update:value","")),class:K({focused:h.value})},null,8,["modelValue","style","class"])]),default:u(()=>[s("div",We,[(o(!0),n(w,null,T(N.value,p=>(o(),n("div",{key:p.value,class:K(["option-item",{selected:C.value===p.value}]),onClick:z=>S(p)},[s("div",Fe,a(p.label),1)],10,Ae))),128))])]),_:1},8,["visible","width"])])}}},He=A(Me,[["__scopeId","data-v-e0dd4646"]]);export{He as M,Ge as S};
