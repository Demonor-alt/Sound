import{_ as K,r as N,P as A,u as H,z as Q,B as R,b as y,C as i,o,E as z,e as r,K as w,L as U,c as V,a as p,f as e,D as c,h as u,F as J,g as D,G as X,H as Y,M as E,n as B,a6 as Z}from"./index-mfDXIwSj.js";import{t as ee,f as T}from"./Select-DYIqyq0u.js";import{e as se,t as M,a as j,b as W}from"./actions-Wgz2O3dh.js";import{a as q}from"./sound-BznpVhuQ.js";const te={key:0},le=["onClick"],oe={class:"voice-detail"},ae={class:"display-detail"},ne={class:"display-detail"},ie={style:{display:"flex","flex-direction":"row",gap:"10px",cursor:"pointer"}},ce={class:"display-detail"},de={class:"audio-samples"},ue={class:"samples-content"},re={class:"samples-index"},pe={class:"sample-btn"},ve=["src"],_e=["src"],me=["onClick"],fe=["onClick"],ge={style:{"font-size":"small",color:"#71717a","padding-top":"10px"}},ye={class:"tag1"},he={key:0,class:"tag2",style:{"margin-left":"5px"}},ke={class:"voice-sample"},Ce={class:"sample-btn"},be=["onClick"],Ie=["onClick"],Se={style:{width:"50%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis","font-size":"small"}},$e={class:"btns"},we={class:"btns-plus"},xe={class:"button"},Ve={class:"number"},Te={class:"button"},Ue=["onClick"],Pe={class:"number"},Le={class:"button"},Ne=["onClick"],ze=["onClick"],De={class:"number"},Ee={class:"button"},Be=["onClick"],Me=["onClick"],je={class:"button"},We={class:"number"},qe={__name:"SoundItem",props:{nameValue:{type:String,default:""},sortValue:{type:String},languageValue:{type:String},tagValue:{type:String},col1:{type:String,default:"4"},col2:{type:String,default:"20"},path:{type:String,default:"explanation"}},setup(I){const v=I,_=N([{voiceId:1,userName:"fc",voiceImage:"http://yiyangqianxihsdkhejknfnbhuyjwes.online/975adcd7-15bf-44d4-a440-be2fbc972af1.jpg",voiceName:"55",voiceDescription:"1212",voiceCreationTime:new Date(2025,1,9,19,11),voiceUseCount:11e4,voiceShareCount:11,voiceLikeCount:20,voiceCollectCount:10,voiceLanguage:"ch",voiceTag:"aaaaaaaaa",voiceIsUsed:!1,voiceIsShared:!1,voiceIsLiked:!1,voiceIsUnliked:!1,voiceIsCollected:!1,voiceSamples:[{sampleId:1,sampleIsPlaying:!1,sampleTitle:"Default Sample",sampleText:"哈哈哈笑死我了，这也太搞笑了吧！我靠我靠，这是什么神仙操作啊，太离谱了哩咯。笑得我肚子疼，这也太逗了吧，绝了绝了！",sampleUrl:q},{sampleId:2,sampleIsPlaying:!1,sampleTitle:"可以让父母",sampleText:"对侧人防热非人发热功耗一节课iklo",sampleUrl:q}]}]),h=A(()=>{let l=_.value.filter(s=>s.voiceName.includes(v.nameValue));return v.tagValue!==""&&(l=l.filter(s=>s.voiceTag===v.tagValue)),v.languageValue!=="1"&&(l=l.filter(s=>s.voiceLanguage===v.languageValue)),v.sortValue==="2"?l.sort((s,a)=>new Date(a.voiceCreationTime)-new Date(s.voiceCreationTime)):v.sortValue==="1"&&l.sort((s,a)=>a.voiceUseCount-s.voiceUseCount),l}),k=H(),x=l=>{k.push({path:"/detail",query:{id:l}})},P=l=>{k.push({path:`/${v.path}`,query:{id:l}})},S=Q({}),m=(l,s)=>{const a=_.value.find(d=>d.voiceId===l);if(!a)return;const f=a.voiceSamples[s],g=`${l}-${s}`;if(S[g]){const d=S[g];f.sampleIsPlaying?d.pause():(Object.values(S).forEach($=>$.pause()),d.play())}else{const d=new Audio(f.sampleUrl);S[g]=d,d.addEventListener("ended",()=>{f.sampleIsPlaying=!1}),d.play()}f.sampleIsPlaying=!f.sampleIsPlaying,a.voiceSamples.forEach((d,$)=>{$!==s&&(d.sampleIsPlaying=!1)})};R(async()=>{let l=await se();_.value=l.data,_.value.forEach(s=>{s.voiceIsShared=!1})});const C=l=>{const s=_.value.findIndex(g=>g.voiceId===l);_.value[s].voiceIsShared===!1&&(_.value[s].voiceIsShared=!0,_.value[s].voiceShareCount++);const f=`${window.location.href}?id=${l}`;navigator.clipboard.writeText(f).then(async()=>{E({message:"已复制到剪贴板",position:"bottom-right"})}).catch(g=>{E({message:`复制失败: ${g.message}`,position:"bottom-right",type:"error"})})};return(l,s)=>{const a=y("el-empty"),f=y("el-image"),g=y("el-col"),d=y("el-icon"),$=y("el-card"),F=y("el-popover"),O=y("el-button"),G=y("el-row");return o(),i(w,null,[h.value.length===0?(o(),i("div",te,[r(a,{description:"暂无数据"})])):z("",!0),(o(!0),i(w,null,U(h.value,t=>(o(),V(G,{key:t.voiceId,class:"voice-item"},{default:p(()=>[r(g,{span:I.col1==="4"?4:3},{default:p(()=>[r(f,{style:{width:"100px",height:"100px","border-radius":"15px"},src:t.voiceImage,fit:"cover"},null,8,["src"])]),_:2},1032,["span"]),r(g,{span:I.col2==="20"?20:21},{default:p(()=>[e("div",{class:"voice-name",onClick:n=>x(t.voiceId)},c(t.voiceName),9,le),e("div",oe,[e("span",ae,c(t.userName),1),s[3]||(s[3]=e("div",{class:"dot"},null,-1)),r(d,{size:"20",style:{color:"#6b7280"}},{default:p(()=>[r(u(J))]),_:1}),e("span",ne,c(u(ee)(t.voiceCreationTime)),1),s[4]||(s[4]=e("div",{class:"dot"},null,-1)),r(F,{placement:"bottom",width:400,trigger:"click"},{reference:p(()=>[e("div",ie,[s[0]||(s[0]=e("div",{class:"logo"},null,-1)),e("span",ce,c(t.voiceSamples.length)+" 音频示例",1)])]),default:p(()=>[e("div",de,[s[2]||(s[2]=e("span",{style:{"font-size":"large","font-weight":"800",color:"black"}},"示例",-1)),(o(!0),i(w,null,U(t.voiceSamples,(n,b)=>(o(),V($,{key:b,class:"samples-item",shadow:"never"},{default:p(()=>[e("div",ue,[e("div",null,[e("span",re,c(b+1),1),e("span",null,c(n.sampleTitle),1)]),e("div",pe,[e("audio",null,[e("source",{src:n.sampleUrl,type:"audio/mp4"},null,8,ve),e("source",{src:n.sampleUrl,type:"audio/x-m4a"},null,8,_e),s[1]||(s[1]=D(" 浏览器不支持音频播放 "))]),n.sampleIsPlaying?(o(),i("div",{key:1,class:"on",onClick:L=>{m(t.voiceId,b),n.sampleIsPlaying=!1}},null,8,fe)):(o(),i("div",{key:0,class:"close",onClick:L=>{m(t.voiceId,b),n.sampleIsPlaying=!0}},null,8,me))])]),e("div",ge,c(n.sampleText),1)]),_:2},1024))),128))])]),_:2},1024),s[5]||(s[5]=e("div",{class:"dot"},null,-1)),e("div",ye,c(t.voiceLanguage),1),t.voiceTag!==""?(o(),i("div",he,c(t.voiceTag),1)):z("",!0)]),e("div",ke,[(o(!0),i(w,null,U(t.voiceSamples,(n,b)=>(o(),i("div",{key:b,class:"voice-sample-item"},[e("div",Ce,[n.sampleIsPlaying?(o(),i("div",{key:1,class:"on-plus",onClick:L=>m(t.voiceId,b)},null,8,Ie)):(o(),i("div",{key:0,class:"close-plus",onClick:L=>m(t.voiceId,b)},null,8,be))]),e("div",Se,c(n.sampleText),1)]))),128))]),e("div",$e,[r(O,{size:"large",color:"black",onClick:n=>P(t.voiceId)},{default:p(()=>s[6]||(s[6]=[D("使用声音")])),_:2},1032,["onClick"]),e("div",we,[e("div",xe,[s[7]||(s[7]=e("div",{class:"used"},null,-1)),e("div",Ve,c(u(T)(t.voiceUseCount))+" Used ",1)]),e("div",Te,[e("div",{class:"shared",onClick:n=>C(t.voiceId)},null,8,Ue),e("div",Pe,c(u(T)(t.voiceShareCount))+" Shares ",1)]),e("div",Le,[t.voiceIsLiked===1?(o(),i("div",{key:0,class:"likefill",onClick:n=>u(M)(t)},null,8,Ne)):(o(),i("div",{key:1,class:"like",onClick:n=>u(M)(t)},null,8,ze)),e("div",De,c(u(T)(t.voiceLikeCount)),1)]),e("div",Ee,[t.voiceIsLiked===2?(o(),i("div",{key:0,class:"unlikefill",onClick:n=>u(j)(t)},null,8,Be)):(o(),i("div",{key:1,class:"unlike",onClick:n=>u(j)(t)},null,8,Me))]),e("div",je,[t.voiceIsCollected?(o(),V(d,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:n=>u(W)(t)},{default:p(()=>[r(u(Y))]),_:2},1032,["onClick"])):(o(),V(d,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:n=>u(W)(t)},{default:p(()=>[r(u(X))]),_:2},1032,["onClick"])),e("div",We,c(u(T)(t.voiceCollectCount)),1)])])])]),_:2},1032,["span"])]),_:2},1024))),128))],64)}}},Xe=K(qe,[["__scopeId","data-v-b32cd01b"]]),Ke={class:"custom-select"},Ae={class:"options-wrapper"},Fe=["onClick"],Oe={style:{"margin-left":"20px"}},Ge={__name:"SelectChange",props:{options:{type:Array,default:()=>[{value:"1",label:"选项1"},{value:"2",label:"选项2"},{value:"3",label:"选项3"}]},inputWidth:{type:String,default:"240px"}},emits:["update:value"],setup(I,{emit:v}){const _=I,h=N(""),k=N(!1),x=v,P=A(()=>_.options.filter(m=>m.label.includes(h.value))),S=m=>{h.value=m.label,k.value=!1,x("update:value",m.value)};return(m,C)=>{const l=y("el-input"),s=y("el-popover");return o(),i("div",Ke,[r(s,{visible:k.value,placement:"bottom",width:I.inputWidth},{reference:p(()=>[r(l,{modelValue:h.value,"onUpdate:modelValue":C[0]||(C[0]=a=>h.value=a),clearable:"",placeholder:"请选择",style:Z({width:I.inputWidth}),onClick:C[1]||(C[1]=a=>k.value=!k.value),onClear:C[2]||(C[2]=a=>x("update:value","")),class:B({focused:k.value})},null,8,["modelValue","style","class"])]),default:p(()=>[e("div",Ae,[(o(!0),i(w,null,U(P.value,a=>(o(),i("div",{key:a.value,class:B(["option-item",{selected:h.value===a.value}]),onClick:f=>S(a)},[e("div",Oe,c(a.label),1)],10,Fe))),128))])]),_:1},8,["visible","width"])])}}},Ye=K(Ge,[["__scopeId","data-v-382ee882"]]);export{Ye as M,Xe as S};
