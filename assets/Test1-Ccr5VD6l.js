import{u as p,r as m}from"./record.esm-B6aFkqri.js";import{r as e,B as g,A as _,C as t,f as d,E as c,D as R,o as a}from"./index-BxtT7CNJ.js";const y=["src"],k={key:2},B={__name:"Test1",setup(h){const u=e(!1),i=e(null),r=e(null),o=e(null),s=e(""),n=e("");g(()=>{r.value=p.create({container:i.value,waveColor:"#1cb0f6",progressColor:"#1cb0f6",height:100,barWidth:10,barRadius:2,cursorWidth:0}),o.value=r.value.registerPlugin(m.create({scrollingWaveform:!1})),o.value.on("record-end",l=>{s.value=URL.createObjectURL(l),n.value=l.type.split(";")[0].split("/")[1]||"webm"})}),_(()=>{r.value&&r.value.destroy()});const v=async()=>{await o.value.startRecording(),u.value=!0},f=()=>{o.value.stopRecording()};return(l,C)=>(a(),t("div",null,[d("div",{ref_key:"waveformRef",ref:i},null,512),u.value?c("",!0):(a(),t("div",{key:0,onClick:v},"Start Recording")),d("button",{onClick:f},"Stop Recording"),s.value?(a(),t("audio",{key:1,src:s.value,controls:""},null,8,y)):c("",!0),n.value?(a(),t("p",k,"文件格式: "+R(n.value.toUpperCase()),1)):c("",!0)]))}};export{B as default};
