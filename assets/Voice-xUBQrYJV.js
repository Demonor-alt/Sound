import{_ as Be,r as n,q as Ee,X as Fe,z as E,A as r,d as l,b as t,w as s,a as c,e as p,f as a,M as b,Y as X,n as Y,c as C,Z as Re,C as z,J as qe,K as Ae,u as Oe,o as u,$ as je,B as m,D as Ke,F as Qe,G as Ge,a0 as Je,U as Z,N as We,a1 as Xe,a2 as Ye,a3 as Ze,a4 as H,P as ee,a5 as He}from"./index-DEQTe5qc.js";import{d as el,t as le,b as te,c as se,M as ll,S as tl}from"./SelectChange-d7fmenrY.js";import{C as sl,M as ol}from"./MySoundItem-5rWzi0TP.js";import{M as oe}from"./Input-BUYHYn7u.js";import{e as al}from"./mybank-KoUOgoNo.js";import{t as il,f as ae}from"./display-CBjJZ8vl.js";import{M as ie}from"./Select-DFeZ6bNk.js";import{i as ne}from"./request-DIp7hUCV.js";import"./sound-BznpVhuQ.js";import"./collect-C1nBqbAY.js";import"./token-0UZktHLV.js";const nl=()=>ne.get("/voice/query"),dl=F=>ne.post("/voice",F),ul={class:"row"},vl={class:"col1"},rl={class:"upload-section"},cl={class:"warning"},pl={class:"voice-selection"},ml={key:1,class:"select-output-section"},fl={class:"select-voice-name"},_l={class:"select-voice-detail"},gl={class:"display-detail"},yl={class:"display-detail"},hl={class:"tag1"},kl={key:0,class:"tag2",style:{"margin-left":"5px"}},bl={class:"select-btns"},wl={class:"btns-plus"},Vl={class:"button"},xl={class:"number"},Cl={class:"button"},zl={class:"button"},Sl={class:"number"},Ul={style:{display:"flex","flex-direction":"row",gap:"10px"}},Il={class:"my-header"},Nl=["id"],Tl={class:"action-sum"},Ml={style:{width:"155px"}},$l={class:"action-bar"},Ll={class:"content"},Pl={style:{display:"flex","justify-content":"center"}},Dl={style:{"max-height":"53vh","overflow-y":"auto"}},Bl={style:{"max-height":"53vh","overflow-y":"auto"}},El={style:{"max-height":"53vh","overflow-y":"auto"}},Fl={class:"advanced-settings"},Rl={class:"content-wrapper"},ql={class:"mode"},Al={class:"detail"},Ol={class:"demo-progress"},jl={class:"detail"},Kl={class:"demo-progress"},Ql={class:"build"},Gl={class:"col2"},Jl={key:0},Wl=["src"],Xl={key:2},Yl={class:"audio-item"},Zl=["src"],Hl=["src"],et={key:4},lt={__name:"Voice",setup(F){const R=Oe(),S=n(""),q=Ee(),A=q.query?q.query.id:void 0,g=n(),de=(o,e)=>{g.value=o.data.uploadPPTUrl},ue=()=>{g.value=void 0},ve=n();Fe(()=>R.currentRoute.value.fullPath,(o,e)=>{const x=o.match(/\?id=(\d+)/);x?S.value=x[1]:S.value="",h.value=!1,O(S)});const O=async o=>{let e=await al(o);d.value=e.data};E(async()=>{A&&O(A)});const re=()=>{R.push("/createbank")},j=n("first"),h=n(!1),K=n("#ffffff"),ce=n([{value:"1",label:"推荐"},{value:"2",label:"最新"}]),pe=n([{value:"1",label:"所有"},{value:"ch",label:"汉语"},{value:"en",label:"English"}]),Q=n();E(async()=>{let o=await el();Q.value=o.data});const U=n(""),I=n("1"),N=n(""),T=n(""),y=n(""),M=n("voice"),me=()=>{U.value="",I.value="1",N.value="",y.value=""},G=n("搜索声音..."),fe=o=>{U.value=o},_e=o=>{I.value=o},ge=o=>{T.value=o,console.log(T.value)};function J(o){y.value=o}const w=n(!1),d=n(),$=n(),L=n(),k=n(!1),P=n(!1),ye=()=>{k.value=!k.value},he=o=>{o.style.height="auto";const e=getComputedStyle(o).height;o.style.height="0",setTimeout(()=>{o.style.height=e},10)},ke=o=>{o.style.height="auto"},be=o=>{o.style.height=getComputedStyle(o).height},we=o=>{setTimeout(()=>{o.style.height="0"},10)},f=n(1),Ve=()=>{f.value=Number((f.value+.1).toFixed(1))},xe=()=>{f.value=Number((f.value-.1).toFixed(1))},_=n(1),Ce=()=>{_.value=Number((_.value+.1).toFixed(1))},ze=()=>{_.value=Number((_.value-.1).toFixed(1))},V=n(!1),Se=()=>{V.value=!0;const o={voiceId:d.value.voiceId,uploadVedioUrl:g.value,vedioMode:P.value,vedioSpeed:f.value,vedioVolume:_.value};setTimeout(async()=>{let e=await dl(o);L.value=e.data,V.value=!1},2e3)};return E(async()=>{let o=await nl();$.value=o.data}),(o,e)=>{const x=c("el-upload"),v=c("el-icon"),Ue=c("el-image"),D=c("el-col"),Ie=c("el-row"),Ne=c("el-popover"),B=c("el-tab-pane"),Te=c("el-tabs"),Me=c("el-switch"),W=c("el-slider"),$e=c("el-divider"),Le=c("el-empty");return u(),r("div",ul,[l("div",vl,[e[36]||(e[36]=l("h1",null,"视频变声",-1)),l("div",rl,[t(x,{ref_key:"upload",ref:ve,"auto-upload":!0,action:"/api/common/ppt",name:"file","on-success":de,"on-remove":ue,limit:1},{trigger:s(()=>[t(a(b),{color:"black",size:"large",type:"primary"},{default:s(()=>e[17]||(e[17]=[p("选择视频")])),_:1})]),_:1},512)]),l("div",cl,[t(v,{size:"12"},{default:s(()=>[t(a(je))]),_:1}),e[18]||(e[18]=p(" 视频质量取决于模型，为获得最佳效果，请使用高质量模型，严禁合成政治、色情、赌博、毒品等违法违规内容。 "))]),l("div",pl,[e[21]||(e[21]=l("div",{class:"text"},"语音声音",-1)),l("div",null,[e[20]||(e[20]=p("没有模型? ")),t(a(b),{link:"",onClick:re},{default:s(()=>e[19]||(e[19]=[p("一分钟创建")])),_:1})])]),d.value?(u(),r("div",ml,[t(Ie,{class:"select-voice-item"},{default:s(()=>[t(D,{span:4},{default:s(()=>[t(Ue,{style:{width:"80px",height:"80px","border-radius":"15px"},src:d.value.voiceImage,fit:"cover"},null,8,["src"])]),_:1}),t(D,{span:17},{default:s(()=>[l("div",fl,m(d.value.voiceName),1),l("div",_l,[l("span",gl,m(d.value.userName),1),e[23]||(e[23]=l("div",{class:"mydot"},null,-1)),t(v,{size:"20",style:{color:"#6b7280"}},{default:s(()=>[t(a(Ke))]),_:1}),l("span",yl,m(a(il)(d.value.voiceCreationTime)),1),e[24]||(e[24]=l("div",{class:"mydot"},null,-1)),l("div",hl,m(d.value.voiceLanguage),1),d.value.voiceTag!==""?(u(),r("div",kl,m(d.value.voiceTag),1)):z("",!0)]),l("div",bl,[l("div",wl,[l("div",Vl,[d.value.voiceIsLiked===1?(u(),r("div",{key:0,class:"likefill",onClick:e[1]||(e[1]=i=>a(le)(d.value))})):(u(),r("div",{key:1,class:"like",onClick:e[2]||(e[2]=i=>a(le)(d.value))})),l("div",xl,m(a(ae)(d.value.voiceLikeCount)),1)]),l("div",Cl,[d.value.voiceIsLiked===2?(u(),r("div",{key:0,class:"unlikefill",onClick:e[3]||(e[3]=i=>a(te)(d.value))})):(u(),r("div",{key:1,class:"unlike",onClick:e[4]||(e[4]=i=>a(te)(d.value))}))]),l("div",zl,[d.value.voiceIsCollected?(u(),C(v,{key:1,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[6]||(e[6]=i=>a(se)(d.value))},{default:s(()=>[t(a(Ge))]),_:1})):(u(),C(v,{key:0,size:"20",color:"#6b7280",style:{cursor:"pointer"},onClick:e[5]||(e[5]=i=>a(se)(d.value))},{default:s(()=>[t(a(Qe))]),_:1})),l("div",Sl,m(a(ae)(d.value.voiceCollectCount)),1)])])])]),_:1}),t(D,{span:3},{default:s(()=>[l("div",Ul,[t(v,{size:"28",style:{cursor:"pointer"},onClick:e[7]||(e[7]=i=>{h.value=!0})},{default:s(()=>[t(a(Je))]),_:1}),t(v,{size:"28",style:{cursor:"pointer"},onClick:e[8]||(e[8]=i=>d.value="")},{default:s(()=>[t(a(Z))]),_:1})])]),_:1})]),_:1})])):(u(),r("div",{key:0,class:"output-section",onClick:e[0]||(e[0]=i=>h.value=!0)},e[22]||(e[22]=[l("div",{class:"add"},null,-1),l("div",{style:{"font-weight":"600"}},"选择语音声音",-1)]))),t(a(X),{modelValue:h.value,"onUpdate:modelValue":e[12]||(e[12]=i=>h.value=i),"show-close":!1},{header:s(({close:i,titleId:Pe,titleClass:De})=>[l("div",Il,[l("div",{style:{"font-weight":"600"},id:Pe,class:Y(De)},"选择语音",10,Nl),t(v,{style:{cursor:"pointer"},onClick:i},{default:s(()=>[t(a(Z))]),_:2},1032,["onClick"])])]),default:s(()=>[t(Te,{modelValue:j.value,"onUpdate:modelValue":e[11]||(e[11]=i=>j.value=i),class:"demo-tabs",onTabClick:me},{default:s(()=>[t(B,{label:"探索",name:"first"},{default:s(()=>[l("div",Tl,[l("div",Ml,[t(oe,{message:y.value,placeholder:G.value,"onUpdate:message":J},null,8,["message","placeholder"])]),l("div",$l,[e[28]||(e[28]=l("span",{class:"header-tip"},"排序",-1)),t(ie,{options:ce.value,"input-width":"155px",color:K.value,"onUpdate:value":fe},null,8,["options","color"]),e[29]||(e[29]=l("span",{class:"header-tip"},"语言",-1)),t(ie,{options:pe.value,"input-width":"155px",color:K.value,"onUpdate:value":_e},null,8,["options","color"]),t(Ne,{placement:"bottom",width:250,visible:w.value},{reference:s(()=>[t(a(b),{size:"large",class:"btn",onClick:e[9]||(e[9]=i=>w.value=!w.value)},{default:s(()=>[t(v,{size:"20",color:"black"},{default:s(()=>[t(a(We))]),_:1})]),_:1})]),default:s(()=>[l("div",Ll,[e[26]||(e[26]=l("div",{class:"content-header"},[l("span",{style:{"font-size":"large","font-weight":"600",color:"black"}},"筛选")],-1)),e[27]||(e[27]=l("div",null,"标签",-1)),t(ll,{options:Q.value,"input-width":"200px","onUpdate:value":ge},null,8,["options"]),l("div",Pl,[t(a(b),{color:"black",style:{width:"95%"},onClick:e[10]||(e[10]=i=>{w.value=!1,N.value=T.value})},{default:s(()=>e[25]||(e[25]=[p("应用")])),_:1})])])]),_:1},8,["visible"])])]),l("div",Dl,[t(tl,{path:M.value,nameValue:y.value,sortValue:U.value,languageValue:I.value,tagValue:N.value},null,8,["path","nameValue","sortValue","languageValue","tagValue"])])]),_:1}),t(B,{label:"收藏",name:"second"},{default:s(()=>[l("div",Bl,[t(sl,{path:M.value},null,8,["path"])])]),_:1}),t(B,{label:"我的语音",name:"third"},{default:s(()=>[t(oe,{message:y.value,placeholder:G.value,class:"action-bar","onUpdate:message":J,style:{width:"20%"}},null,8,["message","placeholder"]),l("div",El,[t(ol,{nameValue:y.value,path:M.value},null,8,["nameValue","path"])])]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue"]),l("div",Fl,[l("div",{class:Y(["toggle-button",{active:k.value}]),onClick:ye},[e[30]||(e[30]=l("span",{style:{"font-size":"large"}},"高级设置",-1)),k.value?(u(),C(v,{key:1},{default:s(()=>[t(a(Ye))]),_:1})):(u(),C(v,{key:0},{default:s(()=>[t(a(Xe))]),_:1}))],2),t(Re,{name:"expand",onEnter:he,onAfterEnter:ke,onBeforeLeave:be,onLeave:we},{default:s(()=>[Ze(l("div",Rl,[l("div",ql,[e[31]||(e[31]=l("div",{class:"detail"},[p(" 高品质模式 "),l("span",{style:{"font-size":"small"}},"生成更高品质的音频，但会增加延迟")],-1)),t(Me,{modelValue:P.value,"onUpdate:modelValue":e[13]||(e[13]=i=>P.value=i),class:"ml-2",style:{"--el-switch-on-color":"black","--el-switch-off-color":"#e4e7ed"}},null,8,["modelValue"])]),l("div",null,[l("div",Al,[p(" 语速("+m(f.value.toFixed(1))+"x) ",1),e[32]||(e[32]=l("span",{style:{"font-size":"small"}},"基于参考音频的语速进行调整",-1))]),l("div",Ol,[t(v,{size:"20",onClick:xe},{default:s(()=>[t(a(H))]),_:1}),t(W,{modelValue:f.value,"onUpdate:modelValue":e[14]||(e[14]=i=>f.value=i),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),t(v,{size:"20",onClick:Ve},{default:s(()=>[t(a(ee))]),_:1})])]),l("div",null,[l("div",jl,[p(" 音量("+m(_.value.toFixed(1))+") ",1),e[33]||(e[33]=l("span",{style:{"font-size":"small"}},"基于参考音频的音量进行调整",-1))]),l("div",Kl,[t(v,{size:"20",onClick:ze},{default:s(()=>[t(a(H))]),_:1}),t(W,{modelValue:_.value,"onUpdate:modelValue":e[15]||(e[15]=i=>_.value=i),min:0,max:3,"show-tooltip":!1,step:.1,style:{"margin-right":"10px"}},null,8,["modelValue"]),t(v,{size:"20",onClick:Ce},{default:s(()=>[t(a(ee))]),_:1})])])],512),[[He,k.value]])]),_:1})]),l("div",Ql,[t(a(b),{color:"black",onClick:Se},{default:s(()=>e[34]||(e[34]=[p("创建")])),_:1})]),t(a(X),{modelValue:V.value,"onUpdate:modelValue":e[16]||(e[16]=i=>V.value=i),"show-close":!1,width:"25%",title:"正在创建视频","align-center":""},{default:s(()=>e[35]||(e[35]=[l("div",{style:{margin:"20px"}},[l("div",{class:"loading-dots"},[l("span",{class:"dot dot1"}),l("span",{class:"dot dot2"}),l("span",{class:"dot dot3"})]),l("div",{style:{display:"flex","justify-content":"center",margin:"10px"}},"正在分析原视频")],-1)])),_:1},8,["modelValue"])]),t($e,{direction:"vertical",style:{height:"auto"}}),l("div",Gl,[g.value?(u(),r("h3",Jl,"原来的视频")):z("",!0),g.value?(u(),r("video",{key:1,src:g.value,controls:"",width:"100%",height:"250",style:{"border-radius":"10px",border:"1px solid #ddd"}},null,8,Wl)):z("",!0),L.value&&g.value?(u(),r("div",Xl,[e[37]||(e[37]=l("h3",null,"生成的视频",-1)),l("div",Yl,[l("video",{src:L.value.vedioURL,controls:"",width:"100%",height:"250",style:{"border-radius":"10px",border:"1px solid #ddd"}},null,8,Zl)])])):z("",!0),e[38]||(e[38]=l("h3",null,"最新活动",-1)),$.value?(u(!0),r(qe,{key:3},Ae($.value,i=>(u(),r("div",{key:i.vedioId,class:"audio-item"},[l("video",{src:i.vedioURL,controls:"",width:"100%",height:"250",style:{"border-radius":"10px",border:"1px solid #ddd"}},null,8,Hl)]))),128)):(u(),r("div",et,[t(Le,{description:"暂无数据"})]))])])}}},pt=Be(lt,[["__scopeId","data-v-7ddf4cab"]]);export{pt as default};
