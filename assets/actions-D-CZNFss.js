import{i as c}from"./request-eF-n3Hpj.js";import{N as n}from"./index-C4n_E3so.js";const d=()=>c.get("/discover"),l=e=>c.put("/collect/add",e),u=()=>c.get("/discover/tag"),k=e=>{e.voiceIsLiked===1?(e.voiceIsLiked=0,e.voiceLikeCount--):(e.voiceIsLiked===2&&(e.voiceIsUnliked=!1),e.voiceIsLiked=1,e.voiceLikeCount++)},p=e=>{e.voiceIsLiked===2?(e.voiceIsLiked=0,e.voiceIsUnliked=!1):(e.voiceIsLiked===1&&(e.voiceLikeCount--,e.voiceIsLiked=0),e.voiceIsLiked=2,e.voiceIsUnliked=!0)},g=async e=>{e.voiceIsCollected=!e.voiceIsCollected,e.voiceIsCollected?e.voiceCollectCount++:e.voiceCollectCount--;const o={voiceId:e.voiceId};let t=await l(o);console.log(t)},L=e=>{const t=`${window.location.href}?id=${e}`;navigator.clipboard.writeText(t).then(async()=>{n({message:"已复制到剪贴板",position:"bottom-right"})}).catch(s=>{n({message:`复制失败: ${s.message}`,position:"bottom-right",type:"error"})})},I=e=>{const o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="blob",o.onload=()=>{if(o.status===200){const t=new Blob([o.response],{type:"audio/mpeg"}),s=URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download="audio.mp3",i.click(),URL.revokeObjectURL(s)}},o.send()};export{p as a,g as b,I as c,u as d,d as e,L as o,k as t};
